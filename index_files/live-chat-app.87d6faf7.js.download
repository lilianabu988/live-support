((self||this)["webpackJsonp@sprinklr/chat-web-client"]=(self||this)["webpackJsonp@sprinklr/chat-web-client"]||[]).push([[72],{1008:function(e,t,n){"use strict";var o=n(386),a=n(677),r=n.n(a),i=n(13),c=n.n(i),s=n(82),l=n.n(s),d=n(123),u=n.n(d),p=n(505),b=n.n(p),f=n(1416),h=n.n(f),g=n(829),y=n.n(g),O=n(217),m=n.n(O),v=n(60),j=n.n(v),I=n(412),E=n(1265),C=n(126);t.a=(e,t)=>{const n=Object(o.useRef)(!1);n.current=c()(e);const{getValue:a,defaultValue:i=!0,logOnFailure:s=!1,logOnSuccess:d=!1,subscribe:p}=t,[f,g]=Object(o.useState)(0),O=Object(o.useRef)([void 0]),v=Object(o.useRef)(null);Object(o.useEffect)((()=>()=>{v.current&&u()(v.current,(e=>e&&e.clear()))}),[]),v.current=Object(o.useMemo)((()=>l()(e)?null:(v.current&&u()(v.current,(e=>e&&e.clear())),O.current=n.current?h()(y()(e),m()(void 0)):[],u()(b()(e),((e,t)=>{if(j()(e))return null;const n=e=>{O.current[t]=I.a.getField(e),g((e=>e+1))};return E.a.createFilterAction(e,{subscribe:(e,t)=>p(e,r()(n,e),t),getFilterBuilder:E.a.createFilterAction})})))),[e,a,p,g]);const S=Object(o.useMemo)((()=>v.current?u()(v.current,((e,t)=>e?(Object(C.a)(`--- Filter ${t} match start ---`,Date.now()),e.matches(a(),{logOnFailure:s,logOnSuccess:d})):!!i)):[!!i]),[e,a,i,f]);return Object(o.useMemo)((()=>n.current?u()(S,((e,t)=>({hasPassed:e,changeSource:O.current[t]}))):{hasPassed:!!S[0],changeSource:O.current[0]}),[S,O.current])}},1009:function(e,t,n){"use strict";var o=n(60),a=n.n(o);const r=e=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");t.a=(e,t)=>{if(a()(t))return!1;try{return new RegExp(`^${e.split(/\*+/).map(r).join(".*")}$`).test(t)}catch(n){return console.warn("Wrong wild card string in filter"),!1}}},1010:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=n(386),a=n.n(o),r=n(476),i=n.n(r),c=n(460),s=n.n(c),l=n(829),d=n.n(l),u=n(571),p=n(387);const b=a.a.createContext({}),f=Object(o.memo)((e=>{const{getValue:t,subscribe:n}=Object(u.a)(),a=t(),[r,c]=Object(o.useState)((()=>({pagesMetaData:{[a]:[{startTime:Date.now(),endTime:void 0}]},currentPageUrl:a})));return Object(o.useEffect)((()=>{const e=n("page-context-subscriber",(e=>{let{currentUrl:t,previousUrl:n}=e;c((e=>(e=>{let{prevPageContextValue:t,previousUrl:n,currentUrl:o}=e;const a=Date.now(),r=t.pagesMetaData,c=s()(i()(r[n]),{endTime:{$set:a}});return s()(t,{pagesMetaData:{[n]:{$splice:[[d()(r[n])-1,1,c]]},[o]:{$set:[...r[o]||[],{startTime:a,endTime:void 0}]}},currentPageUrl:{$set:o}})})({prevPageContextValue:e,previousUrl:n,currentUrl:t})))}));return()=>{e()}}),[]),Object(p.jsx)(b.Provider,{value:r},e.children)}));t.b=b},1011:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(386);t.useFirstMountState=function(){var e=o.useRef(!0);return e.current?(e.current=!1,!0):e.current}},1012:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var o=n(486),a=n.n(o),r=n(15);const i="spr-live-prompt-app",c=()=>{const e=Object(r.b)().document,t=e.querySelector(`#${i}`);if(t)return t;const n=e.createElement("div");return n.id=i,n.style.width="0",n.style.height="0",e.body.appendChild(n),n},s=()=>{const e=Object(r.b)().document.querySelector(`#${i}`);e&&a.a.unmountComponentAtNode(e)}},1013:function(e,t,n){"use strict";var o=n(386),a=n.n(o),r=n(416),i=n.n(r);const c=a.a.createContext([null,i.a]);t.a=c},1014:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(393);var o=n(386),a=n.n(o),r=n(416),i=n.n(r),c=n(387);const s=a.a.createContext({notification:void 0,setNotification:i.a}),l=e=>{const[t,n]=Object(o.useState)(void 0),a=Object(o.useMemo)((()=>({notification:t,setNotification:n})),[t,n]);return Object(c.jsx)(s.Provider,{value:a},e.children)};t.b=s},1015:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}(n(450)),a=c(n(386)),r=c(n(486)),i=n(1016);n(1017);function c(e){return e&&e.__esModule?e:{default:e}}var s="unmounted";t.UNMOUNTED=s;var l="exited";t.EXITED=l;var d="entering";t.ENTERING=d;var u="entered";t.ENTERED=u;var p="exiting";t.EXITING=p;var b=function(e){var t,n;function o(t,n){var o;o=e.call(this,t,n)||this;var a,r=n.transitionGroup,i=r&&!r.isMounting?t.enter:t.appear;return o.appearStatus=null,t.in?i?(a=l,o.appearStatus=d):a=u:a=t.unmountOnExit||t.mountOnEnter?s:l,o.state={status:a},o.nextCallback=null,o}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.getChildContext=function(){return{transitionGroup:null}},o.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:l}:null},i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==u&&(t=d):n!==d&&n!==u||(t=p)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,o=this.props.timeout;return e=t=n=o,null!=o&&"number"!==typeof o&&(e=o.exit,t=o.enter,n=void 0!==o.appear?o.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=r.default.findDOMNode(this);t===d?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:s})},i.performEnter=function(e,t){var n=this,o=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,r=this.getTimeouts(),i=a?r.appear:r.enter;t||o?(this.props.onEnter(e,a),this.safeSetState({status:d},(function(){n.props.onEntering(e,a),n.onTransitionEnd(e,i,(function(){n.safeSetState({status:u},(function(){n.props.onEntered(e,a)}))}))}))):this.safeSetState({status:u},(function(){n.props.onEntered(e)}))},i.performExit=function(e){var t=this,n=this.props.exit,o=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,o.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(e)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,t.nextCallback=null,e(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var o=null==t&&!this.props.addEndListener;e&&!o?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,o=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children"]);if(delete o.in,delete o.mountOnEnter,delete o.unmountOnExit,delete o.appear,delete o.enter,delete o.exit,delete o.timeout,delete o.addEndListener,delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,"function"===typeof n)return n(e,o);var r=a.default.Children.only(n);return a.default.cloneElement(r,o)},o}(a.default.Component);function f(){}b.contextTypes={transitionGroup:o.object},b.childContextTypes={transitionGroup:function(){}},b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},b.UNMOUNTED=0,b.EXITED=1,b.ENTERING=2,b.ENTERED=3,b.EXITING=4;var h=(0,i.polyfill)(b);t.default=h},1016:function(e,t,n){"use strict";function o(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function r(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,c=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?c="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(c="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==c){var s=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==c?"\n  "+c:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=o,t.componentWillReceiveProps=a),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=r;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,o)}}return e}n.r(t),n.d(t,"polyfill",(function(){return i})),o.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0},1017:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var o;(o=n(450))&&o.__esModule;t.timeoutsShape=null;t.classNamesShape=null},1018:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var o=c(n(450)),a=c(n(386)),r=n(1016),i=n(1427);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(e){var t,n;function o(t,n){var o,a=(o=e.call(this,t,n)||this).handleExited.bind(l(l(o)));return o.state={handleExited:a,firstRender:!0},o}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},r.componentDidMount=function(){this.appeared=!0,this.mounted=!0},r.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(e,t){var n=t.children,o=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,o):(0,i.getNextChildMapping)(e,n,o),firstRender:!1}},r.handleExited=function(e,t){var n=(0,i.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["component","childFactory"]),r=d(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?r:a.default.createElement(t,o,r)},o}(a.default.Component);u.childContextTypes={transitionGroup:o.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,r.polyfill)(u);t.default=p,e.exports=t.default},1019:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(12);function a(){return Object(o.w)()}},1020:function(e,t,n){var o={"./classic/pages":[1796,11,83],"./modern/pages":[1797,0,11,84]};function a(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(o)},a.id=1020,e.exports=a},1021:function(e,t,n){"use strict";var o=n(1022),a=n.n(o),r={},i=0,c=function(e,t){var n=""+t.end+t.strict+t.sensitive,o=r[n]||(r[n]={});if(o[e])return o[e];var c=[],s={re:a()(e,c,t),keys:c};return i<1e4&&(o[e]=s,i++),s};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var o=t,a=o.path,r=o.exact,i=void 0!==r&&r,s=o.strict,l=void 0!==s&&s,d=o.sensitive,u=void 0!==d&&d;if(null==a)return n;var p=c(a,{end:i,strict:l,sensitive:u}),b=p.re,f=p.keys,h=b.exec(e);if(!h)return null;var g=h[0],y=h.slice(1),O=e===g;return i&&!O?null:{path:a,url:"/"===a&&""===g?"/":g,isExact:O,params:f.reduce((function(e,t,n){return e[t.name]=y[n],e}),{})}}},1022:function(e,t,n){var o=n(1429);e.exports=b,e.exports.parse=r,e.exports.compile=function(e,t){return c(r(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=p;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(e,t){for(var n,o=[],r=0,i=0,c="",d=t&&t.delimiter||"/";null!=(n=a.exec(e));){var u=n[0],p=n[1],b=n.index;if(c+=e.slice(i,b),i=b+u.length,p)c+=p[1];else{var f=e[i],h=n[2],g=n[3],y=n[4],O=n[5],m=n[6],v=n[7];c&&(o.push(c),c="");var j=null!=h&&null!=f&&f!==h,I="+"===m||"*"===m,E="?"===m||"*"===m,C=n[2]||d,S=y||O;o.push({name:g||r++,prefix:h||"",delimiter:C,optional:E,repeat:I,partial:j,asterisk:!!v,pattern:S?l(S):v?".*":"[^"+s(C)+"]+?"})}}return i<e.length&&(c+=e.substr(i)),c&&o.push(c),o}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function c(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",u(t)));return function(t,a){for(var r="",c=t||{},s=(a||{}).pretty?i:encodeURIComponent,l=0;l<e.length;l++){var d=e[l];if("string"!==typeof d){var u,p=c[d.name];if(null==p){if(d.optional){d.partial&&(r+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(o(p)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var b=0;b<p.length;b++){if(u=s(p[b]),!n[l].test(u))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(u)+"`");r+=(0===b?d.prefix:d.delimiter)+u}}else{if(u=d.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(p),!n[l].test(u))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+u+'"');r+=d.prefix+u}}else r+=d}return r}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function u(e){return e&&e.sensitive?"":"i"}function p(e,t,n){o(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,r=!1!==n.end,i="",c=0;c<e.length;c++){var l=e[c];if("string"===typeof l)i+=s(l);else{var p=s(l.prefix),b="(?:"+l.pattern+")";t.push(l),l.repeat&&(b+="(?:"+p+b+")*"),i+=b=l.optional?l.partial?p+"("+b+")?":"(?:"+p+"("+b+"))?":p+"("+b+")"}}var f=s(n.delimiter||"/"),h=i.slice(-f.length)===f;return a||(i=(h?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?"),i+=r?"$":a&&h?"":"(?="+f+"|$)",d(new RegExp("^"+i,u(n)),t)}function b(e,t,n){return o(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var o=0;o<n.length;o++)t.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):o(e)?function(e,t,n){for(var o=[],a=0;a<e.length;a++)o.push(b(e[a],t,n).source);return d(new RegExp("(?:"+o.join("|")+")",u(n)),t)}(e,t,n):function(e,t,n){return p(r(e,n),t,n)}(e,t,n)}},1023:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var o=n(537),a=n(972),r=n(973);n(975);function i(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",o="",a=t.indexOf("#");-1!==a&&(o=t.substr(a),t=t.substr(0,a));var r=t.indexOf("?");return-1!==r&&(n=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===n?"":n,hash:"#"===o?"":o}}(e),i.state=t):(void 0===(i=Object(o.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(c){throw c instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):c}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Object(a.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function c(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(r.default)(e.state,t.state)}"undefined"===typeof window||!window.document||window.document.createElement},1024:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var o=n(386),a=n.n(o),r=n(416),i=n.n(r),c=n(832),s=n(387);const l={debug:i.a,info:i.a,error:i.a,warning:i.a,cleanup:i.a},d=a.a.createContext(l),u=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:o,children:a}=e;const r=Object(c.a)({videoConversationId:t,conversationId:n,isAudioCall:o});return Object(s.jsx)(d.Provider,{value:r},a)}},1025:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n(386),a=n.n(o),r=n(416),i=n.n(r),c=n(504),s=n.n(c),l=n(124),d=n.n(l),u=n(456),p=n(387);const b=a.a.createContext({addPublisher:i.a,removePublisher:i.a});let f=!1;const h=e=>{let{onClick:t,children:n}=e;const a=Object(o.useRef)([]),r=Object(o.useCallback)((()=>{f=!0,t(),a.current&&(d()(a.current,(e=>{e.removeEventListener("click",r,{capture:!0})})),a.current=[])}),[t]),i=Object(o.useMemo)((()=>({addPublisher:e=>{f||(a.current.push(e),e.addEventListener("click",r,{capture:!0}))},removePublisher:e=>{f||(e.removeEventListener("click",r,{capture:!0}),a.current=s()(a.current,(t=>t!==e)))}})),[r]);return Object(o.useEffect)((()=>{const e=Object(u.a)();if(Object(u.b)(e))return i.addPublisher(e.document),()=>{i.removePublisher(e.document)}}),[]),Object(p.jsx)(b.Provider,{value:i},n)};t.b=a.a.memo(h)},1026:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var o=n(386),a=n(501),r=n.n(a),i=n(416),c=n.n(i),s=n(490),l=n(833),d=n(432),u=n(426),p=n(127),b=n(15),f=n(455);const h=(new u.a).setUrl("/livechat/logging/log").setType(d.a.POST).build(),g=e=>{const{message:t,userId:n}=e,o=`UI_${p.a.getAppId(Object(b.a)())}_${n}_${r.a.v4()}`;return{message:t,timeStamp:Date.now(),clientId:o,url:Object(f.b)()}},y={debug:c.a,info:c.a,error:c.a,warning:c.a,cleanup:c.a},O=e=>{let{category:t,batch:n,log:a,skip:r,adapter:i,userId:c}=e;const[d]=Object(s.a)(h,{ignoreResults:!0}),u=Object(o.useRef)(y);u.current=Object(o.useMemo)((()=>new l.a(a||d,{batch:n,skip:r,adapter:i||g})),[d,g]),Object(o.useEffect)((()=>()=>{u.current.cleanup()}),[]);return Object(o.useMemo)((()=>({debug:e=>u.current.debug({message:e,category:t,userId:c}),error:e=>u.current.error({message:e,category:t,userId:c}),info:e=>u.current.info({message:e,category:t,userId:c}),warning:e=>u.current.warning({message:e,category:t,userId:c})})),[t,c])}},1027:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(541).__importDefault(n(1431)).default("audio");t.default=o},1028:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var o=n(386),a=n.n(o),r=n(416),i=n.n(r),c=n(1029),s=n(387);const l={debug:i.a,info:i.a,error:i.a,warning:i.a},d=a.a.createContext(l),u=e=>{let{videoConversationId:t,conversationId:n,children:o}=e;const a=Object(c.a)({videoConversationId:t,conversationId:n});return Object(s.jsx)(d.Provider,{value:a},o)}},1029:function(e,t,n){"use strict";var o=n(386),a=n(391),r=n(426),i=n(490),c=n(405),s=n(435),l=n(432),d=n(833);const u=(new r.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build();t.a=e=>{let{videoConversationId:t,conversationId:n}=e;const[r]=Object(i.a)(u,{ignoreResults:!0}),l=Object(a.d)(c.h),p=Object(s.d)(l),b=Object(o.useCallback)((e=>{const{eventType:n,activityAdditionalDetails:o}=e;return{videoConversationId:t,loggerSnUserId:p,eventType:n,loggerSnType:"SPRINKLR_LIVE_CHAT",offsetTime:0,activityAdditionalDetails:o}}),[n,t,p]);return Object(o.useMemo)((()=>new d.a(r,{adapter:b,skip:!t})),[r,b,t])}},1032:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(210),a=n.n(o),r=n(446);const i=a()((async e=>{const t=(await r.a.get(e)).data;return(new DOMParser).parseFromString(t,"image/svg+xml")}))},1033:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(386);const a=n.n(o).a.createContext(void 0)},1034:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(386);const a=Object(o.createContext)({setIsFrameMaximized:()=>null,isFrameMaximized:!1})},1036:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(386),a=n.n(o),r=n(387);const i=a.a.createContext("ltr");t.b=e=>Object(r.jsx)(i.Provider,{value:e.direction},e.children)},1038:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(633),a=n(842),r=n(750),i=n(557),c=n(418);const s={[c.b.CONTACT_DETAILS_FORM]:{NAME:e=>{let{user:t}=e;return Object(i.a)(t)},FIRST_NAME:e=>{let{user:t}=e;return t.firstName},LAST_NAME:e=>{let{user:t}=e;return t.lastName},EMAIL:e=>{let{user:t}=e;return t.email},PHONE_NO:e=>{let{user:t}=e;return t.phoneNo}}},l={[c.b.CONTACT_DETAILS_FORM]:(e,t)=>{const n=a.a.getFields(r.a.getForm(e)),o=s[c.b.CONTACT_DETAILS_FORM];return n.reduce(((e,n)=>{const{id:a}=n,r=o[a];return r&&(e[a]=r(t)),e}),{})}},d=(e,t)=>{const n=l[o.a.getType(e)];return n?n(e,t):{}}},1039:function(e,t,n){"use strict";t.a={CALL_INITIATED:"VIDEO_CALL_INITIATED",CALL_STARTING:"VIDEO_CALL_STARTING",CALL_OFFER_ACCEPTED:"VIDEO_CALL_OFFER_ACCEPTED",CALL_CONNECTED:"VIDEO_CALL_CONNECTED",CALL_DECLINED:"VIDEO_CALL_DECLINED",CALL_ENDED:"VIDEO_CALL_ENDED",CALL_MISSED:"VIDEO_CALL_MISSED"}},1040:function(e,t,n){var o=n(85);e.exports=function(){var e=arguments,t=o(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},1041:function(e,t,n){"use strict";t.a={PDF:"PDF",EXCEL:"EXCEL",DOCUMENT:"DOCUMENT",WORD_DOCUMENT:"DOC",PRESENTATION:"PRESENTATION",ONENOTE:"ONENOTE"}},1042:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="@chatPrompt/PROMPT_ACTION_TRIGGER"},1043:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(446);const a=async()=>o.a.get("/livechat/conversation/refresh-token")},1265:function(e,t,n){"use strict";var o=n(60),a=n.n(o),r=n(429),i=n.n(r),c=n(739),s=n.n(c);const l=(e,t)=>s()(e)&&s()(t)?e-t:i()(e)&&i()(t)?e.localeCompare(t):i()(e)&&s()(t)?parseInt(e,10)-t:s()(e)&&i()(t)?e-parseInt(t,10):-1,d=(e,t)=>{if(a()(t))return!1;return l(t,e)<=-1},u=(e,t)=>{if(a()(t))return!1;return l(t,e)>=1},p=(e,t)=>{if(a()(t))return!1;return 0===l(t,e)};var b=n(433),f=n.n(b),h=n(82),g=n.n(h),y=n(525),O=n(126),m=n(412),v=n(577);var j=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:o}=t,a=m.a.getField(this._filter),r=f()(m.a.getValues(this._filter)),i=Object(y.b)({currentValueMap:e,filter:this._filter});let c;switch(m.a.getFilterType(this._filter)){case v.a.LT:c=d(r,i);break;case v.a.LTE:c=d(r,i)||p(r,i);break;case v.a.GT:c=u(r,i);break;case v.a.GTE:c=u(r,i)||p(r,i);break;case v.a.EQUALS:c=p(r,i);break;case v.a.NOT_EQUALS:c=!p(r,i);break;case v.a.EXISTS:c=!g()(i);break;case v.a.MISSING:c=g()(i);break;default:c=!1}return c&&n&&Object(O.a)(`Range Filter succeed for ${a} with value ${i}`),!c&&o&&Object(O.a)(`Range Filter failed for ${a} with value ${i}`),c},this.clear=()=>{},this._filter=e}};var I=(e,t)=>{if(a()(t))return!1;try{return!!new RegExp(e).test(t)}catch(n){return Object(O.a)("Wrong regex in filter"),!1}},E=n(1009),C=n(198),S=n.n(C),T=n(596),_=n.n(T);var x=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:o}=t,a=m.a.getField(this._filter),r=m.a.getValues(this._filter),i=Object(y.b)({currentValueMap:e,filter:this._filter}),c=S()(m.a.getDetails(this._filter),"valueAdditional.isJsRegex"),s=_()(r,(e=>c?I(e,i):Object(E.a)(e,i)));return s&&n&&Object(O.a)(`Regex Filter succeed for ${a} with value ${i}`),!s&&o&&Object(O.a)(`Regex Filter failed for ${a} with value ${i}`),s},this.clear=()=>{},this._filter=e}};var A=(e,t)=>!a()(t)&&!!e.includes(t);var R=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:o}=t,a=m.a.getField(this._filter),r=m.a.getValues(this._filter),i=Object(y.b)({currentValueMap:e,filter:this._filter}),c=A(r,i);return c&&n&&Object(O.a)(`In Filter succeed for ${a} with value ${i}`),!c&&o&&Object(O.a)(`In Filter failed for ${a} with value ${i}`),c},this.clear=()=>{},this._filter=e}};var w=(e,t)=>!a()(t)&&!e.includes(t);var N=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:o}=t,a=m.a.getField(this._filter),r=m.a.getValues(this._filter),i=Object(y.b)({currentValueMap:e,filter:this._filter}),c=w(r,i);return c&&n&&Object(O.a)(`NotIn Filter succeed for ${a} with value ${i}`),!c&&o&&Object(O.a)(`NotIn Filter failed for ${a} with value ${i}`),c},this.clear=()=>{},this._filter=e}};class L{}L.createFilterAction=e=>{switch(m.a.getFilterType(e)){case v.a.LTE:case v.a.LT:case v.a.GT:case v.a.GTE:case v.a.NOT_EQUALS:case v.a.EXISTS:case v.a.MISSING:return new j(e);case v.a.REGEX:return new x(e);case v.a.CONTAINS:case v.a.IN:return new R(e);case v.a.NIN:return new N(e);default:return new j(e)}};var D=L;var M=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(this._filter)}},P=n(461),k=n.n(P),U=n(479);var F=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=m.a.getDetails(this._filter);let o=e;return n&&!k()(n.noOfAgentsAvailable)&&(o={[U.a.AVAILABLE_AGENTS]:n.noOfAgentsAvailable}),this._filterAction.matches(o,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e)}};var B=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=m.a.getDetails(this._filter);let o=e;return n&&!k()(n.numberOfPendingCases)&&(o={[U.a.AGENT_OUT_OF_CAPACITY]:n.numberOfPendingCases}),this._filterAction.matches(o,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e)}};var G=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=m.a.getDetails(this._filter),o=Object(y.b)({currentValueMap:e,filter:this._filter});let a={[U.a.BUSINESS_HOURS]:o};return!n||g()(n)||k()(n.timeToBusinessHours)||(a={[U.a.BUSINESS_HOURS]:n.timeToBusinessHours}),this._filterAction.matches(a,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const o=(e=>m.a.getFilterType(e)===v.a.IN?f()(m.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:v.a.LTE,values:[0]}):Object.assign(Object.assign({},e),{filterType:v.a.GT,values:[0]}):e)(e);this._filter=o,this._unSubscribeFn=n?n(o):null,this._filterAction=D.createFilterAction(o)}};var V=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const o=(e=>m.a.getFilterType(e)===v.a.IN?f()(m.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:v.a.GTE,values:[1]}):Object.assign(Object.assign({},e),{filterType:v.a.LTE,values:[0]}):e)(e);this._filter=o,this._unSubscribeFn=n?n(o):null,this._filterAction=D.createFilterAction(o)}};var z=class{constructor(e,t){let{subscribe:n,parentFilter:o}=t;this.matches=(e,t)=>{let n=e;switch(this._parentFilter&&m.a.getField(this._parentFilter)){case U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:{const t=f()(m.a.getValues(this._parentFilter)),o=e[U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],a=Date.now()-(o[t].actionTime||0);n=Object.assign(Object.assign({},n),{[U.a.DEPENDENT_DURATION_KEY]:a});break}case U.a.INTERCEPT_CLOSED_IN_SESSION_KEY:{const t=f()(m.a.getValues(this._parentFilter)),o=e[U.a.INTERCEPT_CLOSED_IN_SESSION_KEY],a=Date.now()-(o[t].actionTime||0);n=Object.assign(Object.assign({},n),{[U.a.DEPENDENT_DURATION_KEY]:a});break}}return this._filterAction.matches(n,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._parentFilter=o,this._unSubscribeFn=n?n(e,o):null,this._filterAction=D.createFilterAction(e)}};var W=class{constructor(e,t){this.matches=(e,t)=>{const n=f()(m.a.getValues(this._filter)),o=e[U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],a=this._filterAction.matches({[U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY]:o[n]?n:""},t);if(a){const n=m.a.getDetails(this._filter);if(n&&!g()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return a},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e),this._dependentFilterAction=null}};var $=class{constructor(e,t){this.matches=(e,t)=>{const n=f()(m.a.getValues(this._filter)),o=e[U.a.INTERCEPT_CLOSED_IN_SESSION_KEY],a=this._filterAction.matches({[U.a.INTERCEPT_CLOSED_IN_SESSION_KEY]:o[n]?n:""},t);if(a){const n=m.a.getDetails(this._filter);if(n&&!g()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return a},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e),this._dependentFilterAction=null}},H=n(411);const q="PIXEL";var K=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=S()(m.a.getDetails(this._filter),"valueAdditional.valueType"),o=m.a.getField(this._filter),{scrollDepth:a,scrollPercent:r}=e[o]||H.a,i={[o]:n===q?a:r};return this._filterAction.matches(i,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e)}};var Y=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(y.b)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null}};var X=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(y.b)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unsubscribeFn&&this._unsubscribeFn(),this._unsubscribeFn=null},this._filter=e,this._unsubscribeFn=n?n(e):null}};class Z{}Z.createFilterAction=(e,t)=>{switch(m.a.getField(e)){case U.a.AVAILABLE_AGENTS:return new F(e,t);case U.a.AGENT_OUT_OF_CAPACITY:return new B(e,t);case U.a.BUSINESS_HOURS:return new G(e,t);case U.a.IS_CONVERSATION_OPEN:return new V(e,t);case U.a.DEPENDENT_DURATION_KEY:return new z(e,t);case U.a.INTERCEPT_CLOSED_IN_SESSION_KEY:return new $(e,t);case U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:return new W(e,t);case U.a.CURRENT_URL:case U.a.TOTAL_TIME_SPENT:case U.a.ACTIVE_TIME_SPENT:case U.a.INACTIVE_TIME_SPENT:case U.a.DEVICE_TYPE:case U.a.USER_IP_DETAILS_COUNTRY:case U.a.USER_IP_DETAILS_CITY:case U.a.USER_IP_DETAILS_REGION:return new M(e,t);case U.a.HORIZONTAL_PAGE_SCROLL_DEPTH:case U.a.VERTICAL_PAGE_SCROLL_DEPTH:return new K(e,t);case U.a.TIME_SPENT_ON_SESSION:return new Y(e,t);case U.a.NUM_SNOOZE_ALLOWED:return new X(e,t);default:return Object(y.d)(m.a.getField(e))?new M(e,t):void 0}};var J=Z,Q=n(123),ee=n.n(Q),te=n(124),ne=n.n(te);var oe=class{constructor(e,t){this.matches=(e,t)=>{let n=!0;return ne()(this._filterActions,(o=>!!o.matches(e,t)||(n=!1,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(m.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};var ae=class{constructor(e,t){this.matches=(e,t)=>{let n=!1;return ne()(this._filterActions,(o=>!o.matches(e,t)||(n=!0,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(m.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};let re=0;class ie{}ie.createFilterAction=(e,t)=>{const n=(e=>(re+=1,Object.assign(Object.assign({},e),{id:re})))(e),o=J.createFilterAction(n,t);if(o)return o;switch(m.a.getFilterType(n)){case v.a.AND:return new oe(e,t);case v.a.OR:return new ae(e,t);default:return D.createFilterAction(n)}};t.a=ie},1277:function(e,t,n){"use strict";var o,a=n(386),r=n.n(a),i=(n(434),n(390)),c=n(421),s=n(388);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}function d(e,t){let{title:n,titleId:r,...i}=e;return a.createElement("svg",l({"data-spaceweb":"icon",viewBox:"0 0 14 14","data-icon-name":"SolidCobrowsing",className:"sw--bx sw--by sw--mw sw--mx",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,o||(o=a.createElement("path",{d:"M12.752 0H1.248A1.328 1.328 0 00.024 1.416v8.66a1.328 1.328 0 001.224 1.416h11.504a1.328 1.328 0 001.224-1.416v-8.66A1.328 1.328 0 0012.752 0zM5.648 5.19a.362.362 0 01-.11-.263c0-.005-.006-.01-.006-.015v-.525h-1.05a.896.896 0 00-.895.895v.928a.889.889 0 00.262.633.918.918 0 00.632.263.5.5 0 010 1 1.914 1.914 0 01-1.34-.556 1.882 1.882 0 01-.554-1.34v-.928A1.896 1.896 0 014.48 3.387h1.051v-.52c0-.005.006-.01.006-.016a.343.343 0 01.11-.268.361.361 0 01.517.01l.996 1.038c.005.01.015.016.02.027a.369.369 0 01.08.179.2.2 0 010 .079.34.34 0 01-.095.221v.005H7.16L6.165 5.18a.361.361 0 01-.517.01zm5.765 1.02A1.897 1.897 0 019.52 8.106h-.88v.519c0 .005-.005.01-.005.016a.343.343 0 01-.111.268.361.361 0 01-.516-.01l-.996-1.038c-.005-.01-.016-.016-.021-.026a.369.369 0 01-.08-.18.2.2 0 010-.079.34.34 0 01.096-.22V7.35h.005l.996-1.038a.364.364 0 01.627.253c0 .005.005.01.005.016v.525h.879a.896.896 0 00.894-.896v-.928a.891.891 0 00-.263-.634.918.918 0 00-.631-.26.5.5 0 010-1 1.914 1.914 0 011.34.554 1.885 1.885 0 01.554 1.34zM10.3 12.584H3.597a.7.7 0 000 1.4H10.3a.7.7 0 100-1.4z"})))}const u=a.forwardRef(d);n.p;const p=Object(s.a)(u,{target:"e1s9shjt0"})({name:"1utgq19",styles:"width:48px;height:48px;margin-bottom:18px;"});var b=n(1285),f=n(746),h=n(557),g=n(387);var y={name:"19cy8uy",styles:"max-width:218px;"};var O=r.a.memo(Object(i.h)((e=>{const{onStopSession:t,brandUser:n,intl:o}=e,r=Object(c.a)(),i=Object(a.useMemo)((()=>({agentName:Object(h.a)(n,r)})),[n,r]),s=Object(a.useMemo)((()=>o.formatMessage(f.a.settingUpCobrowsing,i)),[i,o]),l=Object(a.useMemo)((()=>y),[]);return Object(g.jsx)(b.a,{onClose:t,Icon:p,description:s,descriptionStyles:l})}))),m=n(594);t.a=e=>{const{sessionState:t}=e;return t!==m.b.INITIATED&&t!==m.b.SETUP&&t!==m.b.RESUMED?null:Object(g.jsx)(O,e)}},1281:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var o=n(386),a=n.n(o),r=n(82),i=n.n(r),c=n(124),s=n.n(c),l=n(503),d=n.n(l),u=n(416),p=n.n(u),b=n(391),f=n(463),h=n(439);var g=()=>e=>{const t={eventId:e.label,eventType:e.action.id,additional:{...e.additional,conversationId:e.conversationId}};Object(f.a)({topic:h.e,payload:{data:t}})},y=n(446),O=n(522),m=n(122);const v=new Set([O.a.AGENT_ASSIGNED.id,O.a.VIDEO_CALL_OUTGOING_STARTING.id,O.a.AUDIO_CALL_OUTGOING_STARTING.id]);var j=()=>async e=>{if(!v.has(e.action.id))try{await y.a.post("/livechat/prompt/browse/event",{page:e.page,userAgent:e.userAgent,device:e.device,timeZone:e.timeZone,eventType:e.action.label,eventId:e.label,conversationId:e.conversationId,sourceType:"LIVE_CHAT"})}catch(t){Object(m.b)(t)}},I=n(523),E=n(401),C=n(400),S=n(477),T=n(405),_=n(487),x=n(406),A=n(12),R=n(803),w=n(387);const N=a.a.createContext(p.a),L=e=>Object(_.c)(Object(T.e)(e)),D=e=>{const t=Object(I.a)(),a=Object(E.a)(),r=Object(o.useRef)([]),[c,l]=Object(o.useState)(!1),u=Object(C.a)(S.c),p=Object(C.a)(S.b),f=Object(b.d)(L),h=Object(A.N)();return Object(o.useEffect)((()=>{if(c&&f.length){const e={...f[0],category:"Sprinklr Widget",device:t.device,page:t.pageUrl,userAgent:t.userAgent,timeZone:t.timeZone};((e,t)=>{Object(R.c)((()=>{s()(e,(e=>{e(t)}))}))})(r.current,e),p()}}),[f,c]),Object(o.useEffect)((()=>{h||(e=>{const t=[],o=x.a.getGoogleTrackerId(e),a=x.a.isSprinklrAnalyticsEnabled(e);return i()(o)||t.push(n.e(62).then(n.bind(null,1886)).then((e=>e.default.createTracker({trackerId:o},{canAccessParent:Object(A.L)()}))).catch((()=>{}))),a&&t.push(j()),t.push(g()),Promise.all(t)})(a).then((e=>{r.current=d()(e),l(!0)}))}),[]),Object(w.jsx)(N.Provider,{value:u},e.children)};t.b=a.a.memo(D)},1285:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));n(386);var o=n(388),a=n(387),r=n(389),i=n(392),c=n(536),s=n(534);const l=Object(o.a)("div",{target:"e1exikj40"})("position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:",(e=>Object(r.f)("frame.zIndex")(e)),";transform:translateZ(",(e=>Object(r.f)("frame.translateZ")(e)),"px);"),d=Object(o.a)(c.a,{target:"e1exikj41"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),u={name:"1egabj8",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:transparent;}"},p=Object(o.a)("div",{target:"e1exikj42"})("width:100%;height:100%;position:relative;",(e=>e.isPhone&&"backdrop-filter: blur(2px);"),""),b=Object(o.a)("div",{target:"e1exikj43"})("position:absolute;padding:",(e=>{const t=+Object(r.f)("confirmationBox.paddingTop")(e),n=+Object(r.f)("confirmationBox.paddingRight")(e),o=+Object(r.f)("confirmationBox.paddingLeft")(e);return`${t}px ${n}px ${+Object(r.f)("confirmationBox.paddingBottom")(e)}px ${o}px`}),";",(e=>e.isPhone?"\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      opacity: 0.95;\n      ":`\n      box-shadow: 0 4px 10px 0 rgba(49, 39, 39, 0.2);\n      border-radius: ${Object(r.a)("frame.borderRadius")(e)};\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      max-width: 312px;\n      width: 85%;\n  `)," color:",Object(r.b)("charcoal"),";background-color:",Object(r.f)("confirmationBox.backgroundColor"),";"),f=Object(o.a)("div",{target:"e1exikj44"})("font-size:",Object(r.f)("confirmationBox.header.title.fontSize"),"px;font-family:",Object(r.d)("confirmationBox.header.title.fontFamily"),";font-weight:",Object(r.f)("confirmationBox.header.title.fontWeight"),";padding-bottom:",Object(r.f)("confirmationBox.header.paddingBottom"),"px;"),h=Object(o.a)("div",{target:"e1exikj45"})("font-size:",Object(r.f)("confirmationBox.description.fontSize"),"px;font-weight:normal;color:",Object(r.b)("charcoal"),";text-align:center;"),g=Object(o.a)(s.a,{target:"e1exikj46"})("position:absolute;top:env(safe-area-inset-top);",Object(i.c)("right: env(safe-area-inset-right);","left: env(safe-area-inset-left);"),""),y=e=>Object(a.css)({height:`${Object(r.f)("confirmationBox.header.iconButton.icon.height")({theme:e})}px`,width:`${Object(r.f)("confirmationBox.header.iconButton.icon.width")({theme:e})}px`},""),O=e=>Object(a.css)({height:`${Object(r.f)("confirmationBox.header.iconButton.button.height")({theme:e})}px`,width:`${Object(r.f)("confirmationBox.header.iconButton.button.width")({theme:e})}px`},"");var m=n(452),v=n(394),j=n(402),I=n(397);const E=e=>{let{onClose:t,title:n,description:o,descriptionStyles:r,Icon:i}=e;const c=Object(I.b)(),s=Object(v.a)(),{direction:E}=Object(j.a)();return Object(a.jsx)(l,{className:"spr-chat__cobrowseInfo-box spr-live-chat-frame __cbio_ignored"},Object(a.jsx)(d,{name:"spr-chat__cobrowseInfo-frame"},Object(a.jsx)(a.Global,{styles:u}),Object(a.jsx)(p,{isPhone:s},Object(a.jsx)(b,{isPhone:s},Object(a.jsx)("div",{className:"flex-column-container center-x-y spr full-width full-height"},Object(a.jsx)(g,{direction:E,iconName:"closeIcon",Icon:m.a,onClick:t,iconCss:y(c),css:O(c)}),Object(a.jsx)(i,null),n&&Object(a.jsx)(f,null,n),o&&Object(a.jsx)(h,{css:r},o))))))}},1287:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return y}));var o=n(386),a=n(460),r=n.n(a),i=n(82),c=n.n(i),s=n(725);var l=n(419),d=n(457),u=n(428),p=n(387);const b={byIds:{}},f=[d.p],h=Object(o.createContext)(b),g=(e,t)=>{if(t.type===d.p){const{id:n,details:o}=t.payload;return c()(e.byIds[n])?r()(e,{byIds:{$merge:{[n]:o}}}):r()(e,{byIds:{[n]:{$merge:o}}})}return e},y=e=>{let{children:t}=e;const[n,a]=Object(o.useReducer)(g,b),r=Object(l.a)(),i=u.a.getCards(r),c=Object(o.useCallback)((e=>{const{type:t,payload:n}=e,o=null===i||void 0===i?void 0:i.find((e=>{var t,o;return(null===e||void 0===e||null===(t=e.provider)||void 0===t||null===(o=t.details)||void 0===o?void 0:o.id)===n.id}));o&&a({type:t,payload:{...n,id:o.id}})}),[i]);var d,y;return d=f,y=c,Object(o.useLayoutEffect)((()=>{const e=s.a.on((e=>{d.includes(e.type)&&y(e)}));return()=>{e()}}),[]),Object(p.jsx)(h.Provider,{value:n},t)}},1289:function(e,t,n){"use strict";n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return m}));var o=n(388),a=n(387),r=n(596),i=n.n(r),c=n(536),s=n(579),l=n(389),d=n(427),u=n(451),p=n(637);const b=e=>Object(s.h)(e)+Object(l.f)("trigger.size")({theme:e})+20,f=Object(o.a)("div",{target:"emlrnqp0"})("top:",(e=>e.isPhone&&"0"),";bottom:",(e=>e.alignWithChatTrigger?Object(s.h)(e.theme):b(e.theme)),"px;width:",(e=>e.isMaximized?`${Object(l.f)("frame.maximizedWidth")(e)}px`:`${Object(l.f)("frame.width")(e)}px`),";transition:max-width 200ms ease,max-height 200ms ease;min-width:200px;position:fixed;",(e=>(e=>{const t=Object(l.f)("trigger.size")({theme:e}),n=Object(l.f)("trigger.align")({theme:e}),o=n===p.f.RIGHT&&Object(l.f)("frame.align")({theme:e})===p.a.TRIGGER_LEFT_BOX_RIGHT?t:0,a=n===p.f.LEFT&&Object(l.f)("frame.align")({theme:e})===p.a.TRIGGER_RIGHT_BOX_LEFT?t:0;return`\n      ${Object(s.i)({leftOffset:a,rightOffset:o})({theme:e})};\n      max-width: calc(100% - ${Object(s.j)(e)}px - 20px - ${a||o}px);\n    `})(e.theme)),";z-index:",(e=>Object(l.f)("frame.zIndex")(e)),";padding:",(e=>Object(l.h)("frame.margin")(e)),";box-sizing:border-box;",(e=>(e=>{const t=Object(u.b)(Object(l.f)("frame.marginTop")({theme:e})),n=Object(u.b)(Object(l.f)("frame.marginBottom")({theme:e})),o=Object(u.b)(Object(l.f)("frame.marginLeft")({theme:e})),a=Object(u.b)(Object(l.f)("frame.marginRight")({theme:e}));return i()([t,n,o,a],(e=>e>0))})(e.theme)&&`background-color: ${Object(d.i)(Object(l.f)("frame.overlay.opacity")(e),Object(l.f)("frame.overlay.backgroundColour")(e))};`),";height:calc(100% - ",(e=>b(e.theme)),"px - ",20,"px);max-height:",(e=>e.isMaximized?`calc(100% - ${b(e.theme)}px - 20px)`:Object(l.f)("frame.height")(e)),";",(e=>e.isPhone&&" height: 100%;\n    width: 100vw;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    max-height: 100vh;\n    max-width: 100vw;\n    min-width: 100vw;\n  "),";transform:",(e=>`translateZ(${Object(l.f)("frame.translateZ")(e)}px)`),";"),h=Object(o.a)("div",{target:"emlrnqp1"})("height:100%;width:100%;position:relative;overflow:hidden;box-shadow:0 2px 15px 0 rgba(0,0,0,0.2);border-radius:",(e=>Object(l.a)("frame.borderRadius")(e)),";",(e=>{const t=Object(u.b)(Object(l.f)("frame.marginTop")(e))>0?Object(l.f)("frame.borderRadius")(e):0,n=Object(u.b)(Object(l.f)("frame.marginBottom")(e))>0?Object(l.f)("frame.borderRadius")(e):0;return e.isPhone&&`\n    border-top-left-radius: ${t};\n    border-top-right-radius: ${t};\n    border-bottom-left-radius: ${n};\n    border-bottom-right-radius: ${n};\n    box-shadow: none;`}),";"),g="spr-chat-box-anim",y=Object(o.a)(c.a,{target:"emlrnqp2"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),O=e=>Object(a.css)(`\n  .spr-chat__box.${g}-enter {\n    opacity: 0;\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) translateY(20px) ;\n  }\n\n  .spr-chat__box.${g}-enter.${g}-enter-active {\n    opacity: 1;\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) translateY(0px) ;\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n\n  .spr-chat__box.${g}-enter-done {\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) ;\n  }\n\n  .spr-chat__box.${g}-exit {\n    opacity: 1;\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) translateY(0);\n  }\n\n  .spr-chat__box.${g}-exit.${g}-exit-active {\n    opacity: 0;\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) translateY(20px);\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n`,""),m={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"}},1355:function(e,t,n){var o=n(670);e.exports=function(e,t){for(var n=-1,a=e.length;++n<a&&o(t,e[n],0)>-1;);return n}},1416:function(e,t,n){var o=n(228),a=n(222),r=n(199),i=4294967295,c=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>9007199254740991)return[];var n=i,s=c(e,i);t=a(t),e-=i;for(var l=o(s,t);++n<e;)t(n);return l}},1417:function(e,t,n){var o=n(241)("length");e.exports=o},1418:function(e,t){var n="[\\ud800-\\udfff]",o="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+o+"|"+a+")"+"?",l="[\\ufe0e\\ufe0f]?",d=l+s+("(?:\\u200d(?:"+[r,i,c].join("|")+")"+l+s+")*"),u="(?:"+[r+o+"?",o,i,c,n].join("|")+")",p=RegExp(a+"(?="+a+")|"+u+d,"g");e.exports=function(e){for(var t=p.lastIndex=0;p.test(e);)++t;return t}},1421:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}t.default=e}(n(450));var o=c(n(1422)),a=c(n(1425)),r=c(n(386)),i=c(n(1015));n(1017);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},u=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).onEnter=function(e,n){var o=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,o),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var o=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,o),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var o=t.getClassNames("appear").doneClassName,a=t.getClassNames("enter").doneClassName,r=n?o+" "+a:a;t.removeClasses(e,n?"appear":"enter"),l(e,r),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,o="string"===typeof n,a=o?(o&&n?n+"-":"")+e:n[e];return{className:a,activeClassName:o?a+"-active":n[e+"Active"],doneClassName:o?a+"-done":n[e+"Done"]}},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=o.prototype;return a.removeClasses=function(e,t){var n=this.getClassNames(t),o=n.className,a=n.activeClassName,r=n.doneClassName;o&&d(e,o),a&&d(e,a),r&&d(e,r)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},a.render=function(){var e=s({},this.props);return delete e.classNames,r.default.createElement(i.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},o}(r.default.Component);u.defaultProps={classNames:""},u.propTypes={};var p=u;t.default=p,e.exports=t.default},1422:function(e,t,n){"use strict";var o=n(1423);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=o(n(1424));e.exports=t.default},1423:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},1424:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},1425:function(e,t,n){"use strict";function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))}},1426:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;i(n(450));var o=i(n(386)),a=n(486),r=i(n(1018));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function i(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=i.prototype;return c.handleLifecycle=function(e,t,n){var r,i=this.props.children,c=o.default.Children.toArray(i)[t];c.props[e]&&(r=c.props)[e].apply(r,n),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},c.render=function(){var e=this.props,t=e.children,n=e.in,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","in"]),i=o.default.Children.toArray(t),c=i[0],s=i[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,o.default.createElement(r.default,a,n?o.default.cloneElement(c,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):o.default.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},i}(o.default.Component);c.propTypes={};var s=c;t.default=s,e.exports=t.default},1427:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=r,t.getInitialChildMapping=function(e,t){return a(e.children,(function(n){return(0,o.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:i(n,"appear",e),enter:i(n,"enter",e),exit:i(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var c=a(e.children),s=r(t,c);return Object.keys(s).forEach((function(a){var r=s[a];if((0,o.isValidElement)(r)){var l=a in t,d=a in c,u=t[a],p=(0,o.isValidElement)(u)&&!u.props.in;!d||l&&!p?d||!l||p?d&&l&&(0,o.isValidElement)(u)&&(s[a]=(0,o.cloneElement)(r,{onExited:n.bind(null,r),in:u.props.in,exit:i(r,"exit",e),enter:i(r,"enter",e)})):s[a]=(0,o.cloneElement)(r,{in:!1}):s[a]=(0,o.cloneElement)(r,{onExited:n.bind(null,r),in:!0,exit:i(r,"exit",e),enter:i(r,"enter",e)})}})),s};var o=n(386);function a(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,o.isValidElement)(e)?t(e):e}(e)})),n}function r(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var o,a=Object.create(null),r=[];for(var i in e)i in t?r.length&&(a[i]=r,r=[]):r.push(i);var c={};for(var s in t){if(a[s])for(o=0;o<a[s].length;o++){var l=a[s][o];c[a[s][o]]=n(l)}c[s]=n(s)}for(o=0;o<r.length;o++)c[r[o]]=n(r[o]);return c}function i(e,t,n){return null!=n[t]?n[t]:e.props[t]}},1428:function(e,t,n){"use strict";var o=n(744),a=n.n(o),r=n(573),i=n.n(r),c=n(386),s=n.n(c),l=n(450),d=n.n(l),u=n(1021),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){return 0===s.a.Children.count(e)},g=function(e){function t(){var n,o;b(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(r))),o.state={match:o.computeMatch(o.props,o.context.router)},f(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:p({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,o=e.location,a=e.path,r=e.strict,c=e.exact,s=e.sensitive;if(n)return n;i()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,d=(o||l.location).pathname;return Object(u.a)(d,{path:a,strict:r,exact:c,sensitive:s},l.match)},t.prototype.componentWillMount=function(){a()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),a()(!(this.props.component&&this.props.children&&!h(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),a()(!(this.props.render&&this.props.children&&!h(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){a()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),a()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,o=t.component,a=t.render,r=this.context.router,i=r.history,c=r.route,l=r.staticContext,d={match:e,location:this.props.location||c.location,history:i,staticContext:l};return o?e?s.a.createElement(o,d):null:a?e?a(d):null:"function"===typeof n?n(d):n&&!h(n)?s.a.Children.only(n):null},t}(s.a.Component);g.propTypes={computedMatch:d.a.object,path:d.a.string,exact:d.a.bool,strict:d.a.bool,sensitive:d.a.bool,component:d.a.func,render:d.a.func,children:d.a.oneOfType([d.a.func,d.a.node]),location:d.a.object},g.contextTypes={router:d.a.shape({history:d.a.object.isRequired,route:d.a.object.isRequired,staticContext:d.a.object})},g.childContextTypes={router:d.a.object.isRequired},t.a=g},1429:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1430:function(e,t,n){"use strict";var o={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,i=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,d=l&&l(Object);e.exports=function e(t,n,u){if("string"!==typeof n){if(d){var p=l(n);p&&p!==d&&e(t,p,u)}var b=i(n);c&&(b=b.concat(c(n)));for(var f=0;f<b.length;++f){var h=b[f];if(!o[h]&&!a[h]&&(!u||!u[h])){var g=s(n,h);try{r(t,h,g)}catch(y){}}}return t}return t}},1431:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(541),a=o.__importStar(n(386)),r=n(386),i=o.__importDefault(n(1432)),c=o.__importDefault(n(1433));t.default=function(e){return function(t){var n,s;s=a.isValidElement(t)?(n=t).props:t;var l=i.default({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1}),d=l[0],u=l[1],p=r.useRef(null),b=function(e,t){return function(n){try{t&&t(n)}finally{e&&e(n)}}},f=function(){return u({paused:!1})},h=function(){return u({paused:!0})},g=function(){var e=p.current;e&&u({muted:e.muted,volume:e.volume})},y=function(){var e=p.current;if(e){var t=e.duration,n=e.buffered;u({duration:t,buffered:c.default(n)})}},O=function(){var e=p.current;e&&u({time:e.currentTime})},m=function(){var e=p.current;e&&u({buffered:c.default(e.buffered)})};n=n?a.cloneElement(n,o.__assign(o.__assign({controls:!1},s),{ref:p,onPlay:b(s.onPlay,f),onPause:b(s.onPause,h),onVolumeChange:b(s.onVolumeChange,g),onDurationChange:b(s.onDurationChange,y),onTimeUpdate:b(s.onTimeUpdate,O),onProgress:b(s.onProgress,m)})):a.createElement(e,o.__assign(o.__assign({controls:!1},s),{ref:p,onPlay:b(s.onPlay,f),onPause:b(s.onPause,h),onVolumeChange:b(s.onVolumeChange,g),onDurationChange:b(s.onDurationChange,y),onTimeUpdate:b(s.onTimeUpdate,O),onProgress:b(s.onProgress,m)}));var v=!1,j={play:function(){var e=p.current;if(e&&!v){var t=e.play();if("object"===typeof t){v=!0;var n=function(){v=!1};t.then(n,n)}return t}},pause:function(){var e=p.current;if(e&&!v)return e.pause()},seek:function(e){var t=p.current;t&&void 0!==d.duration&&(e=Math.min(d.duration,Math.max(0,e)),t.currentTime=e)},volume:function(e){var t=p.current;t&&(e=Math.min(1,Math.max(0,e)),t.volume=e,u({volume:e}))},mute:function(){var e=p.current;e&&(e.muted=!0)},unmute:function(){var e=p.current;e&&(e.muted=!1)}};return r.useEffect((function(){var e=p.current;e&&(u({volume:e.volume,muted:e.muted,paused:e.paused}),s.autoPlay&&e.paused&&j.play())}),[s.src]),[n,d,j,p]}}},1432:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(386);t.default=function(e){void 0===e&&(e={});var t=o.useState(e),n=t[0],a=t[1];return[n,o.useCallback((function(e){a((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[a])]}},1433:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}},1436:function(e,t,n){var o=n(808);e.exports=function(e){return o(e,5)}},1437:function(e,t,n){var o=n(1001);e.exports=function(e,t,n){return null==e?e:o(e,t,n)}},1438:function(e,t,n){var o=n(670),a=n(199),r=Math.max;e.exports=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var c=null==n?0:a(n);return c<0&&(c=r(i+c,0)),o(e,t,c)}},1442:function(e,t,n){var o=n(209),a=n(665),r=n(205),i=n(13);e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],c=e;c--;)t[c-1]=arguments[c];return o(i(n)?r(n):[n],a(t,1))}},1443:function(e,t,n){var o=n(808);e.exports=function(e){return o(e,4)}},1444:function(e,t,n){var o=n(1445),a=n(85),r=/[&<>"']/g,i=RegExp(r.source);e.exports=function(e){return(e=a(e))&&i.test(e)?e.replace(r,o):e}},1445:function(e,t,n){var o=n(1003)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=o},1799:function(e,t,n){"use strict";var o=n(386),a=n.n(o),r=n(450),i=n.n(r),c=n(1430),s=n.n(c),l=n(1428),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.a=function(e){var t=function(t){var n=t.wrappedComponentRef,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["wrappedComponentRef"]);return a.a.createElement(l.a,{children:function(t){return a.a.createElement(e,d({},o,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:i.a.func},s()(t,e)}},1853:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return xO}));var o=n(723),a=n.n(o),r=n(724),i=n.n(r),c=n(198),s=n.n(c),l=n(82),d=n.n(l),u=n(15),p=n(12);const b=[],f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];d()(t)||b.push(...t)};var h=n(725),g=n(126);const y="AVAILABLE",O="UN_AVAILABLE",m="PENDING";let v=m;const j=e=>{v=e?y:O},I=()=>v===O,E=()=>v===m,C="PENDING",S="SUCCESS",T="FAIL",_="EXPIRED";let x=C;const A=e=>{x=e},R=()=>x===C,w=()=>x===T,N=()=>x===_,L="INCORRECT_PAYLOAD",D="NETWORK_FAILURE",M="CHAT_UNAVAILABLE";var P=n(460),k=n.n(P),U=n(591);const F="APP_AVAILABLE",B="APP_IN_SESSION";function G(e,t){const n=Object(p.M)(t);if(d()(n))return;const o=k()(Object(u.a)(),{userContext:{$merge:n}});Object(u.f)(o),e({type:U.c,payload:n})}G.dependecies=[B];const V="@user/UPDATE_USER_SETTINGS";function z(e,t){e({type:V,payload:t})}z.dependecies=[B];var W=n(457);function $(e){e({type:W.f})}function H(e){Object(p.L)()&&e({type:W.d})}$.dependecies=[B],H.dependecies=[F];var q=n(554),K=n.n(q),Y=n(416),X=n.n(Y),Z=n(726);const J=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:o,newSubscriber:a}=e;return Object(Z.b)(X.a,{topic:t,subscriber:a}),n.push({legacySubscriber:o,newSubscriber:a}),n},Q=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:o}=e;const a=K()(n,(e=>{let{legacySubscriber:t}=e;return t===o}));return-1!==a&&(Object(Z.c)(X.a,{topic:t,subscriber:n[a].newSubscriber}),n.splice(a,1)),n};var ee=n(439);function te(e){Object(p.L)()&&e({type:W.b})}te.dependecies=[F];let ne=[];let oe=[];let ae=[];var re=n(668);function ie(e,t){e({type:re.a,payload:t})}function ce(e,t){e({type:re.b,payload:{promptId:t.id}})}ie.dependecies=[B,F],ce.dependecies=[B];let se=[];var le=n(13),de=n.n(le),ue=n(23),pe=n.n(ue),be=n(463),fe=n(669);const he="sendExternalEvent",ge="openNewConversation",ye="getAvailableAgents",Oe="addFilterToEvaluate";function me(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=de()(t)?t:s()(t,"initialMessages");new Promise(((o,a)=>{e(Object(fe.b)({initialMessages:n,conversationContext:s()(t,"conversationContext"),assignToUser:s()(t,"assignToUser"),createCase:!!s()(t,"autoInitiateConversation"),additional:!de()(t)&&pe()(t)?{...t.additional,externalCaseId:t.id}:void 0,silent:!!s()(t,"silent")},{resolve:o,reject:a}))})).then((e=>{Object(be.a)({topic:ge,payload:{data:{conversationId:e},request:t}})})).catch((e=>{Object(be.a)({topic:ge,payload:{error:e,request:t}})}))}me.dependecies=[B,F];var ve=n(520);function je(e,t){const n=Object(ve.b)();0!==n.index?(n.goBack(),t(!0)):t(!1)}je.dependecies=[F];var Ie=n(461),Ee=n.n(Ie),Ce=n(430);function Se(e,t){Ee()(t.payload)?Object(be.a)({topic:he,payload:{error:L,request:t}}):e({type:Ce.y,payload:t})}function Te(e,t){e({type:Ce.k,payload:t})}function _e(e,t){const n=Object(p.M)(t);if(d()(n))return;const o=k()(Object(u.a)(),{clientContext:{$merge:n}});Object(u.f)(o),e({type:Ce.e,payload:{context:n}})}Se.dependecies=[B,F],Te.dependecies=[B],_e.dependecies=[F];let xe=[];let Ae=[];let Re=[];let we=[];function Ne(e){Object(p.L)()&&e({type:W.i})}function Le(e){Object(p.L)()&&e({type:W.h})}Ne.dependecies=[B],Le.dependecies=[F];let De=[];const Me="@commerce/ADD_TO_CART",Pe="@commerce/UPDATE_CART",ke="@commerce/REMOVE_FROM_CART";function Ue(e,t){e({type:Pe,payload:t})}function Fe(e,t){e({type:ke,payload:t})}Ue.dependecies=[B],Fe.dependecies=[B];var Be=n(204),Ge=n.n(Be),Ve=n(446),ze=n(629),We=n.n(ze);We.a.validators.type.types.MobileClientType=function(e){return"IPHONE"===e||"IPHONE_VOIP"===e||"ANDROID"===e||"WINDOWS"===e||"WINDOWS_UNIVERSAL"===e};const $e={mobileClientType:{type:"MobileClientType",presence:!0},appVersion:{type:"number",presence:!0},deviceId:{type:"string",presence:!0},deviceName:{type:"string"}},He=Object.assign(Object.assign({},$e),{deviceToken:{type:"string",presence:!0}});function qe(e,t){if(t.appVersion=Ge()(t.appVersion),n=t,We()(n,He))throw Object(g.a)("Invalid device registration payload",t),new Error(L);var n;return Ve.a.post("/livechat/event/push/register-device",t).then((()=>({}))).catch((()=>{throw new Error(D)}))}qe.dependecies=[B];let Ke=[];function Ye(e,t){if(t.appVersion=Ge()(t.appVersion),n=t,We()(n,$e))throw Object(g.a)("Invalid device unregistration payload",t),new Error(L);var n;return Ve.a.post("/livechat/event/push/unregister-device",t).then((()=>({}))).catch((()=>{throw new Error(D)}))}Ye.dependecies=[B];let Xe=[];let Ze=[];const Je="NEW_MESSAGE",Qe="MESSAGE_UPDATED",et="EXTERNAL_EVENT",tt="CHAT_USER_UPDATED",nt="CHAT_USER_START_TYPING",ot="CHAT_USER_STOP_TYPING",at="LOCK_CONVERSATIONS",rt="UNLOCK_CONVERSATIONS",it="CONVERSATION_UPDATED",ct="VIDEO_CALL_STARTING",st="VIDEO_CALL_ENDED",lt="VIDEO_CALL_TOGGLE",dt="VIDEO_CALL_OFFER_ACCEPTED",ut="VIDEO_CALL_DECLINED",pt="VIDEO_CALL_MISSED",bt="CO_BROWSE_STATUS",ft="LIVE_CHAT_ASSIGNMENT_CHANGED",ht="ADD_TO_CART",gt="USER_SESSION_EXPIRED";function yt(e,t){const{type:n,...o}=t;switch(n){case Je:{const t=o.cId;e(Object(fe.a)({conversationId:t}));break}}}yt.dependecies=[B,F];var Ot=n(83),mt=n.n(Ot);const vt=e=>{Ct(X.a,e)};let jt=null,It=vt;function Et(e,t){mt()(t)&&(It=t)}function Ct(e,t){jt&&(jt(t),jt=null)}Object(Z.b)(X.a,{topic:ee.i,subscriber:e=>{let{response:{data:t}}=e;const{callBack:n,permissions:o}=t;jt=n,It(o)}});const St=(e,t)=>{e({type:W.a,payload:{subscriber:t}})};St.dependecies=[B];const Tt=(e,t)=>{e({type:W.m,payload:{id:t.id}})};Tt.dependecies=[B];const _t=e=>{Ve.a.post("/livechat/conversation/fetchAgentAvailabilityDetails").then((e=>{Object(be.a)({topic:ye,payload:{data:e.data}})})).catch((()=>{Object(be.a)({topic:ye,payload:{error:D}})}))};_t.dependecies=[B];var xt=n(122);function At(e,t){new Promise(((n,o)=>{e(Object(fe.a)({conversationId:t},{resolve:n,reject:o}))})).catch((e=>{Object(xt.b)(e)}))}At.dependecies=[B,F];var Rt=n(982);const wt={updateUserContext:[G],updateUserSettings:[z],open:[H],close:[te],onUnreadCountChange:[function(e,t){oe=J({topic:ee.l,legacySubscriberMap:oe,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(s()(n,"count"))}})}],offUnreadCountChange:[function(e,t){oe=Q({topic:ee.l,legacySubscriberMap:oe,legacySubscriber:t})}],onExternalEvent:[function(e,t){ae=J({topic:ee.f,legacySubscriberMap:ae,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offExternalEvent:[function(e,t){ae=Q({topic:ee.f,legacySubscriberMap:ae,legacySubscriber:t})}],onClose:[function(e,t){ne=J({topic:ee.d,legacySubscriberMap:ne,legacySubscriber:t,newSubscriber:()=>{t()}})}],offClose:[function(e,t){ne=Q({topic:ee.d,legacySubscriberMap:ne,legacySubscriber:t})}],enable:[Ne],disable:[Le],onAvailabilityChange:[function(e,t){Ze=J({topic:ee.c,legacySubscriberMap:Ze,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n.isChatVisible)}}),t(v===y)}],offAvailabilityChange:[function(e,t){Ze=Q({topic:ee.c,legacySubscriberMap:Ze,legacySubscriber:t})}],subscribeToUpdate:[Z.b],unsubscribeToUpdate:[Z.c],[Oe]:[St],removeFilterToEvaluate:[Tt],openNewPrompt:[ie],clearPrompt:[ce],onPromptAction:[function(e,t){se=J({topic:ee.j,legacySubscriberMap:se,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offPromptAction:[function(e,t){se=Q({topic:ee.j,legacySubscriberMap:se,legacySubscriber:t})}],[ge]:[me],[he]:[Se],clearSession:[$],updateConversationContext:[Te],updateClientContext:[_e],onShowMedia:[function(e,t){Re=J({topic:ee.h,legacySubscriberMap:Re,legacySubscriber:t,newSubscriber:()=>{t()}})}],offShowMedia:[function(e,t){Re=Q({topic:ee.h,legacySubscriberMap:Re,legacySubscriber:t})}],onCloseMedia:[function(e,t){we=J({topic:ee.g,legacySubscriberMap:we,legacySubscriber:t,newSubscriber:()=>{t()}})}],offCloseMedia:[function(e,t){we=Q({topic:ee.g,legacySubscriberMap:we,legacySubscriber:t})}],onEvent:[function(e,t){De=J({topic:ee.e,legacySubscriberMap:De,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offEvent:[function(e,t){De=Q({topic:ee.e,legacySubscriberMap:De,legacySubscriber:t})}],[ye]:[_t],openExistingConversation:[At],updateWidget:[function(e,t){const n=t.details.status;Rt.a[n]?e({type:W.p,payload:t}):(Object(g.a)("Invaild status code",n),Object(be.a)({topic:W.p,payload:{data:t,error:L}}))}],updateCart:[Ue],removeFromCart:[Fe],registerDevice:[qe,function(e,t){Object(be.a)({topic:ee.k,payload:{data:t,error:e}})}],onDeviceRegister:[function(e,t){Ke=J({topic:ee.k,legacySubscriberMap:Ke,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offDeviceRegister:[function(e,t){Ke=Q({topic:ee.k,legacySubscriberMap:Ke,legacySubscriber:t})}],unregisterDevice:[Ye,function(e,t){Object(be.a)({topic:ee.m,payload:{data:t,error:e}})}],onUnregisterDevice:[function(e,t){Xe=J({topic:ee.m,legacySubscriberMap:Xe,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offUnregisterDevice:[function(e,t){Xe=Q({topic:ee.m,legacySubscriberMap:Xe,legacySubscriber:t})}],onLoad:[function(e,t){xe=J({topic:ee.a,legacySubscriberMap:xe,legacySubscriber:t,newSubscriber:()=>{t()}})}],offLoad:[function(e,t){xe=Q({topic:ee.a,legacySubscriberMap:xe,legacySubscriber:t})}],onLoadComplete:[function(e,t){Ae=J({topic:ee.b,legacySubscriberMap:Ae,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offLoadComplete:[function(e,t){Ae=Q({topic:ee.b,legacySubscriberMap:Ae,legacySubscriber:t})}],goBack:[je],onNotification:[yt],onSeekPermission:[Et],offSeekPermission:[function(e){Et(0,vt)}],grantPermission:[Ct]},Nt=async()=>{if(!d()(b)){const e=b.shift();await Dt(...e),await Nt()}};async function Lt(e,t,n){if(!t)return;for(var o=arguments.length,a=new Array(o>3?o-3:0),r=3;r<o;r++)a[r-3]=arguments[r];const i=[h.a.emit.bind(h.a),...a];try{const e=await t(...i);n&&n(void 0,e)}catch(c){Object(g.a)(c),n&&n(c)}}async function Dt(e){const t=wt[e]&&wt[e][0],n=wt[e]&&wt[e][1],o=t&&t.dependecies&&t.dependecies.includes(F),a=t&&t.dependecies&&t.dependecies.includes(B);for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];if(a||o)return o&&!a?I()?void(n&&n(M)):E()?void f([e,...i]):void Lt(e,t,n,...i):a&&!o?w()||N()?void(n&&n(M)):R()?void f([e,...i]):void Lt(e,t,n,...i):void(w()||N()||I()?n&&n(M):R()||E()?f([e,...i]):Lt(e,t,n,...i));Lt(e,t,n,...i)}var Mt=n(414),Pt=n.n(Mt),kt=n(619),Ut=n(127),Ft=n(7),Bt=n(6),Gt=n(1883);const Vt=Object(Ft.a)("isSSOAuthorized"),zt=Object(Ft.a)("authToken"),Wt=Object(Ft.a)("oneTimeToken");class $t{}$t.isSSOAuthorized=Object(Bt.a)(Vt),$t.getAuthToken=Object(Bt.a)(zt),$t.hasIsSSOAuthorized=e=>e&&Object(Gt.a)("isSSOAuthorized",e),$t.getOneTimeToken=Object(Bt.a)(Wt);var Ht=n(428),qt=n(406),Kt=n(502),Yt=n(795),Xt=n(455);var Zt=n(468);const Jt=async e=>{let{ssoId:t,conversationId:n,messageId:o}=e;const a=await(async e=>{let{ssoId:t,conversationId:n,messageId:o}=e;const{appId:a}=Object(u.a)(),r=[{key:"idpId",value:t},{key:"x-chat-token",value:await Object(Kt.a)(a)}];return n&&r.push({key:"conversationId",value:n}),o&&r.push({key:"messageId",value:o}),r})({ssoId:t,conversationId:n,messageId:o});return`https://prod3-live-chat.sprinklr.com/api/livechat/authenticate/begin?${Object(Zt.e)(a)}`},Qt=e=>$t.isSSOAuthorized(Ut.a.getUserSettings(Object(u.a)()))&&!!qt.a.getAutoLoginSSOId(Ht.a.getCustomizationConfig(e)),en=async e=>{let{ssoId:t,conversationId:n,messageId:o}=e;const a=(e=>{const t=screen.width/2,n=screen.height/2,o=t-t/2,a=n-n/2;return window.open(e,"_blank",`height=${n},width=${t},top=${a},left=${o}`)})(await Jt({ssoId:t,conversationId:n,messageId:o}));return(()=>{const e=window.document.createElement("iframe");e.id="subscriberIframe",e.src=`https://live-chat-static.sprinklr.com/api/livechat/authenticate/listener.html?appId=${Object(u.a)().appId}`,e.style.visibility="hidden",window.document.body.appendChild(e)})(),new Promise(((e,t)=>{let n;n=setInterval((()=>{a&&a.closed&&(r(),t())}),1500);const o=async n=>{if(n.origin.match(/(sprinklr\.com)/g))try{const{params:t}=JSON.parse(n.data);await Object(Kt.k)(Object(u.a)().appId,t.authToken),e(t)}catch(o){t(),Object(xt.b)(o)}finally{r()}},r=()=>{clearInterval(n),window.removeEventListener("message",o)};window.addEventListener("message",o)})).finally((()=>{a&&a.close(),(()=>{const e=document.getElementById("subscriberIframe");e&&document.body.removeChild(e)})()}))};var tn=n(447),nn=n(411);const on=e=>{let{handshakeDetails:t,applicationConfig:n,getSessionToken:o}=e;if(o&&Object(Ve.b)({getSessionToken:o}),t&&Object(Ve.b)({userId:t.chatUser.userId}),n){const e=Ht.a.getAutoExpireUserSessionTimeInMinutes(n),t=s()(n,"otherConfigs.settings.autoExpiryConfig.alertTime");Object(Ve.b)({sessionExpiryTimeInMinutes:e,sessionExpiryAlertTime:t})}},an=async e=>{const t=Ut.a.getAppId(e),n=Ut.a.getUserSettings(e),o=$t.getAuthToken(n);if($t.hasIsSSOAuthorized(n)){const e=(e=>{if(e)try{return JSON.parse(atob(e.split(".")[1]))}catch(t){console.error("Unable to parse user token when isSSOAuthorized",e)}return nn.a})(await Object(Kt.a)(t));Object(tn.b)(e.chatUserId)&&await Object(Kt.g)(t)}o&&(await Object(Kt.g)(t),await Object(Kt.k)(t,o))};async function rn(e){const t=Ut.a.getAppId(e),n=Ut.a.getUserSettings(e),o=Pt()(Ut.a.getUserSettings(e),["authToken","isSSOAuthorized","oneTimeToken"]),a=Ut.a.getUserContext(e);let r,i;if(!!Ut.a.getSessionOrigin(Object(u.a)())){const{primaryToken:e,secondaryToken:n}=await async function(e){let t,n,o;try{t=await Object(Kt.d)(e)}catch(i){console.warn(i)}try{n=await Object(Kt.b)(e,Yt.a)}catch(i){console.warn(i)}try{o=await Object(Kt.b)(e,Yt.b)}catch(i){console.warn(i)}const a=n||o||t;let r=o||t;return r=r===a?void 0:r,{primaryToken:a,secondaryToken:r}}(t);r=e,i=n}else r=await Object(Kt.d)(t);const c={appId:t,oneTimeToken:s()(n,"oneTimeToken"),chatSessionToken:r,secondaryChatToken:i,page:Object(Xt.b)(),pageTitle:Object(Xt.c)(),referralPage:Object(Xt.d)(),timezone:Object(Xt.f)(),userAgent:Object(Xt.e)(),locale:Ut.a.getLocale(e),meetingId:Ut.a.getMeetingId(e),otp:Ut.a.getOtp(e)};if(!d()(o)){const{id:e,hash:t,...n}=o;Object.assign(c,{chatUser:{userId:e,...n},chatUserSignature:t})}return d()(a)||Object.assign(c,{customContext:a}),c}const cn=async e=>Object(kt.c)(e),sn=async e=>{const t=await Object(kt.a)(await rn(e));if(!!Ut.a.getSessionOrigin(Object(u.a)())&&await(async e=>{try{await Object(Kt.h)(e,Yt.d)}catch(t){console.warn(t)}try{await Object(Kt.h)(e,Yt.b)}catch(t){console.warn(t)}})(Ut.a.getAppId(e)),await Object(Kt.k)(Ut.a.getAppId(e),t.chatSessionToken),!t.userPreferences){const e=await Object(Kt.f)(t.chatUser.userId);return{...t,userPreferences:e}}return t},ln=e=>{h.a.on(e),A(S)},dn=async()=>{A(T),j(!1),await Nt(),Object(be.a)({topic:ee.b,payload:{error:!0}})};var un=n(130),pn=n(727),bn=n.n(pn);function fn(e){const t=Object(xt.a)();t&&t.setUser&&t.setUser({id:e.userId,username:bn()(`${e.firstName||""} ${e.lastName||""}`),email:e.email||""})}var hn=n(386),gn=n.n(hn),yn=n(486),On=n.n(yn),mn=n(744),vn=n.n(mn),jn=n(573),In=n.n(jn),En=n(450),Cn=n.n(En),Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var xn=function(e){function t(){var n,o;Tn(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=_n(this,e.call.apply(e,[this].concat(r))),o.state={match:o.computeMatch(o.props.history.location.pathname)},_n(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:Sn({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,o=t.history;In()(null==n||1===gn.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=o.listen((function(){e.setState({match:e.computeMatch(o.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){vn()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?gn.a.Children.only(e):null},t}(gn.a.Component);xn.propTypes={history:Cn.a.object.isRequired,children:Cn.a.node},xn.contextTypes={router:Cn.a.object},xn.childContextTypes={router:Cn.a.object.isRequired};var An=xn,Rn=n(477),wn=n(387),Nn=n(391),Ln=n(1281),Dn=n(729),Mn=n(526),Pn=n.n(Mn),kn=n(419),Un=n(539),Fn=n(660),Bn=n(449),Gn=n(398);const Vn=e=>Object(Bn.c)(Object(Gn.b)(e)),zn=e=>{const t=Object(Un.a)(),n=Object(kn.a)(),o=Object(Nn.d)(Vn),a=Ht.a.getVisibilityConfigFilter(n),{hasPassed:r}=Object(Fn.a)(a,{logOnSuccess:!0,defaultValue:!1}),i=!r&&o;return Object(hn.useEffect)((()=>{r&&Object(g.a)("Sprinklr Chat hidden by visibility criteria"),o||Object(g.a)("Sprinklr Chat disabled by sdk"),j(i),Object(be.a)({topic:ee.c,payload:{data:{isChatVisible:i}}})}),[r,o,i]),Object(hn.useEffect)((()=>((async()=>{await Nt(),Object(be.a)({topic:ee.a,payload:{}}),Object(be.a)({topic:ee.b,payload:{error:!1}})})(),()=>{Object(be.a)({topic:ee.c,payload:{data:{isChatVisible:!1}}})})),[]),Pn()((()=>{Nt()}),[t]),i?e.children:null};var Wn=gn.a.memo(zn),$n=n(741),Hn=n(666),qn=n(1012),Kn=n(458);var Yn=e=>{const t=Object(Un.a)(),n=Object($n.a)(Object(Hn.a)()),o=Object($n.a)(Object(Hn.b)()),a=Object($n.a)(Object(Nn.c)());return Object(hn.useEffect)((()=>{n.current&&(a.current({type:Kn.c}),o.current&&a.current({type:Kn.b}))}),[n.current,o.current]),Object(hn.useLayoutEffect)((()=>{n.current&&(Object(ve.a)(),Object(qn.b)())}),[n.current]),Pn()((()=>{Object(p.L)()&&!o.current&&a.current({type:W.d})}),[t]),e.children},Xn=n(742),Zn=n(828);const Jn=e=>Object(wn.jsx)(Zn.a,null,Object(wn.jsx)(Xn.b,null,e.children));var Qn=n(593),eo=n(393),to=n(390),no=n(397),oo=n(634),ao=n(1428),ro=n(1021);function io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function co(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var so=function(e){function t(){return io(this,t),co(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){In()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){vn()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),vn()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,o=void 0,a=void 0;return gn.a.Children.forEach(t,(function(t){if(null==o&&gn.a.isValidElement(t)){var r=t.props,i=r.path,c=r.exact,s=r.strict,l=r.sensitive,d=r.from,u=i||d;a=t,o=Object(ro.a)(n.pathname,{path:u,exact:c,strict:s,sensitive:l},e.match)}})),o?gn.a.cloneElement(a,{location:n,computedMatch:o}):null},t}(gn.a.Component);so.contextTypes={router:Cn.a.shape({route:Cn.a.object.isRequired}).isRequired},so.propTypes={children:Cn.a.node,location:Cn.a.object};var lo=so,uo=n(1023),po=n(1022),bo=n.n(po),fo={},ho=0,go=function(e){var t=e,n=fo[t]||(fo[t]={});if(n[e])return n[e];var o=bo.a.compile(e);return ho<1e4&&(n[e]=o,ho++),o},yo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"===e)return e;var n=go(e);return n(t,{pretty:!0})},Oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var jo=function(e){function t(){return mo(this,t),vo(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){In()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(uo.a)(e.to),n=Object(uo.a)(this.props.to);Object(uo.b)(t,n)?vn()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"===typeof n?yo(n,t.params):Oo({},n,{pathname:yo(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(gn.a.Component);jo.propTypes={computedMatch:Cn.a.object,push:Cn.a.bool,from:Cn.a.string,to:Cn.a.oneOfType([Cn.a.string,Cn.a.object]).isRequired},jo.defaultProps={push:!1},jo.contextTypes={router:Cn.a.shape({history:Cn.a.shape({push:Cn.a.func.isRequired,replace:Cn.a.func.isRequired}).isRequired,staticContext:Cn.a.object}).isRequired};var Io=jo,Eo=n(388);const Co=Object(Eo.a)("div",{target:"ejhhbev0"})({name:"jbngkd",styles:"display:flex;flex-direction:column;height:100%;width:100%;position:relative;"}),So=Object(wn.css)("@media screen and (min-width:",649,"px) and (min-height:",601,"px){border-radius:8px;}"),To="page-fade",_o={name:"1ih49i4",styles:"opacity:0;z-index:1;overflow:hidden;"},xo={name:"h3fsyk",styles:"opacity:1;transition:opacity 0.16s ease-in;overflow:hidden;"},Ao=Object(wn.css)(".",To,"-enter{",_o,";}.",To,"-enter.",To,"-enter-active{",xo,";}.",To,"-exit{",xo,";}.",To,"-exit.",To,"-exit-active{",_o,";}");var Ro=n(429),wo=n.n(Ro),No=n(389),Lo=n(506);const Do="snackbar",Mo=Object(Eo.a)("div",{target:"egs66bu0"})("font-size:",Object(No.e)("xs"),";margin:0 auto;position:absolute;top:20%;z-index:",Lo.a.SNACK_BAR,";"),Po=Object(Eo.a)("div",{target:"egs66bu1"})("background:",Object(No.f)("snackBar.backgroundColor"),";color:",Object(No.b)("white"),";max-width:70%;border-radius:",Object(No.a)("snackBar.borderRadius"),";padding:",Object(No.h)("snackBar.padding"),";"),ko=Object(wn.css)(".",Do,"-enter{transform:translateY(-20%);transition:transform 250ms ease-in;}.",Do,"-enter-active{transform:translateY(0);}.",Do,"-exit{transform:translateY(0);transition:transform 250ms ease-out;}.",Do,"-exit-active{transform:translateY(-20%);}");var Uo=n(540);var Fo=()=>{const{notification:e,setNotification:t}=Object(Uo.a)(),n=Object(hn.useRef)(),o=Object(hn.useMemo)((()=>s()(e,"timeout")||2e3),[e]);return Object(hn.useEffect)((()=>{e&&(window.clearTimeout(n.current),n.current=window.setTimeout((()=>{t(void 0)}),o))}),[e,o]),Object(wn.jsx)(gn.a.Fragment,null,Object(wn.jsx)(wn.Global,{styles:ko}),Object(wn.jsx)(oo.CSSTransition,{classNames:Do,in:Boolean(e),timeout:{enter:250,exit:250},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(wn.jsx)(Mo,{className:"center-x-y full-width"},e?Object(wn.jsx)(Po,{className:"text-wrap"},(a=e.message,wo()(a)?a:Object(wn.jsx)(to.b,a))):null)));var a},Bo=n(955),Go=n(743),Vo=n(676);const zo=["/logout"],Wo=e=>e&&zo.filter((t=>e.match(t))).length>0,$o=e=>{let{children:t,locationKey:n}=e;const o=Object($n.a)(n),a=Object(hn.useCallback)((e=>gn.a.cloneElement(e,{exit:!Wo(o.current),enter:!Wo(o.current)})),[]);return Object(wn.jsx)(oo.TransitionGroup,{childFactory:a},Object(wn.jsx)(oo.CSSTransition,{key:n,classNames:To,timeout:300},t))};var Ho=()=>Object(wn.jsx)(gn.a.Fragment,null,Object(wn.jsx)(Fo,null),Object(wn.jsx)(wn.Global,{styles:Ao}),Object(wn.jsx)(Co,null,Object(wn.jsx)(ao.a,{render:e=>{let{location:t}=e;return Object(wn.jsx)($o,{locationKey:t.pathname},Object(wn.jsx)(Bo.a,{css:So},(e=>{let{LogoutPage:n,HomePage:o,ConversationPage:a,ConversationsListPage:r,SurveyPage:i,Error401Page:c,KnowledgeBasePage:s,KnowledgeBaseCategoriesPage:l,KnowledgeBaseArticlePage:d}=e;return Object(wn.jsx)(lo,{location:t},Object(wn.jsx)(ao.a,{exact:!0,path:"/logout",component:n}),Object(wn.jsx)(ao.a,{exact:!0,path:"/home",component:o}),Object(wn.jsx)(ao.a,{exact:!0,path:"/survey/:surveyUrl",component:i}),Object(wn.jsx)(ao.a,{exact:!0,path:"/knowledge-base/categories/:categoryId",component:s}),Object(wn.jsx)(ao.a,{exact:!0,path:"/knowledge-base/categories/:categoryId/categories",component:l}),Object(wn.jsx)(ao.a,{exact:!0,path:"/knowledge-base"},Object(wn.jsx)(Io,{to:`/knowledge-base/categories/${Vo.a}`})),Object(wn.jsx)(ao.a,{exact:!0,path:"/knowledge-base/article/:articleId",component:d}),Object(wn.jsx)(ao.a,{path:"/conversation",render:e=>{let{match:t}=e;return Object(wn.jsx)(lo,null,Object(wn.jsx)(ao.a,{exact:!0,path:`${t.path}/all`,component:r}),Object(wn.jsx)(ao.a,{exact:!0,path:`${t.path}/new/:transientConversationId?`,render:e=>Object(wn.jsx)(a,Object(eo.a)({},e,{pageType:Go.a.NEW}))}),Object(wn.jsx)(ao.a,{exact:!0,path:`${t.path}/last`,render:e=>Object(wn.jsx)(a,Object(eo.a)({},e,{pageType:Go.a.LAST}))}),Object(wn.jsx)(ao.a,{exact:!0,path:`${t.path}/:conversationId/survey/:surveyUrl`,component:i}),Object(wn.jsx)(ao.a,{path:`${t.path}/:conversationId`,render:e=>Object(wn.jsx)(a,Object(eo.a)({},e,{pageType:Go.a.EXISTING}))}),Object(wn.jsx)(ao.a,{render:()=>Object(wn.jsx)("div",null,"Not Found")}))}}),Object(wn.jsx)(ao.a,{exact:!0,path:"/401",component:c}))})))}}))),qo=n(128);const Ko=Object(wn.css)("padding-top:env(safe-area-inset-top);@media screen and (min-width:",649,"px) and (min-height:",601,"px){border-radius:8px;}");var Yo=()=>Object(wn.jsx)(gn.a.Fragment,null,Object(wn.jsx)(ao.a,{render:e=>{let{location:t}=e;return Object(wn.jsx)(Bo.a,{css:Ko},(e=>{let{LogoutPage:n,ConversationPage:o,SurveyPage:a,Error401Page:r}=e;return Object(wn.jsx)(lo,{location:t},Object(wn.jsx)(ao.a,{exact:!0,path:"/logout",component:n}),Object(wn.jsx)(ao.a,{exact:!0,path:"/home"},Object(wn.jsx)(Io,{to:"/conversation/new"})),Object(wn.jsx)(ao.a,{exact:!0,path:"/survey/:surveyUrl",component:a}),Object(wn.jsx)(ao.a,{path:"/conversation",render:e=>{let{conversationLocation:t,match:n}=e;return Object(wn.jsx)(lo,{location:t},Object(wn.jsx)(ao.a,{exact:!0,path:`${n.path}/new/:transientConversationId?`,render:e=>Object(wn.jsx)(o,Object(eo.a)({key:e.match.params.transientConversationId||qo.e},e,{pageType:Go.a.NEW}))}),Object(wn.jsx)(ao.a,{exact:!0,path:`${n.path}/last`,render:e=>Object(wn.jsx)(o,Object(eo.a)({},e,{pageType:Go.a.LAST}))}),Object(wn.jsx)(ao.a,{exact:!0,path:`${n.path}/:conversationId/survey/:surveyUrl`,component:a}),Object(wn.jsx)(ao.a,{path:`${n.path}/:conversationId`,render:e=>Object(wn.jsx)(o,Object(eo.a)({key:e.match.params.conversationId},e,{pageType:Go.a.EXISTING}))}))}}),Object(wn.jsx)(ao.a,{exact:!0,path:"/401",component:r}))}))}}),Object(wn.jsx)(Fo,null)),Xo=n(624),Zo=n(1270),Jo=n(797),Qo=n(1277),ea=n(400);const ta=e=>`spr-cobrowse-state_${e}`,na=!!Ut.a.getSessionOrigin(Object(u.a)());var oa={get:async e=>{try{const t=ta(e);if(!na)return Yt.d.getItem(t);const n=await Yt.c.getItem(t);if(!n){const e=await Yt.d.getItem(t);if(e)return Yt.d.removeItem(t),await Yt.c.setItem(t,e),e}return n}catch(t){return void console.warn(t)}},set:(e,t)=>na?Yt.c.setItem(ta(e),t):Yt.d.setItem(ta(e),t),remove:e=>na?Yt.c.removeItem(ta(e)):Yt.d.removeItem(ta(e))},aa=n(678),ra=n(403),ia=n(836);const ca=Object(ra.a)((()=>Promise.all([n.e(0),n.e(18)]).then(n.bind(null,1856)))),sa={endCobrowseSession:aa.c,resumeCobrowseSession:aa.n,markCobrowseSessionFailed:aa.e};var la=()=>{const e=Object(Nn.d)(Gn.f),{endCobrowseSession:t,resumeCobrowseSession:n,markCobrowseSessionFailed:o}=Object(ea.a)(sa),a=Object(hn.useCallback)((()=>{t({messageId:e.messageId})}),[e.messageId]),{appId:r}=Object(hn.useMemo)((()=>Object(u.a)()),[]);return Object(hn.useEffect)((()=>{(async()=>{const e=await oa.get(r);try{if(e){const{conversationId:t,messageId:o,agentId:a}=JSON.parse(e);n({state:{conversationId:t,messageId:o,agentId:a}})}}catch{o({reason:ia.a.RESUME_SESSION_FAILED})}})()}),[n,r]),d()(e)?null:Object(wn.jsx)(hn.Suspense,{fallback:Object(wn.jsx)(Qo.a,{sessionState:e.sessionState,onStopSession:a})},Object(wn.jsx)(ca,{cobrowseState:e}))},da=n(536),ua=n(575);const pa=Object(Eo.a)(da.a,{target:"e1ogxy6u0"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),ba=Object(Eo.a)("div",{target:"e1ogxy6u1"})("height:100%;width:100%;display:flex;align-items:center;justify-content:center;background-image:",Object(No.f)("page.gradients"),";background-color:",Object(No.f)("page.backgroundColor"),";"),fa=Object(Eo.a)("div",{target:"e1ogxy6u2"})("height:calc( 100% - ",(e=>{const{absoluteValue:t,unit:n}=Object(No.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t+n})," );width:calc( 100% - ",(e=>{const{absoluteValue:t,unit:n}=Object(No.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t+n})," );border-radius:",(e=>Object(No.c)("page.minPadding",{defaultUnit:"px"})(e).absoluteValue?"8px":"0px"),";box-shadow:0 2px 15px 0 rgba(0,0,0,0.2);overflow:hidden;background-color:",Object(No.b)("white"),";",(e=>!e.isPhone&&!Object(ua.a)()&&"max-width: 648px;\n    max-height: 95%;"),";"),ha={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"};var ga=n(394),ya=n(422),Oa=n(747),ma=n(542);const va="CONVERSATION",ja="CONVERSATION_LIST",Ia="KNOWLEDGE_BASE",Ea="KNOWLEDGE_BASE_LIST",Ca="SURVEY",Sa=["/conversation/"],Ta={survey:Ca,401:"401",home:"HOME"};var _a=n(440);const xa=()=>{var e;const t=Object(ya.a)(),n=Object(ma.a)(),o=null===n||void 0===n||null===(e=n.location)||void 0===e?void 0:e.pathname,a=null===n||void 0===n?void 0:n.action,r=Object(hn.useMemo)((()=>(e=>{let t;const n=null===e||void 0===e?void 0:e.split("/");if(n&&n.length>1)switch(n[1]){case"knowledge-base":n.length>2&&(t="article"===n[2]?Ia:Ea);break;case"conversation":n.length>3&&"survey"===n[3]?t=Ca:n.length>2&&(t="all"===n[2]?ja:va);break;default:t=Ta[n[1]]}return t})(o)),[o]);Object(hn.useEffect)((()=>{r&&((e,t)=>!("REPLACE"===t&&Sa.filter((t=>null===e||void 0===e?void 0:e.match(t))).length))(o,a)&&t({action:_a.a.PAGE_OPENED,additional:{value:r}})}),[r,o])};var Aa=n(423);const Ra=Object(ra.a)((()=>Promise.all([n.e(0),n.e(102)]).then(n.bind(null,1869)))),wa=e=>{const t=Object(ga.a)(),n=Object(ya.a)();return xa(),Object(hn.useEffect)((()=>(n({action:_a.a.CONVERSATION_WINDOW_OPENED}),()=>{n({action:_a.a.CONVERSATION_WINDOW_CLOSED})})),[]),Object(wn.jsx)(ba,null,Object(wn.jsx)(fa,{ref:e.pageBoxRef,className:"spr",isPhone:t},Object(p.B)()?Object(wn.jsx)(Yo,null):Object(wn.jsx)(Ho,null)))};var Na=Object(to.h)((e=>{const t=Object(kn.a)(),n=Object(hn.useRef)(),o=Object(no.b)(),a=e.intl.formatMessage,r=Object(Oa.a)(),i=Object(ea.a)(Rn.e),c=Object(hn.useCallback)((()=>{r(n),i()}),[r,i]);return Object(wn.jsx)(gn.a.Fragment,null,Object(wn.jsx)(Zo.a,{theme:o}),Object(wn.jsx)(pa,{"aria-label":a(Aa.a.liveChatBox),name:"spr-chat__page-frame",contentDidMount:c},Object(wn.jsx)(wn.Global,{styles:ha}),t&&t.autoExpireUserSessionTimeInMinutes?Object(wn.jsx)(hn.Suspense,{fallback:null},Object(wn.jsx)(Ra,null)):null,Object(wn.jsx)(wa,Object(eo.a)({},e,{pageBoxRef:n}))),Object(wn.jsx)(Jo.b,{parentFrameRef:n}),Object(wn.jsx)(la,null),Object(wn.jsx)(Xo.b,null))})),La=n(558),Da=n(124),Ma=n.n(Da),Pa=n(1436),ka=n.n(Pa),Ua=n(1437),Fa=n.n(Ua);const Ba=(e,t)=>{const n=[];return Ma()(e,((e,o)=>{"filters"===o?Ma()(e,(e=>{let{filter:o,value:a}=e;d()(o)||d()(a)||n.push({field:o.field,filterType:o.fieldType||o.filterType,filters:o.filters,values:o.values,details:{...o.details,path:t,value:a}})})):n.push(...Ba(e,t?`${t}.${o}`:o))})),n};var Ga=e=>{const t=Object(hn.useMemo)((()=>Ba(s()(e,"styleFilters"),"")),[e]),n=Object(Fn.a)(t),o=(e=>{let{styles:t,flatFilters:n,evaluatedFilters:o}=e;const a=ka()(t);return Ma()(n,((e,t)=>{o[t].hasPassed&&e.details&&Fa()(a,e.details.path,{...s()(a,e.details.path),...e.details.value})})),a})({styles:s()(e,"styles"),flatFilters:t,evaluatedFilters:n});return{...e,styles:o}};var Va=e=>{const t=Object(no.b)(),n=Ga(t);return Object(wn.jsx)(no.a,{theme:n},e.children)},za=n(941),Wa=n(1289),$a=n(1034),Ha=n(401),qa=n(522);const Ka=Object(ra.a)((()=>Promise.all([n.e(0),n.e(102)]).then(n.bind(null,1869)))),Ya=e=>Object(Bn.g)(Object(Gn.b)(e)),Xa=Object(to.h)((e=>{const t=Object(kn.a)(),n=Object(Nn.d)(Ya),o=e.intl.formatMessage,a=Object(Ha.a)(),r=qt.a.isTriggerHiddenWhenMaximised(a),i=Object(ya.a)(),c=Object(ga.a)(),s=Object(hn.useRef)(),l=Object(Oa.a)(),d=Object(ea.a)(Rn.e),[u,b]=Object(hn.useState)(!1),f=Object(no.b)();xa();const h=Object(hn.useCallback)((e=>{b(e)}),[]);Pn()((()=>{const e=n?qa.a.CONVERSATION_WINDOW_CLOSED:qa.a.CONVERSATION_WINDOW_OPENED;i({action:e})}),[n]);const g=Object(hn.useCallback)((()=>{l(s),d()}),[l]),y=Object(hn.useMemo)((()=>({setIsFrameMaximized:h,isFrameMaximized:u})),[h,u]),O=Object(Wa.f)({theme:f});return Object(wn.jsx)(gn.a.Fragment,null,Object(wn.jsx)(wn.Global,{styles:O}),Object(wn.jsx)(oo.CSSTransition,{in:!n,classNames:Wa.d,timeout:{enter:500,exit:500},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(wn.jsx)($a.a.Provider,{value:y},Object(wn.jsx)(Wa.a,{className:"spr-chat__box spr-live-chat-frame",ref:e.frameRef,isPhone:c,alignWithChatTrigger:!!r,isMaximized:u},Object(wn.jsx)(Wa.c,{isPhone:c},Object(wn.jsx)(Wa.b,{"aria-label":o(Aa.a.liveChatBox),name:"spr-chat__box-frame",isPhone:c,contentDidMount:g},Object(wn.jsx)(wn.Global,{styles:Wa.e}),Object(wn.jsx)("div",{className:"full-height full-width",ref:s},t&&t.autoExpireUserSessionTimeInMinutes?Object(wn.jsx)(hn.Suspense,{fallback:null},Object(wn.jsx)(Ka,null)):null,Object(p.B)()?Object(wn.jsx)(Yo,null):Object(wn.jsx)(Ho,null))))))))}));var Za=gn.a.forwardRef(((e,t)=>Object(wn.jsx)(Xa,{frameRef:t}))),Ja=n(438),Qa=n.n(Ja),er=n(559),tr=n(679),nr=n.n(tr),or=n(839),ar=n(538);const rr=e=>{let{prompt:t,isLocked:n}=e;if(!n)return t;const{buttons:o=ar.a}=t,a=(e=>e.length&&nr()(e,(e=>e.type!==or.b.NEW_CONVERSATION)))(o);return a?t:void 0};var ir=n(405),cr=n(410);const sr=Object(ra.a)((()=>n.e(45).then(n.bind(null,1858)))),lr=e=>Object(Bn.f)(Object(Gn.b)(e)),dr=e=>Object(cr.b)(Object(cr.p)(Object(ir.c)(e)));var ur=e=>{const t=Object(Nn.d)(Gn.d),n=Object(Nn.d)(lr),{isLocked:o,lockReason:a}=Object(er.a)(),r=Object(Nn.d)(dr),i=Object(hn.useRef)();return i.current=Object(hn.useMemo)((()=>{if(i.current){const e=i.current.id,n=Qa()(t,(t=>t.id===e));if(!d()(n)){const e=rr({prompt:n,isLocked:o});if(e)return e}}return Qa()(t,(e=>{const t=rr({prompt:e,isLocked:o});if(t)return t}))}),[t,o]),d()(i.current)||n||!r?(o&&Object(g.a)("Cannot initiate prompt: ",a),null):Object(wn.jsx)(hn.Suspense,{fallback:null},Object(wn.jsx)(sr,Object(eo.a)({},e,{visiblePrompt:i.current})))},pr=n(632),br=n(801);const fr=Object(Eo.a)("div",{target:"egvnsbi0"})("display:flex;background:transparent;overflow:hidden;border-radius:",(e=>Object(No.a)("trigger.overlayIconButton.borderRadius",Object(No.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";bottom:",(e=>Object(za.b)(e)),"px;height:",Object(No.f)("trigger.overlayIconButton.button.height"),"px;",(e=>Object(za.d)({leftOffset:Object(za.e)(e),rightOffset:Object(za.e)(e)})(e)),";width:",Object(No.f)("trigger.overlayIconButton.button.width"),"px;position:fixed;transform:translatez(",(e=>Object(No.f)("frame.translateZ")(e)),"px);"),hr=Object(Eo.a)(da.a,{target:"egvnsbi1"})({name:"1aywylc",styles:"border:0 none;box-shadow:0 2px 32px 0 rgba(0,0,0,0.15),0 1px 6px 0 rgba(0,0,0,0.09);height:100%;width:100%;"}),gr=Object(Eo.a)(br.a,{target:"egvnsbi2"})("font-size:",Object(No.f)("trigger.overlayIconButton.fontSize"),";height:",Object(No.f)("trigger.overlayIconButton.button.height"),"px;width:",Object(No.f)("trigger.overlayIconButton.button.width"),"px;line-height:",Object(No.f)("trigger.overlayIconButton.button.height"),"px;border-radius:",(e=>Object(No.a)("trigger.overlayIconButton.borderRadius",Object(No.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";"),yr="spr-chat-proactive-box-anim",Or=Object(wn.css)(".",yr,"-enter{opacity:0;}.",yr,"-enter.",yr,"-enter-active{opacity:1;transition:opacity 0.3s ease,transform 0.15s ease;}.",yr,"-enter-done,.",yr,"-appear{}.",yr,"-exit{opacity:1;}.",yr,"-exit.",yr,"-exit-active{opacity:0;transition:opacity 0s ease,transform 0s ease;}"),mr=Object(Eo.a)("div",{target:"egvnsbi3"})("position:relative;z-index:",(e=>Object(No.f)("frame.zIndex")(e)),";");var vr=n(580);const jr=Object(pr.a)((e=>Object(Bn.g)(Object(Gn.b)(e))),(e=>Object(Bn.f)(Object(Gn.b)(e))),(e=>Object(cr.v)(Object(cr.p)(Object(Gn.c)(e)))),((e,t,n)=>({isMinimized:e,isChatTriggerHidden:t,totalUnreadCount:n})));var Ir=Object(to.h)((e=>{const{isMinimized:t,totalUnreadCount:n,isChatTriggerHidden:o}=Object(Nn.d)(jr),a=Object(no.b)(),r=e.intl.formatMessage;return o?null:Object(wn.jsx)(gn.a.Fragment,null,Object(wn.jsx)(wn.Global,{styles:Or}),Object(wn.jsx)(oo.CSSTransition,{in:t,timeout:{enter:300,exit:0},classNames:yr,mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(wn.jsx)(mr,{className:"notification-container"},Object(wn.jsx)(vr.a,{unreadCount:n,shouldPlay:!0}),n>0&&Object(wn.jsx)(fr,{className:"spr-chat__notification-box spr-live-chat-frame",theme:a},Object(wn.jsx)(hr,{name:"spr-chat__notification-frame","aria-label":r(Aa.a.liveChatNotification)},Object(wn.jsx)(gr,{className:"center-x-y",count:n}))))))}));var Er=()=>{const e=Object(hn.useRef)(null);return Object(wn.jsx)(gn.a.Fragment,null,Object(wn.jsx)(ur,{chatBoxFrameRef:e}),Object(wn.jsx)(za.a,null),Object(wn.jsx)(Ir,null),Object(wn.jsx)(Za,{ref:e}),Object(wn.jsx)(Jo.b,{parentFrameRef:e}),Object(wn.jsx)(la,null),Object(wn.jsx)(Xo.b,null))},Cr=n(663),Sr=n(578),Tr=n(1013);const _r=e=>Object(wn.jsx)(Tr.a.Provider,{value:Object(hn.useState)(void 0)},e.children);var xr=n(1014),Ar=n(1010),Rr=n(800),wr=n(1033),Nr=n(802);const Lr=gn.a.createContext("MODERN");var Dr=e=>Object(wn.jsx)(Lr.Provider,{value:e.skin},e.children),Mr=n(840),Pr=n(1036);var kr=n(677),Ur=n.n(kr),Fr=n(503),Br=n.n(Fr),Gr=n(1442),Vr=n.n(Gr),zr=n(1443),Wr=n.n(zr),$r=n(134),Hr=n.n($r),qr=n(631),Kr=n.n(qr),Yr=n(543),Xr=n(1037);const Zr="CLASSIC",Jr="MODERN",Qr="HYPERSPACE";var ei=n(427),ti=n(480),ni=n(748),oi=n(637),ai=n(638);const ri=ni.a.CROSS;function ii(e){return Object(ei.f)(e)||Object(ei.e)(e)?e:Yr.a.charcoal}const ci=ni.a.CHEVRON;function si(e){return Object(ei.f)(e)||Object(ei.e)(e)?e:Yr.a.charcoal}const li={[Zr]:e=>{const{colors:t,typography:{fontSizes:n,fontFamily:o},styles:a}=e,r=Object(ei.c)(t.primary),i=(Object(ei.h)(.1,t.primary,t.white),Object(ei.d)(t.primary)),c=ii(t.primary),l=function(e){const t=ii(e);return t?Object(ei.k)(Object(ei.e)(t)?.95:.85,t):""}(t.primary),d=s()(a,"chatConversation.body.backgroundColor",t.white),u=Object(ei.d)(d),p=Object(No.f)("trigger.closeIcon.type")({theme:e})||ri,b=s()(a,"chatMessage.secondary.backgroundColor",t.azure),{headerBackgroundColor:f,headerButtonHoverColor:h,headerContrastingColor:g}=Object(ai.b)(s()(a,"header",{}),t.primary);return{frame:{borderRadius:"8px",height:"600px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5,align:oi.a.TRIGGER_RIGHT_BOX_RIGHT},call:{height:"240px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:ti.c.MEDIUM,variant:ti.d.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:t.white,color:i,fontFamily:o,fontSize:"1.2rem",lineHeight:1.4,letterSpacing:-.12,gradients:s()(a,"header.gradients",`linear-gradient(64deg, ${Object(ei.b)(t.primary).join(",")})`)},page:{minPadding:"2.5%",backgroundColor:Object(ei.h)(.5,Object(ei.k)(.85,t.charcoal),Object(ei.k)(.95,t.primary))},button:{standard:{default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"},[ti.d.PRIMARY]:{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i,":hover":{backgroundColor:t.primary,borderColor:t.primary,position:"relative","::after":{backgroundColor:Object(ei.e)(t.primary)?"rgba(71, 71, 71, 0.2)":"rgba(71, 71, 71, 0.1)",top:0,bottom:0,left:0,right:0,position:"absolute",display:"block",content:'""',borderRadius:"inherit"}},":disabled":{backgroundColor:t.primary,borderColor:t.primary,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary}},[ti.d.SECONDARY]:{backgroundColor:t.white,borderColor:t.white,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:t.white,borderColor:t.charcoal},":disabled":{backgroundColor:t.white,borderColor:t.white,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i}},[ti.d.TERTIARY]:{backgroundColor:t.white,borderColor:t.primary,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:Object(ei.e)(t.primary)?Object(ei.j)(t.primary,.02):Object(ei.j)(t.primary,.1)},":disabled":{backgroundColor:t.white,opacity:"0.5"},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:t.white,fill:t.white}},[ti.c.LARGE]:{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:18,fontSize:n.md},[ti.c.MEDIUM]:{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:16,fontSize:n.xs}}},card:{backgroundColor:t.white,borderRadius:"4px",lg:{paddingTop:24,paddingRight:20,paddingBottom:24,paddingLeft:20,title:{paddingTop:0,paddingRight:36,paddingBottom:0,paddingLeft:36,fontSize:n.lg,fontWeight:600,gutterWidth:20,textAlign:"center",color:t.charcoal}},sm:{paddingTop:24,paddingRight:20,paddingBottom:24,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:n.lg,fontWeight:500,gutterWidth:20,textAlign:"left",color:t.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:24,paddingRight:20,paddingBottom:0,paddingLeft:20,fontWeight:600,fontSize:n.lg,color:t.charcoal},summaryCard:{paddingTop:16,paddingRight:20,paddingBottom:16,paddingLeft:20},arrow:{icon:{fill:t.primary}},hoverStyles:{backgroundColor:t.water}}},notification:{color:t.white,backgroundColor:t.blue},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontWeight:"normal",fontSize:n.sm,paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:t.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:"600"},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"lg",gutterWidth:"12"}},chatMessage:{borderRadius:"4px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:t.primary,borderColor:t.primary,color:i},secondary:{backgroundColor:b,borderColor:t.azure,color:t.charcoal},sender:{height:32,width:32,align:"bottom",gutterWidth:12},timeStamp:{align:oi.e.VERTICAL},senderName:{align:oi.d.BOTTOM},attachment:{size:oi.b.FIXED,card:{title:{color:t.charcoal,fontWeight:700,textAlign:"center",fontSize:n.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:n.sm,textAlign:"left"},color:t.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,buttonAlign:ti.a.CENTER,button:{size:ti.c.LARGE,variant:ti.d.SECONDARY,overrides:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:t.charcoal,alignSelf:"center",fontWeight:600,textAlign:"center",fontSize:n.sm},paddingTop:20,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:20,buttonAndFieldsGutterWidth:8,button:{size:ti.c.MEDIUM,variant:ti.d.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:ti.c.MEDIUM,variant:ti.d.SECONDARY}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottomColor:t.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:t.white,marginTop:10,borderRadius:12,disabledStyles:{color:t.ash},selectedStyles:{backgroundColor:t.primary,color:t.white},neighboringMonth:{color:t.anchor}}}}}},chatConversation:{body:{backgroundColor:t.white,backgroundUrl:"",paddingTop:12,paddingRight:16,paddingBottom:0,paddingLeft:16},dateBubble:{color:u,backgroundColor:d,borderRadius:"20px",boxShadow:"0 2px 8px 0 rgba(10, 10, 20, 0.2)"},quickReply:{color:t.charcoal,backgroundColor:t.white,borderColor:t.ash,hoverStyles:{color:i,backgroundColor:t.primary,borderColor:t.primary}},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:t.azure,option:{fontSize:n.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:t.charcoal,borderBottomWidth:1,borderBottomColor:t.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 8px 8px",borderTopColor:t.ash,paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:n.md,backgroundColor:t.white,placeholder:{color:t.anchor},disabledStyles:{backgroundColor:b},button:{default:{fontSize:n.md},primary:{color:t.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:t.primary}},secondary:{button:{},icon:{fill:t.anchor,hoverStyles:{fill:t.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:t.blue},icon:{height:16,width:16,fill:t.white}}}}},notification:{backgroundColor:"rgba(10, 10, 20, 0.7)"}},snackBar:{paddingTop:8,paddingRight:16,paddingBottom:8,paddingLeft:16,backgroundColor:t.charcoal,borderRadius:4},errorScreen:{icon:{height:40,width:40,fill:t.red},label:{fontSize:n.md,fontWeight:600,minHeight:0},button:{marginTop:32}},header:{backgroundColor:f,buttonGroupGutterWidth:"0",color:g,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:n.md,color:g},description:{fontSize:n.xs,color:g},icon:{fill:g,height:"14",width:"14"},button:{width:"40",height:"40",backgroundColor:"transparent",hoverStyles:{backgroundColor:h}},lg:{paddingTop:28,paddingBottom:0,paddingLeft:28,paddingRight:28,logo:{marginBottom:20,height:32},title:{fontWeight:300,fontSize:n.xxxxl},description:{marginTop:8,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:n.lg}}},input:{default:{borderColor:t.ash,fontSize:n.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,borderRadius:4,backgroundColor:t.white,color:t.charcoal,placeholderColor:t.anchor,hoverStyles:{borderColor:t.fossil},focusStyles:{borderColor:t.primary},errorStyles:{borderColor:t.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:t.fossil,hoverStyles:{fill:t.primary}},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:l},selectedStyles:{fontWeight:600,backgroundColor:l,borderLeftWidth:2,borderLeftColor:c}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:t.water,hoverStyles:{backgroundColor:t.azure},focusStyles:{backgroundColor:t.azure},selectedStyles:{backgroundColor:t.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:t.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:t.primary,borderColor:t.primary,backgroundColor:t.primary}},option:{fontSize:n.xs,color:t.charcoal}}},inputLabel:{fontSize:n.xs,fontWeight:500,color:t.anchor,labelAndInputGutterWidth:4,errorColor:t.anchor,activeColor:t.anchor},trigger:{align:oi.f.RIGHT,backgroundColor:t.primary,borderWidth:1,borderColor:t.primary,backgroundHoverColor:r,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:n.xs},removeIcon:{backgroundColor:t.charcoal,fill:t.white},icon:{type:"mic",color:i,height:26,width:26},closeIcon:{type:p,color:i,height:oi.g[p].height,width:oi.g[p].width}},link:{color:s()(a,["link","color"],"#0E61F6")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,direction:"column",removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(ei.j)(t.charcoal,.6)},icon:{fill:Yr.a.white,height:8,width:8}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:n.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)",fontWeight:400,backgroundColor:Object(ei.j)(t.primary,.05),hoverStyles:{color:t.white,backgroundColor:t.primary}}}}},[Jr]:e=>{const{colors:t,typography:{fontSizes:n,fontFamily:o},styles:a}=e,r=Object(ei.c)(t.primary),i=(Object(ei.h)(.1,t.primary,t.white),Object(ei.d)(t.primary)),c=si(t.primary),l=function(e){const t=si(e);return t?Object(ei.k)(Object(ei.e)(t)?.95:.85,t):""}(t.primary),d=s()(a,"chatConversation.body.backgroundColor",t.white),u=Object(ei.d)(d),p=Object(No.f)("trigger.closeIcon.type")({theme:e})||ci,b=s()(a,"chatMessage.secondary.backgroundColor",t.azure),{headerBackgroundColor:f,headerButtonHoverColor:h,headerContrastingColor:g}=Object(ai.b)(s()(a,"header",{}),t.primary);return{frame:{borderRadius:"16px",height:"700px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5,align:oi.a.TRIGGER_RIGHT_BOX_RIGHT},call:{height:"240px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:ti.c.MEDIUM,variant:ti.d.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:t.white,color:i,fontFamily:o,fontSize:"1.2rem",lineHeight:1.4,letterSpacing:-.12,gradients:s()(a,"header.gradients",`linear-gradient(64deg, ${Object(ei.b)(t.primary).join(",")})`)},page:{minPadding:"2.5%",backgroundColor:Object(ei.h)(.5,Object(ei.k)(.85,t.charcoal),Object(ei.k)(.95,t.primary))},button:{standard:{default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"},[ti.d.PRIMARY]:{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i,":hover":{backgroundColor:t.primary,borderColor:t.primary,position:"relative","::after":{backgroundColor:Object(ei.e)(t.primary)?"rgba(71, 71, 71, 0.2)":"rgba(71, 71, 71, 0.1)",top:0,bottom:0,left:0,right:0,position:"absolute",display:"block",content:'""',borderRadius:"inherit"}},":disabled":{backgroundColor:t.primary,borderColor:t.primary,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary}},[ti.d.SECONDARY]:{backgroundColor:t.white,borderColor:t.white,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:t.white,borderColor:t.charcoal},":disabled":{backgroundColor:t.white,borderColor:t.white,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i}},[ti.d.TERTIARY]:{backgroundColor:t.white,borderColor:t.primary,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:Object(ei.e)(t.primary)?Object(ei.j)(t.primary,.02):Object(ei.j)(t.primary,.1)},":disabled":{backgroundColor:t.white,opacity:"0.5"},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:t.white,fill:t.white}},[ti.c.LARGE]:{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:10,fontSize:n.md},[ti.c.MEDIUM]:{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:8,fontSize:n.xs}}},card:{backgroundColor:t.white,borderRadius:"10px",boxShadow:"0px 2px 15px 0px rgba(0, 0, 0, 0.15)",lg:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:20,paddingRight:10,paddingBottom:0,paddingLeft:10,fontSize:n.xxl,fontWeight:600,gutterWidth:42,textAlign:"left",color:t.charcoal}},sm:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:n.lg,fontWeight:600,gutterWidth:16,textAlign:"left",color:t.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:20,paddingRight:20,paddingBottom:12,paddingLeft:20,fontSize:n.lg,fontWeight:600,color:t.charcoal},summaryCard:{paddingTop:12,paddingRight:20,paddingBottom:12,paddingLeft:20},arrow:{icon:{fill:t.primary}},hoverStyles:{backgroundColor:t.water}}},notification:{color:t.white,backgroundColor:t.red},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontSize:n.sm,fontWeight:"normal",paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:t.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:600},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"md",gutterWidth:"12"}},chatMessage:{borderRadius:"10px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:t.primary,borderColor:t.primary,color:i},secondary:{backgroundColor:b,borderColor:t.azure,color:t.charcoal},sender:{height:32,width:32,align:"bottom",gutterWidth:12},timeStamp:{align:oi.e.VERTICAL},senderName:{align:oi.d.BOTTOM},attachment:{size:oi.b.FIXED,card:{title:{color:t.charcoal,fontWeight:700,textAlign:"center",fontSize:n.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:n.sm,textAlign:"left"},color:t.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,buttonAlign:ti.a.CENTER,button:{size:ti.c.LARGE,variant:ti.d.SECONDARY,overrides:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:t.charcoal,alignSelf:"center",fontWeight:600,textAlign:"left",fontSize:n.sm},paddingTop:16,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:16,buttonAndFieldsGutterWidth:4,button:{size:ti.c.MEDIUM,variant:ti.d.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:ti.c.MEDIUM,variant:ti.d.SECONDARY}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottomColor:t.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:t.white,marginTop:10,borderRadius:12,disabledStyles:{color:t.ash},selectedStyles:{backgroundColor:t.primary,color:t.white},neighboringMonth:{color:t.anchor}}}}}},chatConversation:{body:{backgroundColor:t.white,backgroundUrl:"",paddingTop:12,paddingRight:16,paddingBottom:0,paddingLeft:16},dateBubble:{color:u,backgroundColor:d,borderRadius:"14px",boxShadow:"0px 0px 6px 0px rgba(0, 0, 0, 0.15)"},quickReply:{color:t.charcoal,backgroundColor:t.white,borderColor:t.ash,hoverStyles:{color:i,backgroundColor:t.primary,borderColor:t.primary}},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:t.azure,option:{fontSize:n.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:t.charcoal,borderBottomWidth:1,borderBottomColor:t.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 8px 8px",borderTopColor:t.ash,paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:n.md,backgroundColor:t.white,placeholder:{color:t.anchor},disabledStyles:{backgroundColor:b},button:{default:{fontSize:n.md},primary:{color:t.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:t.primary}},secondary:{button:{},icon:{fill:t.anchor,hoverStyles:{fill:t.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:t.blue},icon:{height:16,width:16,fill:t.white}}}}},notification:{backgroundColor:"rgba(10, 10, 20, 0.7)"}},snackBar:{paddingTop:8,paddingRight:16,paddingBottom:8,paddingLeft:16,backgroundColor:t.charcoal,borderRadius:4},errorScreen:{icon:{height:40,width:40,fill:t.red},label:{fontSize:n.md,fontWeight:600,minHeight:0},button:{marginTop:32}},header:{backgroundColor:f,buttonGroupGutterWidth:"0",color:g,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:n.md,color:g},description:{fontSize:n.xs,color:g},icon:{fill:g,height:"14",width:"14"},button:{width:"40",height:"40",backgroundColor:"transparent",hoverStyles:{backgroundColor:h}},lg:{paddingTop:28,paddingBottom:20,paddingLeft:24,paddingRight:24,logo:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,height:26},title:{fontWeight:500,fontSize:n.xxxl},description:{marginTop:4,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:n.lg}}},input:{default:{fontSize:n.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,color:t.charcoal,backgroundColor:t.white,borderRadius:8,borderColor:t.ash,placeholderColor:t.anchor,hoverStyles:{borderColor:t.fossil},focusStyles:{borderColor:t.primary},errorStyles:{borderColor:t.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:t.fossil,hoverStyles:{fill:t.primary}},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:l},selectedStyles:{fontWeight:600,backgroundColor:l,borderLeftWidth:2,borderLeftColor:c}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:t.water,hoverStyles:{backgroundColor:t.azure},focusStyles:{backgroundColor:t.azure},selectedStyles:{backgroundColor:t.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:t.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:t.primary,borderColor:t.primary,backgroundColor:t.primary}},option:{fontSize:n.xs,color:t.charcoal}}},inputLabel:{fontSize:n.xs,fontWeight:500,color:t.anchor,labelAndInputGutterWidth:4,errorColor:t.anchor,activeColor:t.anchor},trigger:{align:oi.f.RIGHT,backgroundColor:t.primary,borderWidth:1,borderColor:t.primary,backgroundHoverColor:r,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:n.xs},removeIcon:{backgroundColor:t.charcoal,fill:t.white},icon:{type:"mic",color:i,height:26,width:26},closeIcon:{type:p,color:i,height:oi.g[p].height,width:oi.g[p].width}},link:{color:s()(a,["link","color"],"#0E61F6")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,direction:"column",removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(ei.j)(t.charcoal,.6)},icon:{height:8,width:8,fill:Yr.a.white}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:n.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)",fontWeight:400,backgroundColor:Object(ei.j)(t.primary,.05),hoverStyles:{color:t.white,backgroundColor:t.primary}}}}},[Qr]:e=>{const{colors:t,typography:{fontSizes:n,fontFamily:o},styles:a}=e;return{tombstone:{background:"linear-gradient(to right, #f8f8fa 0%, #dbdbdb 50%, #f8f8fa 100%)"},frame:{borderRadius:"16px",height:"700px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5},body:{backgroundColor:t.white,color:"#ffffff",fontFamily:o,fontSize:"1.2rem",lineHeight:1.4,gradients:s()(a,"header.gradients",`linear-gradient(64deg, ${Object(ei.b)(t.primary).join(",")})`)},link:{color:s()(a,["link","color"],"#0E61F6")},trigger:{align:"right",backgroundColor:"#0a0a14",borderWidth:1,borderColor:"#0a0a14",backgroundHoverColor:"#0240cb",size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:"12px"},icon:{type:"collaborators",color:"#ffffff",height:26,width:26},closeIcon:{type:"cross",color:"#ffffff",height:14,width:14},xPadding:20,yPadding:30,border:"1px solid #1c62fd"},search:{backgroundColor:"#f8f8fd",hover:{borderColor:"#0e61f6"}},timestamp:{color:"#73737d"},createConversationButton:{borderColor:"#CAD3D6",hover:{borderColor:"#0e61f6"}},backIcon:{color:"#a9a9b2",hover:{color:"#0e61f6"}},receivedMessage:{backgroundColor:"#f5f5f5",color:"#0a0a14"},sentMessage:{backgroundColor:"#0a0a14",color:"#ffffff"},messageArea:{hover:{borderColor:"#0e61f6"}},sendIcon:{hover:{color:"#0e61f6"}}}}},di=(e,t)=>li[t](e),ui={field:"userInfo.deviceType",fieldType:"EQUALS",values:["MOBILE"]},pi={[Zr]:e=>{const{typography:{fontSizes:t}}=e;return{page:{filters:[{value:{minPadding:"0"},filter:ui}]},button:{standard:{[ti.c.LARGE]:{filters:[{value:{fontSize:t.lg},filter:ui}]},[ti.c.MEDIUM]:{filters:[{value:{fontSize:t.sm},filter:ui}]}}},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:t.lg},filter:ui}]},description:{filters:[{value:{fontSize:t.lg},filter:ui}]}},form:{title:{filters:[{value:{fontSize:t.lg},filter:ui}]}}}},input:{default:{filters:[{value:{fontSize:t.lg,minHeight:36},filter:ui}]},checkboxGroup:{option:{filters:[{value:{fontSize:t.lg},filter:ui}]}}},inputLabel:{filters:[{value:{fontSize:t.lg},filter:ui}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:t.lg},filter:ui}]}},faq:{option:{filters:[{value:{fontSize:t.lg},filter:ui}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:t.md},filter:ui}]}},errorScreen:{label:{filters:[{value:{fontSize:t.lg},filter:ui}]}},header:{title:{filters:[{value:{fontSize:t.lg},filter:ui}]},description:{filters:[{value:{fontSize:t.md},filter:ui}]},lg:{logo:{filters:[{value:{height:40},filter:ui}]},title:{filters:[{value:{fontSize:t.xxxxxl},filter:ui}]},description:{filters:[{value:{fontSize:t.xl},filter:ui}]}}},card:{lg:{title:{filters:[{value:{fontSize:t.xl},filter:ui}]}},sm:{title:{filters:[{value:{fontSize:t.xl},filter:ui}]}}}}},[Jr]:e=>{const{typography:{fontSizes:t}}=e;return{page:{filters:[{value:{minPadding:"0"},filter:ui}]},button:{standard:{[ti.c.LARGE]:{filters:[{value:{fontSize:t.lg},filter:ui}]},[ti.c.MEDIUM]:{filters:[{value:{fontSize:t.sm,minHeight:36},filter:ui}]}}},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:t.lg},filter:ui}]},description:{filters:[{value:{fontSize:t.lg},filter:ui}]}},form:{title:{filters:[{value:{fontSize:t.lg},filter:ui}]}}}},input:{default:{filters:[{value:{fontSize:t.lg},filter:ui}]},checkboxGroup:{option:{filters:[{value:{fontSize:t.lg},filter:ui}]}}},inputLabel:{filters:[{value:{fontSize:t.lg},filter:ui}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:t.lg},filter:ui}]}},faq:{option:{filters:[{value:{fontSize:t.lg},filter:ui}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:t.md},filter:ui}]}},errorScreen:{errorLabel:{filters:[{value:{fontSize:t.lg},filter:ui}]}},header:{title:{filters:[{value:{fontSize:t.lg},filter:ui}]},description:{filters:[{value:{fontSize:t.md},filter:ui}]},lg:{logo:{filters:[{value:{height:40},filter:ui}]},description:{filters:[{value:{fontSize:t.xl},filter:ui}]}}}}},[Qr]:()=>({})},bi=(e,t)=>pi[t](e);function fi(e,t){if(!pe()(e)||d()(e))return t;const n=Wr()(e);return Ma()(t,((t,o)=>{n[o]=de()(t)?Br()(Vr()(e[o],t)):fi(e[o],t)})),n}const hi=e=>({...e,colors:Hr()({},Yr.a,e.colors)}),gi=e=>({...e,typography:Object(Xr.a)(e.typography)}),yi=(e,t)=>({...t,styles:Object(ai.a)(Hr()({},di(t,e),t.styles))}),Oi=(e,t)=>({...t,styleFilters:fi(bi(t,e),t.styleFilters)});var mi=e=>{const t=Object(hn.useContext)(Lr),n=Object(hn.useMemo)((()=>((e,t)=>Kr()([hi,gi,Ur()(yi,t),Ur()(Oi,t)])(e))(e.theme,t)),[e.theme,t]);return Object(wn.jsx)(no.a,{theme:n},e.children)};const vi={theme:{},direction:"ltr",device:"DESKTOP",skin:"CLASSIC",intl:{locale:"en",messages:{},defaultLocale:"en"},ownerDocument:window.document},ji=e=>{let{theme:t,direction:n,device:o,skin:a,ownerDocument:r,intl:i,children:c}=e;const s=Object(hn.useMemo)((()=>{return e=r,Object(Nr.a)({container:e.head});var e}),[r]);return Object(wn.jsx)(wn.CacheProvider,{value:s},Object(wn.jsx)(to.e,i,Object(wn.jsx)(Dr,{skin:a},Object(wn.jsx)(mi,{theme:t},Object(wn.jsx)(Pr.b,{direction:n},Object(wn.jsx)(Mr.b,{device:o},c))))))};ji.defaultProps=vi;var Ii=ji,Ei=n(523),Ci=n(402),Si=n(1019);var Ti=gn.a.memo(Object(to.h)((e=>{const t=Object(Ei.a)(),n=Object(Ci.a)(),o=Object(kn.a)(),a=Object(Si.a)(),r=Object(hn.useMemo)((()=>({locale:e.intl.locale,messages:e.intl.messages,defaultLocale:e.intl.defaultLocale})),[e.intl]);return Object(wn.jsx)(Ii,{ownerDocument:window.parent.document,theme:o.otherConfigs.theme,direction:n.direction,device:t.device,skin:a,intl:r},e.children)}))),_i=n(1031),xi=n(123),Ai=n.n(xi);const Ri=e=>{let{id:t,filters:n}=e;const o=Object(Fn.a)(n);return Object(hn.useEffect)((()=>{Object(be.a)({topic:Oe,payload:{data:{id:t,filters:n,results:de()(o)?Ai()(o,(e=>e.hasPassed)):o.hasPassed}}})}),[o,n]),null},wi=e=>Object(Bn.b)(Object(Gn.b)(e)),Ni=gn.a.memo((e=>{const t=Object(Nn.d)(wi);return Object(wn.jsx)(gn.a.Fragment,null,Ai()(t,((e,t)=>Object(wn.jsx)(Ri,{key:t,id:t,filters:e}))),e.children)}));var Li=n(1287),Di=n(435),Mi=n(636);var Pi=function(e){let{applicationConfig:t,store:n,history:o}=e;const a=Object(u.b)(),r=Object(p.K)()?Na:Er,i=Object(hn.useCallback)((e=>Object(Di.e)(Object(Gn.g)(n.getState()),e)),[]),c=Object(hn.useMemo)((()=>Object(Mi.a)(a.document)),[a.document]);return Object(hn.useEffect)((()=>{n.dispatch(Object(Rn.d)())}),[n]),Object(wn.jsx)(wn.CacheProvider,{value:c},Object(wn.jsx)(Rr.a,{window:a},Object(wn.jsx)(Nn.a,{store:n},Object(wn.jsx)(Dn.b,null,Object(wn.jsx)(_r,null,Object(wn.jsx)(Jn,null,Object(wn.jsx)(Qn.b.Provider,{value:t},Object(wn.jsx)(Ar.a,null,Object(wn.jsx)(Ni,null,Object(wn.jsx)(Li.b,null,Object(wn.jsx)(Wn,null,Object(wn.jsx)(Sr.a,{locale:Object(u.a)().locale,applicationConfig:t},Object(wn.jsx)(Ti,null,Object(wn.jsx)(Va,null,Object(wn.jsx)(La.b.Provider,{value:i},Object(wn.jsx)(xr.a,null,Object(wn.jsx)(Ln.b,null,Object(wn.jsx)(Cr.a,null,Object(wn.jsx)(wr.a.Provider,{value:o},Object(wn.jsx)(An,{history:o},Object(wn.jsx)(_i.b,null,Object(wn.jsx)(Yn,null,Object(wn.jsx)(r,null)))))))))))))))))))))))},ki=n(482),Ui=function(e){return"@@redux-saga/"+e},Fi=Ui("CANCEL_PROMISE"),Bi=Ui("CHANNEL_END"),Gi=Ui("IO"),Vi=Ui("MATCH"),zi=Ui("MULTICAST"),Wi=Ui("SAGA_ACTION"),$i=Ui("SELF_CANCELLATION"),Hi=Ui("TASK"),qi=Ui("TASK_CANCEL"),Ki=Ui("TERMINATE"),Yi=Ui("LOCATION"),Xi=n(537),Zi=n(630),Ji=function(e){return null===e||void 0===e},Qi=function(e){return null!==e&&void 0!==e},ec=function(e){return"function"===typeof e},tc=function(e){return"string"===typeof e},nc=Array.isArray,oc=function(e){return e&&ec(e.then)},ac=function(e){return e&&ec(e.next)&&ec(e.throw)},rc=function e(t){return t&&(tc(t)||sc(t)||ec(t)||nc(t)&&t.every(e))},ic=function(e){return e&&ec(e.take)&&ec(e.close)},cc=function(e){return ec(e)&&e.hasOwnProperty("toString")},sc=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var lc=function(e,t){var n;void 0===t&&(t=!0);var o=new Promise((function(o){n=setTimeout(o,e,t)}));return o[Fi]=function(){clearTimeout(n)},o},dc=function(e){return function(){return e}}(!0),uc=function(){};var pc=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var bc=function(e,t){Object(Xi.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function fc(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function hc(e){var t=!1;return function(){t||(t=!0,e())}}var gc=function(e){throw e},yc=function(e){return{value:e,done:!0}};function Oc(e,t,n){void 0===t&&(t=gc),void 0===n&&(n="iterator");var o={meta:{name:n},next:e,throw:t,return:yc,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(o[Symbol.iterator]=function(){return o}),o}function mc(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var vc=function(e){return Array.apply(null,new Array(e))},jc=function(e){return function(t){return e(Object.defineProperty(t,Wi,{value:!0}))}},Ic=function(e){return e===Ki},Ec=function(e){return e===qi},Cc=function(e){return Ic(e)||Ec(e)};function Sc(e,t){var n=Object.keys(e),o=n.length;var a,r=0,i=nc(e)?vc(o):{},c={};return n.forEach((function(e){var n=function(n,c){a||(c||Cc(n)?(t.cancel(),t(n,c)):(i[e]=n,++r===o&&(a=!0,t(i))))};n.cancel=uc,c[e]=n})),t.cancel=function(){a||(a=!0,n.forEach((function(e){return c[e].cancel()})))},c}function Tc(e){return{name:e.name||"anonymous",location:_c(e)}}function _c(e){return e[Yi]}var xc={isEmpty:dc,put:uc,take:uc};function Ac(e,t){void 0===e&&(e=10);var n=new Array(e),o=0,a=0,r=0,i=function(t){n[a]=t,a=(a+1)%e,o++},c=function(){if(0!=o){var t=n[r];return n[r]=null,o--,r=(r+1)%e,t}},s=function(){for(var e=[];o;)e.push(c());return e};return{isEmpty:function(){return 0==o},put:function(c){var l;if(o<e)i(c);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[a]=c,r=a=(a+1)%e;break;case 4:l=2*e,n=s(),o=n.length,a=n.length,r=0,n.length=l,e=l,i(c)}},take:c,flush:s}}var Rc=function(){return xc},wc=function(e){return Ac(e,3)},Nc=function(e){return Ac(e,4)},Lc=Object.freeze({__proto__:null,none:Rc,fixed:function(e){return Ac(e,1)},dropping:function(e){return Ac(e,2)},sliding:wc,expanding:Nc}),Dc="TAKE",Mc="PUT",Pc="ALL",kc="RACE",Uc="CALL",Fc="FORK",Bc="CANCEL",Gc="SELECT",Vc="ACTION_CHANNEL",zc="CANCELLED",Wc=function(e,t){var n;return(n={})[Gi]=!0,n.combinator=!1,n.type=e,n.payload=t,n},$c=function(e){return Wc(Fc,Object(Xi.a)({},e.payload,{detached:!0}))};function Hc(e,t){return void 0===e&&(e="*"),rc(e)?Wc(Dc,{pattern:e}):ic(n=e)&&n[zi]&&Qi(t)&&rc(t)?Wc(Dc,{channel:e,pattern:t}):ic(e)?Wc(Dc,{channel:e}):void 0;var n}function qc(e,t){return Ji(t)&&(t=e,e=void 0),Wc(Mc,{channel:e,action:t})}function Kc(e){var t=Wc(Pc,e);return t.combinator=!0,t}function Yc(e){var t=Wc(kc,e);return t.combinator=!0,t}function Xc(e,t){var n,o=null;return ec(e)?n=e:(nc(e)?(o=e[0],n=e[1]):(o=e.context,n=e.fn),o&&tc(n)&&ec(o[n])&&(n=o[n])),{context:o,fn:n,args:t}}function Zc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Wc(Uc,Xc(e,n))}function Jc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Wc(Fc,Xc(e,n))}function Qc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return $c(Jc.apply(void 0,[e].concat(n)))}function es(e){return void 0===e&&(e=$i),Wc(Bc,e)}function ts(e){void 0===e&&(e=pc);for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Wc(Gc,{selector:e,args:n})}function ns(e,t){return Wc(Vc,{pattern:e,buffer:t})}var os=Zc.bind(null,lc);function as(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var rs=as,is=[],cs=0;function ss(e){try{us(),e()}finally{ps()}}function ls(e){is.push(e),cs||(us(),bs())}function ds(e){try{return us(),e()}finally{bs()}}function us(){cs++}function ps(){cs--}function bs(){var e;for(ps();!cs&&void 0!==(e=is.shift());)ss(e)}var fs=function(e){return function(t){return e.some((function(e){return ms(e)(t)}))}},hs=function(e){return function(t){return e(t)}},gs=function(e){return function(t){return t.type===String(e)}},ys=function(e){return function(t){return t.type===e}},Os=function(){return dc};function ms(e){var t="*"===e?Os:tc(e)?gs:nc(e)?fs:cc(e)?gs:ec(e)?hs:sc(e)?ys:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var vs={type:Bi},js=function(e){return e&&e.type===Bi};function Is(e){void 0===e&&(e=Nc());var t=!1,n=[];return{take:function(o){t&&e.isEmpty()?o(vs):e.isEmpty()?(n.push(o),o.cancel=function(){fc(n,o)}):o(e.take())},put:function(o){if(!t){if(0===n.length)return e.put(o);n.shift()(o)}},flush:function(n){t&&e.isEmpty()?n(vs):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var o=0,a=e.length;o<a;o++){(0,e[o])(vs)}}}}}function Es(e,t){void 0===t&&(t=Rc());var n,o=!1,a=Is(t),r=function(){o||(o=!0,ec(n)&&n(),a.close())};return n=hc(n=e((function(e){js(e)?r():a.put(e)}))),o&&n(),{take:a.take,flush:a.flush,close:r}}function Cs(){var e=function(){var e,t=!1,n=[],o=n,a=function(){o===n&&(o=n.slice())},r=function(){t=!0;var e=n=o;o=[],e.forEach((function(e){e(vs)}))};return(e={})[zi]=!0,e.put=function(e){if(!t)if(js(e))r();else for(var a=n=o,i=0,c=a.length;i<c;i++){var s=a[i];s[Vi](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=Os),t?e(vs):(e[Vi]=n,a(),o.push(e),e.cancel=hc((function(){a(),fc(o,e)})))},e.close=r,e}(),t=e.put;return e.put=function(e){e[Wi]?t(e):ls((function(){t(e)}))},e}function Ss(e,t){var n=e[Fi];ec(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var Ts,_s=0,xs=function(){return++_s};function As(e){e.isRunning()&&e.cancel()}var Rs=((Ts={}).TAKE=function(e,t,n){var o=t.channel,a=void 0===o?e.channel:o,r=t.pattern,i=t.maybe,c=function(e){e instanceof Error?n(e,!0):!js(e)||i?n(e):n(Ki)};try{a.take(c,Qi(r)?ms(r):null)}catch(s){return void n(s,!0)}n.cancel=c.cancel},Ts.PUT=function(e,t,n){var o=t.channel,a=t.action,r=t.resolve;ls((function(){var t;try{t=(o?o.put:e.dispatch)(a)}catch(i){return void n(i,!0)}r&&oc(t)?Ss(t,n):n(t)}))},Ts.ALL=function(e,t,n,o){var a=o.digestEffect,r=_s,i=Object.keys(t);if(0!==i.length){var c=Sc(t,n);i.forEach((function(e){a(t[e],r,c[e],e)}))}else n(nc(t)?[]:{})},Ts.RACE=function(e,t,n,o){var a=o.digestEffect,r=_s,i=Object.keys(t),c=nc(t)?vc(i.length):{},s={},l=!1;i.forEach((function(e){var t=function(t,o){l||(o||Cc(t)?(n.cancel(),n(t,o)):(n.cancel(),l=!0,c[e]=t,n(c)))};t.cancel=uc,s[e]=t})),n.cancel=function(){l||(l=!0,i.forEach((function(e){return s[e].cancel()})))},i.forEach((function(e){l||a(t[e],r,s[e],e)}))},Ts.CALL=function(e,t,n,o){var a=t.context,r=t.fn,i=t.args,c=o.task;try{var s=r.apply(a,i);if(oc(s))return void Ss(s,n);if(ac(s))return void Fs(e,s,c.context,_s,Tc(r),!1,n);n(s)}catch(l){n(l,!0)}},Ts.CPS=function(e,t,n){var o=t.context,a=t.fn,r=t.args;try{var i=function(e,t){Ji(e)?n(t):n(e,!0)};a.apply(o,r.concat(i)),i.cancel&&(n.cancel=i.cancel)}catch(c){n(c,!0)}},Ts.FORK=function(e,t,n,o){var a=t.context,r=t.fn,i=t.args,c=t.detached,s=o.task,l=function(e){var t=e.context,n=e.fn,o=e.args;try{var a=n.apply(t,o);if(ac(a))return a;var r=!1;return Oc((function(e){return r?{value:e,done:!0}:(r=!0,{value:a,done:!oc(a)})}))}catch(i){return Oc((function(){throw i}))}}({context:a,fn:r,args:i}),d=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Tc(t)}(l,r);ds((function(){var t=Fs(e,l,s.context,_s,d,c,void 0);c?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},Ts.JOIN=function(e,t,n,o){var a=o.task,r=function(e,t){if(e.isRunning()){var n={task:a,cb:t};t.cancel=function(){e.isRunning()&&fc(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(nc(t)){if(0===t.length)return void n([]);var i=Sc(t,n);t.forEach((function(e,t){r(e,i[t])}))}else r(t,n)},Ts.CANCEL=function(e,t,n,o){var a=o.task;t===$i?As(a):nc(t)?t.forEach(As):As(t),n()},Ts.SELECT=function(e,t,n){var o=t.selector,a=t.args;try{n(o.apply(void 0,[e.getState()].concat(a)))}catch(r){n(r,!0)}},Ts.ACTION_CHANNEL=function(e,t,n){var o=t.pattern,a=Is(t.buffer),r=ms(o),i=function t(n){js(n)||e.channel.take(t,r),a.put(n)},c=a.close;a.close=function(){i.cancel(),c()},e.channel.take(i,r),n(a)},Ts.CANCELLED=function(e,t,n,o){n(o.task.isCancelled())},Ts.FLUSH=function(e,t,n){t.flush(n)},Ts.GET_CONTEXT=function(e,t,n,o){n(o.task.context[t])},Ts.SET_CONTEXT=function(e,t,n,o){var a=o.task;bc(a.context,t),n()},Ts);function ws(e,t){return e+"?"+t}function Ns(e){var t=e.name,n=e.location;return n?t+"  "+ws(n.fileName,n.lineNumber):t}function Ls(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var Ds=null,Ms=[],Ps=function(){Ds=null,Ms.length=0},ks=function(){var e=Ms[0],t=Ms.slice(1),n=e.crashedEffect?function(e){var t=_c(e);return t?t.code+"  "+ws(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+Ns(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+Ns(e.meta)})),[Ls(Ms)]).join("\n")};function Us(e,t,n,o,a,r,i){var c;void 0===i&&(i=uc);var s,l,d=0,u=null,p=[],b=Object.create(n),f=function(e,t,n){var o,a=[],r=!1;function i(e){t(),s(),n(e,!0)}function c(t){a.push(t),t.cont=function(c,s){r||(fc(a,t),t.cont=uc,s?i(c):(t===e&&(o=c),a.length||(r=!0,n(o))))}}function s(){r||(r=!0,a.forEach((function(e){e.cont=uc,e.cancel()})),a=[])}return c(e),{addTask:c,cancelAll:s,abort:i,getTasks:function(){return a}}}(t,(function(){p.push.apply(p,f.getTasks().map((function(e){return e.meta.name})))}),h);function h(t,n){if(n){if(d=2,(r={meta:a,cancelledTasks:p}).crashedEffect=Ds,Ms.push(r),g.isRoot){var o=ks();Ps(),e.onError(t,{sagaStack:o})}l=t,u&&u.reject(t)}else t===qi?d=1:1!==d&&(d=3),s=t,u&&u.resolve(t);var r;g.cont(t,n),g.joiners.forEach((function(e){e.cb(t,n)})),g.joiners=null}var g=((c={})[Hi]=!0,c.id=o,c.meta=a,c.isRoot=r,c.context=b,c.joiners=[],c.queue=f,c.cancel=function(){0===d&&(d=1,f.cancelAll(),h(qi,!1))},c.cont=i,c.end=h,c.setContext=function(e){bc(b,e)},c.toPromise=function(){return u||(u=rs(),2===d?u.reject(l):0!==d&&u.resolve(s)),u.promise},c.isRunning=function(){return 0===d},c.isCancelled=function(){return 1===d||0===d&&1===t.status},c.isAborted=function(){return 2===d},c.result=function(){return s},c.error=function(){return l},c);return g}function Fs(e,t,n,o,a,r,i){var c=e.finalizeRunEffect((function(t,n,o){if(oc(t))Ss(t,o);else if(ac(t))Fs(e,t,l.context,n,a,!1,o);else if(t&&t[Gi]){(0,Rs[t.type])(e,t.payload,o,d)}else o(t)}));u.cancel=uc;var s={meta:a,cancel:function(){0===s.status&&(s.status=1,u(qi))},status:0},l=Us(e,s,n,o,a,r,i),d={task:l,digestEffect:p};return i&&(i.cancel=l.cancel),u(),l;function u(e,n){try{var a;n?(a=t.throw(e),Ps()):Ec(e)?(s.status=1,u.cancel(),a=ec(t.return)?t.return(qi):{done:!0,value:qi}):a=Ic(e)?ec(t.return)?t.return():{done:!0}:t.next(e),a.done?(1!==s.status&&(s.status=3),s.cont(a.value)):p(a.value,o,u)}catch(r){if(1===s.status)throw r;s.status=2,s.cont(r,!0)}}function p(t,n,o,a){void 0===a&&(a="");var r,i=xs();function s(n,a){r||(r=!0,o.cancel=uc,e.sagaMonitor&&(a?e.sagaMonitor.effectRejected(i,n):e.sagaMonitor.effectResolved(i,n)),a&&function(e){Ds=e}(t),o(n,a))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:i,parentEffectId:n,label:a,effect:t}),s.cancel=uc,o.cancel=function(){r||(r=!0,s.cancel(),s.cancel=uc,e.sagaMonitor&&e.sagaMonitor.effectCancelled(i))},c(t,i,s)}}function Bs(e,t){var n=e.channel,o=void 0===n?Cs():n,a=e.dispatch,r=e.getState,i=e.context,c=void 0===i?{}:i,s=e.sagaMonitor,l=e.effectMiddlewares,d=e.onError,u=void 0===d?mc:d;for(var p=arguments.length,b=new Array(p>2?p-2:0),f=2;f<p;f++)b[f-2]=arguments[f];var h=t.apply(void 0,b);var g,y=xs();if(s&&(s.rootSagaStarted=s.rootSagaStarted||uc,s.effectTriggered=s.effectTriggered||uc,s.effectResolved=s.effectResolved||uc,s.effectRejected=s.effectRejected||uc,s.effectCancelled=s.effectCancelled||uc,s.actionDispatched=s.actionDispatched||uc,s.rootSagaStarted({effectId:y,saga:t,args:b})),l){var O=ki.d.apply(void 0,l);g=function(e){return function(t,n,o){return O((function(t){return e(t,n,o)}))(t)}}}else g=pc;var m={channel:o,dispatch:jc(a),getState:r,sagaMonitor:s,onError:u,finalizeRunEffect:g};return ds((function(){var e=Fs(m,h,c,y,Tc(t),!0,void 0);return s&&s.effectResolved(y,e),e}))}var Gs=function(e){var t,n=void 0===e?{}:e,o=n.context,a=void 0===o?{}:o,r=n.channel,i=void 0===r?Cs():r,c=n.sagaMonitor,s=Object(Zi.a)(n,["context","channel","sagaMonitor"]);function l(e){var n=e.getState,o=e.dispatch;return t=Bs.bind(null,Object(Xi.a)({},s,{context:a,channel:i,dispatch:o,getState:n,sagaMonitor:c})),function(e){return function(t){c&&c.actionDispatched&&c.actionDispatched(t);var n=e(t);return i.put(t),n}}}return l.run=function(){return t.apply(void 0,arguments)},l.setContext=function(e){bc(a,e)},l},Vs=Gs;const zs=new(n(1280).a)({middlewares:[],getContext:()=>Promise.resolve({})});var Ws=zs;class $s{constructor(){this.data={}}setReducer(e){return this.data.reducer=e,this}setSaga(e){return this.data.saga=e,this}setPreloadedState(e){return this.data.preloadedState=e,this}setHTTPClient(e){return this.data.httpClient=e,this}setApplicationConfig(e){return e&&(this.data.applicationConfig=e),this}setHandshakeDetails(e){return e&&(this.data.handshakeDetails=e),this}setChatSettings(e){return e&&(this.data.chatSettings=e),this}build(){const{applicationConfig:e,handshakeDetails:t,chatSettings:n,httpClient:o,reducer:a,preloadedState:r,saga:i}=this.data,c=n.clientContext;In()(o,"HTTP Client is not configured"),(e=>{zs.clone(e)})(o),In()(a,"Reducer is not configured");const s=[];const l=Vs();s.push(l);const d=Object(ki.e)(a,r,Object(ki.a)(...s));i&&l.run(i);const u={payload:{applicationConfig:e,handshakeDetails:t,clientContext:c},type:Kn.a};return d.dispatch(u),this.data.store=d,d}}var Hs=function(e){return{done:!0,value:e}},qs={};function Ks(e){return ic(e)?"channel":cc(e)?String(e):ec(e)?e.name:String(e)}function Ys(e,t,n){var o,a,r,i=t;function c(t,n){if(i===qs)return Hs(t);if(n&&!a)throw i=qs,n;o&&o(t);var c=n?e[a](n):e[i]();return i=c.nextState,r=c.effect,o=c.stateUpdater,a=c.errorState,i===qs?Hs(t):r}return Oc(c,(function(e){return c(null,e)}),n)}function Xs(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var r,i={done:!1,value:Hc(e)},c=function(e){return{done:!1,value:Jc.apply(void 0,[t].concat(o,[e]))}},s=function(e){return r=e};return Ys({q1:function(){return{nextState:"q2",effect:i,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(r)}}},"q1","takeEvery("+Ks(e)+", "+t.name+")")}function Zs(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var r,i,c={done:!1,value:Hc(e)},s=function(e){return{done:!1,value:Jc.apply(void 0,[t].concat(o,[e]))}},l=function(e){return{done:!1,value:es(e)}},d=function(e){return r=e},u=function(e){return i=e};return Ys({q1:function(){return{nextState:"q2",effect:c,stateUpdater:u}},q2:function(){return r?{nextState:"q3",effect:l(r)}:{nextState:"q1",effect:s(i),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:s(i),stateUpdater:d}}},"q1","takeLatest("+Ks(e)+", "+t.name+")")}function Js(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var r,i={done:!1,value:Hc(e)},c=function(e){return{done:!1,value:Zc.apply(void 0,[t].concat(o,[e]))}},s=function(e){return r=e};return Ys({q1:function(){return{nextState:"q2",effect:i,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(r)}}},"q1","takeLeading("+Ks(e)+", "+t.name+")")}function Qs(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return Jc.apply(void 0,[Xs,e,t].concat(o))}var el=n(472),tl=n(505),nl=n.n(tl),ol=n(47),al=n.n(ol),rl=n(437),il=n(576),cl=n.n(il);function sl(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post("/livechat/conversation/chatUsers",e)).data}))}const ll=e=>Object(rl.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ws.post("/livechat/conversation/chatUser",cl()(e,["userId","userType","firstName","lastName","fullName","profileImageUrl","email","phoneNo","customContext"]))).data}));function dl(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){const{query:t="",size:n=10,pageNum:o=0}=e;return(yield Ws.get(`/livechat/user/search-users?query=${t}&size=${n}&pageNum=${o}`)).data}))}var ul=n(442);const pl=e=>({userId:e,email:"",firstName:"",userType:"PARTNER",phoneNo:"",profileImageUrl:""});function*bl(e){try{const t=Ai()(e,(e=>e.sender)),n=yield Zc(sl,e),o=Ai()(n,(e=>ul.a.getId(e)));let a=[];Ma()(t,(e=>{!o.includes(e)&&Object(tn.c)(e)&&(a=[...a,pl(e)])})),yield qc({type:U.d,payload:{users:[...n,...a]}})}catch(t){Object(xt.b)(t)}}function*fl(e){try{const t=nl()(e);if(0===t.length)return;const n=((e,t)=>{const n={};return al()(t,((t,o)=>{const a=o.sender;return n[a]||!!Object(Di.f)(e,a)||(n[a]=a,t.push(o)),t}),[])})(yield ts(ir.h),t);if(0===n.length)return;yield Zc(bl,n)}catch(t){Object(xt.b)(t)}}function*hl(e){try{yield Zc(bl,nl()(e))}catch(t){Object(xt.b)(t)}}var gl=n(464);function yl(e){return e.type===at||e.type===rt}function*Ol(e){try{yield Kc(e.filter(yl).map((e=>qc(e))))}catch(t){Object(xt.b)(t)}}function ml(e){return e.type===ft}const vl=e=>"USER"===e,jl=new Set(["WORK_QUEUE","TASK_QUEUE","HOLDING_QUEUE"]);function*Il(e){try{const{assignmentTime:n,assignedTo:o,unassignedFrom:a,conversationId:r,newAssigneeType:i,oldAssigneeType:c}=e.payload,s=[];o&&vl(i)&&s.push({conversationId:r,sender:o}),a&&vl(c)&&s.push({conversationId:r,sender:a}),yield Zc(fl,s),yield qc(Object(el.a)({conversationId:r,workQueueAssigned:(t=i,jl.has(t)),agentAssigned:vl(i)}));const l=yield ts((e=>Object(Di.f)(Object(ir.h)(e),o))),d={currentlyAssignedUser:l,previouslyAssignedUser:yield ts((e=>Object(Di.f)(Object(ir.h)(e),a))),assignmentTime:n};vl(i)&&(yield qc(Object(Rn.c)({conversationId:r,additional:d,action:_a.a.AGENT_ASSIGNED})))}catch(n){Object(xt.b)(n)}var t}function*El(e){try{const t=e.filter(ml);yield Kc(t.map(Il))}catch(t){Object(xt.b)(t)}}function*Cl(e){try{const{events:t}=e.payload;yield Kc([Zc(Ol,t),Zc(El,t)])}catch(t){Object(xt.b)(t)}}function*Sl(){try{yield Qs(gl.l,Cl)}catch(e){Object(xt.b)(e)}}function*Tl(e){yield os(e),yield qc(Object(Rn.h)())}function*_l(){let e;const t=yield ns([at,rt]);for(;;)try{const{type:n,payload:o}=yield Hc(t);e&&!e.isCancelled()&&(yield es(e)),n===at&&(e=yield Jc(Tl,o.waitTime),yield qc(Object(Rn.f)({waitTime:o.waitTime,reason:o.reason}))),n===rt&&(yield qc(Object(Rn.h)()))}catch(n){Object(xt.b)(n)}}function*xl(){yield Kc([Jc(_l)])}function*Al(){try{yield Kc([Jc(Sl),Jc(xl)])}catch(e){Object(xt.b)(e)}}var Rl=n(829),wl=n.n(Rl),Nl=n(413),Ll=n(448),Dl=n(478),Ml=n(443),Pl=n.n(Ml);function kl(e){let{shouldFetchNumberOfOpenConversation:t,size:n,cursor:o}=e;return Object(rl.__awaiter)(this,void 0,void 0,(function*(){let e=`/livechat/conversation/fetch?fetchNumberOfOpenConversations=${t}&sortKey=lastInteractionTime`;n&&(e=`${e}&size=${n}`),o&&o.after&&(e=`${e}&after=${o.after}`),o&&o.before&&(e=`${e}&before=${o.before}`);return(yield Ws.get(e)).data}))}function Ul(e,t,n){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){let o;o=wo()(n)?`data=${encodeURIComponent(n)}`:Ai()(n,((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`)).join("&");const a=[...Object.keys(t),"Content-type"];return(yield Ws.post(e,o,{headers:Object.assign(Object.assign({},t),{"Content-Type":"application/x-www-form-urlencoded"}),baseURL:"",transformRequest:(e,t)=>(Ma()(t,((e,n)=>{Pl()(a,n)||delete t[n]})),e)})).data}))}function Fl(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.get(`/livechat/conversation/fetch/${e}`)).data}))}function Bl(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.get(`/livechat/conversation/fetch/case/${e}`)).data}))}function Gl(e,t){let{size:n,cursor:o}=t;return Object(rl.__awaiter)(this,void 0,void 0,(function*(){const t=[{key:"conversationId",value:e}];n&&t.push({key:"size",value:n}),o&&t.push({key:"cursor",value:o});const a=t.map((e=>`${e.key}=${e.value}`)).join("&");return(yield Ws.get(`/livechat/conversation/fetchMessages?${a}`)).data}))}function Vl(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post(`/livechat/conversation/closeConversation?conversationId=${e}`)).data}))}function zl(){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post("/livechat/conversation/closeAll")).data}))}function Wl(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post(`/livechat/conversation/delete?conversationId=${e}`)).data}))}function $l(){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post("/livechat/conversation/deleteAll")).data}))}function Hl(e,t){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post(`/livechat/conversation/updateDisclaimer/${e}?disclaimerStatus=${t}`)).data}))}function ql(e,t){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){const n={conversationId:e,messageId:t};return(yield Ws.get("/livechat/conversation/fetchMessage",{params:n,backoff:!0})).data}))}function Kl(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post("/livechat/appointment/slots",{slotDefinitionId:e.slotDefinitionId,startTime:e.selectedDate.getTime(),timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function Yl(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post("/livechat/appointment/reserve",{startTime:e.selectedDate.getTime(),selectedSlot:e.selectedSlot,slotDefinitionId:e.slotDefinitionId,timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function Xl(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post("/livechat/conversation/new",e)).data}))}function Zl(e,t,n){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post("/livechat/conversation/suggestions",Object.assign({conversationId:e,query:t},n))).data}))}function Jl(e){let{context:t,updateLatest:n}=e;Ws.post(`/livechat/conversation/updateConversationDetails?updateLatest=${n}`,t)}function Ql(e){let{conversationId:t,context:n}=e;Ws.post(`/livechat/conversation/updateConversationDetails?conversationId=${t}`,n)}function ed(e){return Ws.post(`/livechat/conversation/cancelAsset/${e}`)}function td(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return Ws.post(`/livechat/conversation/markSurveyOpened/${e}`)}))}function nd(){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.get("/livechat/conversation/fetchNumberOfOpenConversations")).data}))}function od(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return Ws.post(`/livechat/conversation/markTimeOfDelivery?messageIds=${e.join(",")}`)}))}var ad=n(431);function*rd(e){Object(Dl.k)(e)&&(yield qc(Object(ad.p)(e)))}function id(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){let t=e;Object(Dl.j)(e)||(t=Pt()(e,"id"));const n=yield function(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post("/livechat/conversation/send",e)).data}))}(t);return n}))}function*cd(e){try{return yield Zc(id,e)}catch(t){return void Object(xt.b)(t)}}function*sd(e){const t=e.id,n=Nl.a.getConversationId(e);let o;const a=s()(Ll.a.getAttachment(Nl.a.getMessagePayload(e)),"messageId");try{o=yield Zc(id,e)}catch(r){throw yield qc({type:Ce.I,payload:{chatMessage:new Nl.a(e).setCreationTime(Date.now()).build(),conversationId:Nl.a.getConversationId(e)}}),yield qc({payload:{conversationId:n,transientId:t,postbackParentMessageId:a},type:Ce.F}),r}Object(Dl.k)(o)&&(yield qc({payload:{chatMessage:o,conversationId:n,transientId:t},type:Ce.G}))}var ld=n(511);function*dd(e){try{const t=ld.a.makeOutgoing().makeTextMessage(e.payload);yield Zc(rd,t),yield Zc(sd,t)}catch(t){Object(xt.b)(t)}}function*ud(){yield Qs(Ce.Z,dd)}var pd=n(418);const bd=(e,t)=>{const n=Ll.a.getAttachment(Nl.a.getMessagePayload(e));return k()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{clickedButtonId:t.buttonId}:{}),{submitted:!n.reSubmittable})}}})},fd=(e,t)=>{const n=Ll.a.getAttachment(Nl.a.getMessagePayload(e));return k()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{filledForm:t.filledForm}:{}),{submitted:!0})}}})},hd={[pd.b.CARD]:bd,[pd.b.CAROUSEL]:bd,[pd.b.CO_BROWSE_INVITE]:bd,[pd.b.PRODUCT_CARD]:bd,[pd.b.PRODUCT_SHOWCASE_CARD]:bd,[pd.b.INFO_CARD]:bd,[pd.b.PRODUCT_BANNER]:bd,[pd.b.PRODUCT_LIST]:bd,[pd.b.FORM]:fd,[pd.b.CONTACT_DETAILS_FORM]:fd,[pd.b.SECURE_FORM]:fd,[pd.b.APPOINTMENT]:(e,t)=>k()(e,{messagePayload:{attachment:{$merge:{selectedDate:t.selectedDate,selectedSlot:t.selectedSlot,submitted:!0}}}}),[pd.b.SURVEY]:(e,t)=>k()(e,{messagePayload:{attachment:{$merge:{opened:!!t.opened,submitted:!!t.submitted}}}})},gd=(e,t)=>{if(!e)return{};switch(Ll.a.getAttachment(Nl.a.getMessagePayload(e)).type){case pd.b.CAROUSEL:case pd.b.CO_BROWSE_INVITE:case pd.b.PRODUCT_CARD:case pd.b.PRODUCT_SHOWCASE_CARD:case pd.b.INFO_CARD:case pd.b.PRODUCT_BANNER:case pd.b.PRODUCT_LIST:case pd.b.CARD:return{buttonId:Ll.a.getAttachment(Nl.a.getMessagePayload(t)).buttonId};case pd.b.SURVEY:return{submitted:!Ll.a.getAttachment(Nl.a.getMessagePayload(t)).reSubmittable,opened:!0};case pd.b.SECURE_FORM:case pd.b.FORM:case pd.b.CONTACT_DETAILS_FORM:return{filledForm:Ll.a.getAttachment(Nl.a.getMessagePayload(t)).filledForm};case pd.b.APPOINTMENT:return{selectedDate:Ll.a.getAttachment(Nl.a.getMessagePayload(t)).selectedDate,selectedSlot:Ll.a.getAttachment(Nl.a.getMessagePayload(t)).selectedSlot};default:return{}}};function*yd(e){let{chatMessage:t,conversationId:n,params:o}=e;if(!t)return null;const a=hd[Ll.a.getAttachment(Nl.a.getMessagePayload(t)).type];if(a){const e=a(t,o);return yield qc({type:Ce.I,payload:{chatMessage:e,conversationId:n}}),e}return null}function*Od(e){const{postback:{messageId:t},conversationId:n}=e.payload;let o;const a=yield ts(ir.c),r=Object(cr.j)(Object(cr.l)(a,n),t);try{const t=ld.a.makeOutgoing().makeTemplatePostbackAttachmentMessage(e.payload);o=yield Zc(yd,{chatMessage:r,conversationId:n,params:gd(r,t)}),t&&(yield Zc(rd,t),yield Zc(sd,t),e.promise.resolve())}catch(i){o&&(yield qc({type:Ce.I,payload:{chatMessage:r,conversationId:n}})),e.promise.reject(),Object(xt.b)(i)}}function*md(){yield Qs(Ce.Y,Od)}function*vd(e){try{const t=ld.a.makeOutgoing().makeQuickReplyPostbackAttachmentMessage(e.payload);t&&(yield Zc(rd,t),yield Zc(sd,t))}catch(t){Object(xt.b)(t)}}function*jd(){yield Qs(Ce.R,vd)}const Id="/co-browse/conversation",Ed=e=>{let{messageId:t,markCompletedSession:n}=e;return Object(rl.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ws.post(`${Id}/${n?"completed":"cancelled"}?messageId=${t}`)).data}))},Cd=e=>{let{messageId:t,actionPayload:n}=e;return Object(rl.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ws.post(`${Id}/push?messageId=${t}`,{type:"CO_BROWSE",payload:n})).data}))},Sd=e=>{let{messageId:t,payload:n}=e;return Object(rl.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ws.post(`${Id}/push/status?messageId=${t}`,n)).data}))},Td=e=>{let{messageId:t,otp:n,additionalInfo:o}=e;return Object(rl.__awaiter)(void 0,void 0,void 0,(function*(){return Sd({messageId:t,payload:{status:"SUCCESS",otp:n,additionalInfo:o}})}))},_d=e=>{let{messageId:t,reason:n}=e;return Object(rl.__awaiter)(void 0,void 0,void 0,(function*(){return Sd({messageId:t,payload:{status:"FAILED",reason:n}})}))},xd=e=>{let{messageId:t,payload:n}=e;return Ws.post(`${Id}/event?messageId=${t}`,n)},Ad=e=>{let{messageId:t}=e;return Object(rl.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ws.get(`${Id}/session/live?messageId=${t}`)).data}))};var Rd=n(738);function*wd(e){try{const{messageId:t}=yield ts(ir.f);yield Zc(Cd,{messageId:t,actionPayload:e.payload})}catch(t){Object(xt.b)(t)}}function*Nd(e){const{messageId:t,conversationId:n,agentId:o}=yield ts(ir.f);try{const{otp:a,additionalInfo:r}=e.payload;yield Zc(Td,{messageId:t,otp:a,additionalInfo:r}),yield qc(Object(aa.i)({state:{messageId:t,conversationId:n,agentId:o}}))}catch(a){try{yield qc(Object(aa.e)({reason:ia.a.OTP_SEND_FAILED})),yield Zc(_d,{messageId:t,reason:ia.a.OTP_SEND_FAILED})}catch(r){Object(xt.b)(a)}}}function*Ld(e){try{const{messageId:t,reason:n}=e.payload;yield qc(Object(aa.e)({reason:n})),yield Zc(_d,{messageId:t,reason:n})}catch(t){Object(xt.b)(t)}}function*Dd(e){let{messageId:t}=e;const[n,o]=yield Yc([Hc((e=>{let{type:n,payload:o}=e;return n===Ce.G&&s()(o,"chatMessage.messagePayload.attachment.messageId")===t})),Hc((e=>{let{type:n,payload:o}=e;return n===Ce.F&&s()(o,"postbackParentMessageId")===t})),Hc(Rd.g),Hc(Rd.h)]);n&&(yield qc(Object(aa.p)())),o&&(yield qc(Object(aa.e)({reason:ia.a.POSTBACK_SEND_FAILED})))}function*Md(e){try{const{messageId:t}=yield ts(ir.f);yield Zc(xd,{messageId:t,payload:e.payload})}catch(t){Object(xt.b)(t)}}function*Pd(e){try{const{messageId:t,endedByAgent:n,markCompletedSession:o}=e.payload;if(n||!t)return;return void(yield Zc(Ed,{messageId:t,markCompletedSession:o}))}catch(t){Object(xt.b)(t)}}function*kd(e){const{shouldNotifyAgent:t}=e.payload;try{t&&(yield qc(Object(aa.j)({type:"REMOTE_CONTROL",payload:{status:"ACCEPT"}})))}catch(n){Object(xt.b)(n)}}function*Ud(e){try{yield qc(Object(aa.j)({type:"REMOTE_CONTROL",payload:{status:"REJECT"}}))}catch(t){Object(xt.b)(t)}}function*Fd(e){try{yield qc(Object(aa.j)({type:"REMOTE_CONTROL",payload:{status:"STOP"}}))}catch(t){Object(xt.b)(t)}}function*Bd(e){const{messageId:t,conversationId:n,agentId:o}=e.payload.state;try{const[e]=yield Kc([Zc(Ad,{messageId:t}),Zc(fl,{sender:o,conversationId:n})]);e?yield qc(Object(aa.o)({state:{conversationId:n,messageId:t,agentId:o}})):yield qc(Object(aa.e)({reason:ia.a.RESUME_SESSION_FAILED}))}catch(a){yield qc(Object(aa.f)({messageId:t,reason:ia.a.RESUME_SESSION_FAILED})),Object(xt.b)(a)}}function*Gd(){yield Qs(Rd.g,Pd)}function*Vd(){yield Qs(Rd.o,Nd)}function*zd(){yield Qs(Rd.p,Ld)}function*Wd(){yield Qs(Rd.b,kd)}function*$d(){yield Qs(Rd.e,Ud)}function*Hd(){yield Qs(Rd.c,Fd)}function*qd(){yield Qs(Rd.a,wd)}function*Kd(){yield Qs(Rd.k,Bd)}function*Yd(){yield Qs(Rd.f,Md)}function*Xd(){yield Kc([Jc(Vd),Jc(zd),Jc(Gd),Jc(Wd),Jc($d),Jc(Hd),Jc(qd),Jc(Kd),Jc(Yd)])}function*Zd(e){const t=e?nl()(e):ar.a;if(0===t.length)return;const n=Nl.a.getConversationId(t[0]),o=Ai()(t,(e=>({sender:Nl.a.getSender(e),conversationId:n})));yield Zc(fl,o)}var Jd=n(433),Qd=n.n(Jd),eu=n(596),tu=n.n(eu),nu=n(842),ou=n(750),au=n(675),ru=n(92),iu=n(1038);const cu=(e,t)=>{const n=ul.a.getId(t),o=Ll.a.getAttachment(Nl.a.getMessagePayload(e)),a=Object(iu.a)(o,{user:t}),r=tu()(nu.a.getFields(ou.a.getForm(o)),(e=>{const{id:t,validator:n}=e;return"EQUALITY"!==n&&d()(a[t])}));return!Object(tn.b)(n)&&r},su=(e,t,n,o)=>{let a;return a="string"===typeof e?(new Nl.a).setMessagePayload((new Ll.a).setMessageType(au.b).setMessageText(e).setMessageDisableManualResponse(!!o).build()).build():e,ld.a.makeSent().makeMessage(Object.assign({messageId:n,conversationId:t,sender:qo.b},a))},lu=e=>{if(wo()(e))return e;switch(Object(un.f)(e)?s()(e,"response.status",404):-1){case 401:case 404:return ru.a.NOT_FOUND;case 406:return ru.a.NOT_ACCEPTABLE;default:return ru.a.UNEXPECTED_ERROR}};var du=n(618),uu=n(485);let pu={};function*bu(e){try{const n=e.payload.conversationId;if(pu[n]){for(;;){const[t,o]=yield Yc([Hc(Ce.L),Hc(Ce.M)]);if(s()(t||o,"payload.transientConversationId")===n){e.promise&&(t&&e.promise.resolve({conversationId:t.payload.conversationResponse.id,caseNumber:t.payload.conversationResponse.caseNumber}),o&&e.promise.reject(o.payload.error));break}}return}try{pu[n]=!0;const t=yield ts(ir.c),o=yield ts(ir.d),a=Qd()(o),r=Object(cr.l)(t,n),i=Object(cr.p)(t),c=Object(cr.g)(i,n),l=s()(Object(cr.f)(i,n),"assignToUser"),d=Object(cr.w)(r),u=Object(cr.e)(Object(cr.p)(t),n)||{},p=u.clickedOnPrompt,b=yield Zc(Xl,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d?{chatMessages:Object(cr.k)(r).map((e=>({messagePayload:Nl.a.getMessagePayload(e),sender:Nl.a.getSender(e)})))}:void 0),{createCase:Object(cr.A)(Object(cr.p)(t),n),startedByContext:c}),u),e.payload.appContext),!p&&a?{creativeId:a.additional.creativeId,interceptId:a.additional.interceptId,clickedOnPrompt:!1}:{}),{assignToUser:l})),f=Object(Di.b)(yield ts(ir.h));yield qc({payload:{transientConversationId:n,conversationResponse:b,botUserIds:f},type:Ce.L}),e.promise&&e.promise.resolve({conversationId:b.id,caseNumber:b.caseNumber})}catch(t){yield qc({type:Ce.M,payload:{transientConversationId:e.payload.conversationId,error:lu(t)}}),e.promise&&e.promise.reject(lu(t)),Object(xt.b)(t)}finally{delete pu[e.payload.conversationId]}}catch(n){}}function*fu(e){try{const t=Br()(nl()(qt.a.getDefaultMessages(Ht.a.getCustomizationConfig(e)))),n=Br()(t.map(((e,t)=>su(e,qo.e,`${qo.d}${t}`))));if(n.length){const e=yield ts(ir.h),t=n.map((t=>{const n=Object(du.e)(e,Nl.a.getSender(t));return qc(Object(el.g)(t,n))}));yield Kc(t)}return n}catch(t){Object(xt.b)(t)}}function*hu(e,t){try{const n=qt.a.getContactDetailsMessage(Ht.a.getCustomizationConfig(e)),o=[];if(n&&cu(n,uu.a.getChatUser(t))){const e=su(n,qo.e,qo.c),t=yield ts(ir.h),a=Object(du.e)(t,Nl.a.getSender(e));o.push(e),yield qc(Object(el.g)(e,a))}return o}catch(n){Object(xt.b)(n)}}function*gu(e,t){try{const n=yield Zc(fu,e),o=yield Zc(hu,e,t);return[...n,...o]}catch(n){Object(xt.b)(n)}}function yu(){pu={}}function*Ou(){try{const t=s()(Object(Di.c)(yield ts(ir.h)),"userId");for(;;)try{const e=yield ts(ir.c),n=Object(cr.l)(e,qo.e),o=Object(cr.j)(n,qo.c);if(!o)break;const{payload:{users:a}}=yield Hc(U.d),r=a.find((e=>e.userId===t));r&&!cu(o,r)&&(yield qc(Object(el.h)(qo.e,qo.c)))}catch(e){Object(xt.b)(e)}}catch(e){Object(xt.b)(e)}}function*mu(){try{yield Qs(Kn.c,yu)}catch(e){Object(xt.b)(e)}}function*vu(){try{yield Qs(Ce.K,bu)}catch(e){Object(xt.b)(e)}}function*ju(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield Hc(Kn.a);yield Zc(gu,e,t),yield Kc([Jc(Ou),Jc(vu),Jc(mu)])}catch(e){Object(xt.b)(e)}}var Iu=n(555);function*Eu(e){const{payload:t}=e,{actionParams:n}=t;n.actionType===Iu.a&&(yield qc(Object(el.i)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}function*Cu(e){const{payload:t}=e,{actionParams:n}=t;n.actionType===Iu.b&&(yield qc(Object(el.j)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}function*Su(e){yield Kc([Zc(Eu,e),Zc(Cu,e)])}function*Tu(e){const{messageId:t,conversationId:n}=e.payload,o=yield ts(ir.c),a=Object(cr.j)(Object(cr.l)(o,n),t);let r;try{r=yield Zc(yd,{chatMessage:a,conversationId:n,params:{opened:!0}}),yield Zc(td,t)}catch(i){r&&(yield qc({type:Ce.I,payload:{chatMessage:a,conversationId:n}})),Object(xt.b)(i)}}function*_u(e){const{attachment:t}=e.payload,n=s()(t,"opened");try{return void(n||(yield Zc(Tu,e)))}catch(o){Object(xt.b)(o)}}function*xu(){yield Qs(Ce.V,_u)}var Au=n(524),Ru=n(545),wu=n(735),Nu=n(577),Lu=n(469),Du=n(843),Mu=n(673),Pu=n(1265),ku=n(487);function Uu(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return Ws.post("/livechat/event/publish",Object.assign({type:e.type},e.payload))}))}var Fu=n(488);const Bu=e=>Object(ku.e)(Object(ir.e)(e));function Gu(e){return e===Iu.a||e===Iu.b}function Vu(e){return e===wu.a.OPEN_URL}function zu(e){return e===wu.a.DIAL}function Wu(e){return e===wu.a.FETCH_APPOINTMENT_TIME_SLOTS}function $u(e){return e===wu.a.RESERVE_APPOINTMENT_TIME_SLOT}function Hu(e){return e===wu.a.START_VIDEO_CALL}function qu(e){return e===wu.a.START_AUDIO_CALL}function Ku(e){return e===wu.a.REJOIN_CALL}function Yu(e,t){return ld.a.makeSent().makeMessage({messageId:e.id,messagePayload:Nl.a.getMessagePayload(e),conversationId:t,sender:Nl.a.getSender(e),creationTime:Nl.a.getCreationTime(e),clientMessageId:Nl.a.getClientMessageId(e)})}function*Xu(e){try{const{payload:t}=e,{conversationId:n,cursor:o}=t,a=yield Zc(Gl,n,{size:t.size,cursor:o}),r=Br()(a.results.map((e=>Yu(e,n))));yield Zc(Zd,r),yield qc({payload:{conversationMessagesResponse:Object.assign(Object.assign({},a),{results:r}),conversationId:n,cursor:o},type:Ce.m}),e.promise&&e.promise.resolve()}catch(t){e.promise&&e.promise.reject(),yield qc({type:Ce.n,payload:{conversationId:e.payload.conversationId}}),Object(xt.b)(t)}}function*Zu(e){try{const{payload:t,promise:n}=e,{conversationId:o,includeAll:a}=t,r=a?yield Zc($l):yield Zc(Wl,o);yield qc(Object(el.a)({conversationId:o,includeAll:a,deleted:!0,surveyUrl:r.surveyUrl})),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(xt.b)(t)}}function*Ju(){try{yield Qs(Ce.i,Zu)}catch(e){Object(xt.b)(e)}}function*Qu(e){try{const{payload:t,promise:n}=e,{conversationId:o,includeAll:a}=t,r=a?yield Zc(zl):yield Zc(Vl,o);yield qc(Object(el.a)({conversationId:o,includeAll:a,closed:!0,surveyUrl:r.surveyUrl})),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(xt.b)(t)}}function*ep(){try{yield Qs(Ce.h,Qu)}catch(e){Object(xt.b)(e)}}function*tp(){try{yield Qs(Ce.l,Xu)}catch(e){Object(xt.b)(e)}}function*np(e){try{const{query:t,conversationId:n,faqAttachment:o}=e.payload,a=yield Zc(Zl,n,t,o);e.promise&&e.promise.resolve(a)}catch(t){e.promise&&e.promise.reject(),Object(xt.b)(t)}}function*op(){try{yield Qs(Ce.A,np)}catch(e){Object(xt.b)(e)}}function*ap(e){try{const t=al()(e,((e,t)=>{const n=Lu.a.getParticipants(t);return Ma()(n,(n=>{e.push({sender:n,conversationId:t.id})})),e}),[]);yield Zc(fl,t)}catch(t){Object(xt.b)(t)}}function*rp(){try{for(;;)try{const e=yield Hc(Ce.f),t=yield Zc(kl,e.payload);yield Zc(ap,t.results);const n=yield ts(ir.h),o=Object(Di.b)(n),a=Object(Di.d)(n);yield qc({payload:{conversationResponse:t,botUserIds:o,chatUserId:a},type:Ce.g})}catch(e){Object(xt.b)(e)}}catch(t){Object(xt.b)(t)}}function*ip(){try{for(;;){let n,o,a;const r=yield Hc(Ce.s);o=r.payload.caseId,n=r.payload.conversationId,a=r.payload.context;const i=yield ts(ir.h),c=Object(Di.b)(i),s=Object(Di.d)(i);try{const e=yield Zc(Bl,r.payload.caseId);yield qc({payload:{caseId:o,conversationResponse:e,botUserIds:c,chatUserId:s},type:Ce.t})}catch(e){try{if(Object(un.a)(e))throw e;{const e=yield Zc(Xl,Object.assign({createCase:!0,caseId:o},a));yield qc({payload:{caseId:o,conversationResponse:e,botUserIds:c,chatUserId:s},type:Ce.t})}}catch(t){yield qc({payload:{conversationId:n,error:lu(t)},type:Ce.u})}}}}catch(n){Object(xt.b)(n)}}function*cp(){try{for(;;){let t;try{const e=yield Hc(Ce.v);t=e.payload.conversationId;const n=yield Zc(Fl,e.payload.conversationId),o=yield ts(ir.h),a=Object(Di.b)(o),r=Object(Di.d)(o);yield qc({payload:{conversationResponse:n,botUserIds:a,chatUserId:r},type:Ce.w})}catch(e){yield qc({payload:{conversationId:t,error:lu(e)},type:Ce.x}),Object(xt.b)(e)}}}catch(t){Object(xt.b)(t)}}function*sp(e){try{for(;;){const n=yield ts(Bu);try{if(n){const t=e.payload,{conversationId:n}=t,o=Yu(yield Zc(ql,n,t.messageId),n);return yield Zc(Zd,o),o}yield Hc(gl.f)}catch(t){if(Object(xt.b)(t),!Object(un.c)(t))break}}return null}catch(n){return Object(xt.b)(n),null}}function*lp(e){try{const t=e.payload;yield qc(Object(el.k)({type:t.actionType,payload:Pt()(e.payload,["actionType"])}))}catch(t){Object(xt.b)(t)}}function*dp(e){try{const t=yield Zc(sp,e);t&&(yield qc({type:Ce.I,payload:{chatMessage:t,conversationId:Nl.a.getConversationId(t)}}))}catch(t){Object(xt.b)(t)}}function*up(e){try{const t=yield ts(ir.c),n=Object(cr.p)(t),o=Object(Di.c)(yield ts(ir.h)),{sender:a,deleted:r,closed:i,caseNumber:c,conversationId:s}=e.payload,l=Object(cr.f)(n,s);(a!==o.userId||c&&l&&!l.caseNumber&&!r&&!i)&&(yield qc(Object(el.a)(e.payload)),c&&l&&!l.caseNumber&&(yield qc(Object(Rn.c)({action:_a.a.NEW_CONVERSATION_CREATED,conversationId:s,additional:{caseNumber:c}}))))}catch(t){Object(xt.b)(t)}}function*pp(e){try{const{conversationId:t,videoCallEnabled:n,audioCallEnabled:o}=e.payload;yield qc({type:Ce.d,payload:{conversationId:t,videoCallEnabled:n,audioCallEnabled:o}})}catch(t){Object(xt.b)(t)}}function*bp(e){try{const{payload:t}=e,{actionParams:n}=t;Gu(n.actionType)&&(yield Zc(Su,e),e.promise.resolve())}catch(t){Object(xt.b)(t)}}function*fp(e){try{const{payload:t}=e,{actionParams:n,conversationId:o}=t;n.actionType===wu.a.ACCOUNT_LINK&&(yield qc(Object(Rn.a)({ssoId:n.values,conversationId:o,messageId:n.messageId})(e.promise)))}catch(t){Object(xt.b)(t)}}function*hp(e){try{const{actionParams:{attachment:t,values:n}}=e.payload,o=t,a=yield Zc(Ul,o.submitResponseUrl,o.httpHeaders,n.secureData);return{maskedData:n.maskedData,secureFormId:a}}catch(t){return Object(xt.b)(t),null}}function*gp(e){try{const{actionParams:{messageId:t,actionType:n,values:o},conversationId:a}=e.payload;if(n===wu.a.ACCEPT_CO_BROWSE){const e=yield ts((e=>Object(cr.j)(Object(cr.l)(Object(ir.c)(e),a),t))),n=Nl.a.getSender(e);yield qc(Object(aa.d)({messageId:t,conversationId:a,agentId:n})),yield Qc(Dd,{messageId:t})}return o}catch(t){return Object(xt.b)(t),null}}function*yp(e){try{const{actionParams:{attachment:t,actionId:n,values:o,messageId:a},conversationId:r}=e.payload,i=s()(Object(Mu.a)(n,t),"surveyUrl","");yield qc(Object(el.e)({surveyUrl:i,conversationId:r})),yield qc({type:Ce.V,payload:{messageId:a,conversationId:r,attachment:t}});const[c]=yield Yc([Hc(Ce.W),Hc(Ce.T),Hc(Ce.X)]);return c?o:null}catch(t){return Object(xt.b)(t),null}}function*Op(e){try{const{actionParams:{actionType:t,values:n}}=e.payload;return function(e){return e===wu.a.SECURE_FORM_POST_BACK}(t)?yield Zc(hp,e):function(e){return e===wu.a.ACCEPT_CO_BROWSE||e===wu.a.DENY_CO_BROWSE}(t)?yield Zc(gp,e):function(e){return e===wu.a.SURVEY_POST_BACK}(t)?yield Zc(yp,e):n}catch(t){return Object(xt.b)(t),null}}function*mp(e){try{const{payload:o}=e,{actionParams:a,appContext:r}=o;if(!Gu(t=a.actionType)&&!Vu(t)&&!zu(t)&&!Wu(t)&&!$u(t)&&!qu(t)&&!Hu(t)&&!Ku(t))try{const t=yield Zc(Op,e);i()(t)?e.promise&&e.promise.resolve():yield qc(Object(el.o)({conversationId:o.conversationId,sender:o.sender,postback:{attachment:a.attachment,values:t,additional:a.additional,appContext:r,messageId:a.messageId,postbackId:a.actionId,postbackType:a.actionType},inReplyToChatMessageId:o.inReplyToChatMessageId})(e.promise))}catch(n){Object(g.a)(n),e.promise.reject()}}catch(o){Object(xt.b)(o)}var t}function*vp(e){try{const{payload:t}=e,{actionParams:n}=t;Vu(n.actionType)&&(yield qc(Object(el.f)({attachment:n.attachment,actionId:n.actionId})(e.promise)))}catch(t){Object(xt.b)(t)}}function*jp(e){try{const{payload:t}=e,{actionParams:n}=t;zu(n.actionType)&&(yield qc(Object(el.d)({attachment:n.attachment,actionId:n.actionId})(e.promise)))}catch(t){Object(xt.b)(t)}}function*Ip(e){try{const{payload:t}=e,{actionParams:{actionId:n,actionType:o,attachment:a,messageId:r,values:i},conversationId:c,appContext:l}=t;if(Ku(o))yield qc(Object(Ru.o)({conversationId:c,isPhone:l.isPhone,type:i.audioOnly?Au.a.AUDIO:Au.a.VIDEO,isIncomingCall:i.isIncomingCall,videoConversationId:i.videoChatConversationId,prevState:Object(Du.a)(i.currentState,i.isIncomingCall)})),e.promise&&e.promise.resolve();else if(Hu(o)||qu(o)){const t=yield ts(ir.b);if(Object(Fu.a)(t))return void(e.promise&&e.promise.reject());const i=Hu(o)?Au.a.VIDEO:Au.a.AUDIO,d=s()(Object(Mu.a)(n,a),"title","");let u={};n&&(u={sourceButtonId:n,messageId:r,messageText:d}),yield qc(Object(Ru.g)(Object.assign({conversationId:c,isPhone:l.isPhone,type:i},u))),e.promise&&e.promise.resolve()}}catch(t){Object(xt.b)(t)}}function*Ep(e){try{const{payload:n}=e,{actionParams:o,conversationId:a,appContext:r}=n,i=Wu(o.actionType),c=$u(o.actionType);let l,d;if(i||c)try{const t=yield ts(ir.c);if(l=Object(cr.j)(Object(cr.l)(t,a),o.messageId),i&&(yield qc({type:Ce.I,payload:{chatMessage:k()(l,{messagePayload:{attachment:{$merge:{slots:void 0}}}}),conversationId:a}}),d=yield Zc(Kl,{selectedDate:o.values.selectedDate,slotDefinitionId:o.attachment.slotDefinitionConfigId,timeZone:r.timeZone,appointmentAssetParams:o.attachment.params,messageId:o.messageId}),yield qc({type:Ce.I,payload:{chatMessage:k()(l,{messagePayload:{attachment:{$merge:{slots:d}}}}),conversationId:a}})),c){d=yield Zc(Yl,{selectedDate:o.values.selectedDate,selectedSlot:o.values.selectedSlot,timeZone:r.timeZone,slotDefinitionId:o.attachment.slotDefinitionConfigId,appointmentAssetParams:o.attachment.params,messageId:o.messageId});const e=s()(d,"slots");e&&(yield qc({type:Ce.I,payload:{chatMessage:k()(l,{messagePayload:{attachment:{$merge:{slots:e}}}}),conversationId:a}}))}e.promise.resolve({actionType:o.actionType,response:{reservationId:s()(d,"reservationId"),selectedSlot:o.values.selectedSlot,selectedDate:o.values.selectedDate,visibleSlots:o.values.visibleSlots}})}catch(t){Object(xt.b)(t),e.promise.reject({actionType:o.actionType,response:{error:d}})}}catch(n){Object(xt.b)(n)}}function*Cp(e){try{yield Kc([Zc(bp,e),Zc(mp,e),Zc(vp,e),Zc(jp,e),Zc(fp,e),Zc(Ep,e),Zc(Ip,e)])}catch(t){Object(xt.b)(t)}}function*Sp(e,t){try{const n=k()(e,{payload:{actionParams:{$set:Object.assign(Object.assign({},Pt()(e.payload.actionParams,["actionTypes"])),{actionType:t})}}}),o=new Promise(((e,t)=>{n.promise={resolve:e,reject:t}}));return yield Zc(Cp,n),o}catch(n){return Object(xt.b)(n),null}}function*Tp(e){try{let n={},o={};try{const t=e.payload.actionParams.actionTypes;for(let a=0;a<wl()(t);a+=1){(yield Zc(Sp,e,t[a])).then((e=>{o=Hr()(o,e)}),(e=>{n=Hr()(n,e)}))}e.promise.resolve(o)}catch(t){e.promise.reject(n),Object(xt.b)(t)}}catch(n){Object(xt.b)(n)}}function*_p(){try{yield Qs(Ce.c,Tp)}catch(e){Object(xt.b)(e)}}function*xp(e){try{let n,o;try{const{disclaimerStatus:t}=e.payload,a=yield ts(ir.c),r=Object(cr.p)(a);n=e.payload.conversationId,o=s()(Object(cr.h)(r,n),"disclaimerStatus"),yield qc({type:Ce.r,payload:{conversationId:n,disclaimerStatus:t}}),yield Zc(Hl,n,t),e.promise.resolve()}catch(t){e.promise.reject(),yield qc({type:Ce.r,payload:{conversationId:n,disclaimerStatus:o}}),Object(xt.b)(t)}}catch(n){Object(xt.b)(n)}}function*Ap(){try{yield Qs(Ce.q,xp)}catch(e){Object(xt.b)(e)}}const Rp={field:"closed",values:[!0],filterType:Nu.a.NIN};function*wp(e,t){try{const n=yield ts(ir.c),o=Object(cr.u)(n),a=t||Rp,r=Qa()(o.ids,(e=>{let t=!1;if(d()(a))return!0;Pu.a.createFilterAction(a,{getFilterBuilder:Pu.a.createFilterAction}).matches(o.byId[e],{logOnFailure:!0})&&(t=!0);return t}));r&&(yield Zc(Ql,{context:e,conversationId:r}))}catch(n){Object(xt.b)(n)}}function*Np(e,t){try{yield Hc(Ce.g),yield Zc(wp,e,t)}catch(n){Object(xt.b)(n)}}function*Lp(e){try{const{context:t,conversationId:n,filters:o,includeDeleted:a}=e.payload;if(n)return void(yield Zc(Ql,{context:t,conversationId:n}));if(a)return void(yield Zc(Jl,{context:t,updateLatest:a}));const r=yield ts(ir.c),i=Object(cr.p)(r);if(Object(cr.b)(i))return void(yield Zc(wp,t,o));yield Jc(Np,t,o)}catch(t){Object(xt.b)(t)}}function*Dp(){try{yield Qs(Ce.k,Lp)}catch(e){Object(xt.b)(e)}}function*Mp(e){try{const{lastReadMessageId:t}=e.payload;yield Zc(Uu,{type:"MESSAGE_READ",payload:{messageId:t}})}catch(t){Object(xt.b)(t)}}function*Pp(){try{yield Qs(Ce.O,Mp)}catch(e){Object(xt.b)(e)}}function*kp(e){try{const e=yield Zc(nd);yield qc({payload:{openConversationCount:e},type:Ce.ab})}catch(t){Object(xt.b)(t)}}function*Up(){try{yield function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return Jc.apply(void 0,[Js,e,t].concat(o))}(Ce.B,kp)}catch(e){Object(xt.b)(e)}}function*Fp(){try{yield Kc([Jc(rp),Jc(cp),Jc(op),Jc(ju),Jc(tp),Jc(Ju),Jc(ep),Jc(ud),Jc(md),Jc(jd),Jc(_p),Jc(Dp),Jc(ip),Jc(Ap),Jc(Pp),Jc(xu),Jc(Up)])}catch(e){Object(xt.b)(e)}}const Bp={},Gp="START_TYPING",Vp="STOP_TYPING";function*zp(e,t){try{yield Zc(Uu,{type:e,payload:{conversationId:t}})}catch(n){Object(xt.b)(n)}}function*Wp(e,t){for(;;)yield Jc(zp,Gp,e),yield os(25e3),yield Hc(t)}function*$p(e,t){let n,o;try{for(n=Is(Lc.dropping(1)),o=yield Jc(Wp,e,n);;){const e=yield Hc(t);if(e.type!==Ce.bb)break;n.put(e)}}catch(a){Object(xt.b)(a)}finally{yield Jc(zp,Vp,e),n&&n.close(),o&&o.cancel()}}function*Hp(e,t){for(;;)try{let n;if(n=yield Hc(t),n.type!==Ce.bb)continue;yield Zc($p,e,t)}catch(n){Object(xt.b)(n)}}function*qp(){for(;;)try{const e=yield Yc([Hc(Ce.bb),Hc(Ce.cb)]),t=Br()(e)[0],{payload:{conversationId:n}}=t;let o=Bp[n];o||(o=Is(Lc.sliding(1)),Bp[n]=o,yield Jc(Hp,n,o)),o.put(t)}catch(e){Object(xt.b)(e)}}function*Kp(){yield Jc(qp)}var Yp=n(501),Xp=n.n(Yp);const Zp={};function*Jp(){throw yield os(3e4),new Error("")}function*Qp(e,t,n,o){let a;yield qc({type:Ce.a,payload:{conversationId:t,userId:n,actionTime:o}});try{for(a=yield Jc(Jp);;){const o=yield Hc(e);if(o.type===nt)a.isCancelled()||(yield es(a)),a=yield Jc(Jp),yield qc({type:Ce.a,payload:{conversationId:t,userId:n,actionTime:o.payload.actionTime}});else{const e=yield ts(ir.c),a=Object(cr.l)(e,t),r=Object(cr.s)(a,n);if(r&&Nl.a.getCreationTime(r)<o.payload.actionTime)break}}}catch(r){Object(xt.b)(r)}finally{yield qc({type:Ce.b,payload:{conversationId:t,userId:n}}),a.isCancelled()||(yield es(a))}}function*eb(e,t,n){for(;;)try{let o;if(o=yield Hc(e),o.type!==nt)continue;yield Zc(Qp,e,t,n,o.payload.actionTime)}catch(o){}}function*tb(e){const{payload:{conversationId:t,sender:n}}=e,o=yield ts(ir.h),a=Qd()(Object(du.e)(o,n)),r=function(e,t){return`${e}_${t}`}(t,a);let i=Zp[r];i||(i=Is(Lc.sliding(1)),Zp[r]=i,yield Jc(eb,i,t,a)),i.put(e)}function*nb(e){try{yield Kc(e.map((e=>Zc(tb,e))))}catch(t){Object(xt.b)(t)}}function*ob(e){try{yield Kc(e.map((e=>Zc(tb,e))))}catch(t){Object(xt.b)(t)}}function ab(e){return e.type===Je}function rb(e){return e.type===nt}function ib(e){return e.type===ot}function*cb(e){const{data:t}=e;if(t){const e=yield ts(ir.h),n=Object(du.e)(e,Nl.a.getSender(t));yield qc(Object(el.g)(t,n))}}function*sb(e){try{const t=e.filter(ab);yield Kc(t.map((e=>Zc(cb,e))));const n=t.reduce(((e,t)=>{const{data:n}=t;return n&&e.push(Nl.a.getId(n)),e}),[]);d()(n)||(yield Zc(od,n))}catch(t){Object(xt.b)(t)}}function*lb(e){const t=e.filter(rb);t.length&&(yield Zc(nb,t))}function*db(e){const t=e.filter(ib);t.length&&(yield Zc(ob,t))}function*ub(e){yield Kc([Zc(sb,e),Zc(lb,e),Zc(db,e)])}const pb=(()=>{const e=new Set;return{add:t=>e.add(t),has:t=>e.has(t),delete:t=>e.delete(t)}})(),bb=(()=>{let e=[];return{set:t=>{e=t},get:()=>e,push:t=>{e=[...e,...nl()(t)]}}})();function*fb(e){const{id:t,data:n}=e;if(pb.add(t),Ma()(bb.get(),(e=>{if(e.id===t)return e.data=n,!1})),t===s()(Qd()(bb.get()),"id")){const{resolvedEvents:e,unresolvedEvents:t}=al()(bb.get(),((e,t)=>pb.has(t.id)&&d()(e.unresolvedEvents)?(pb.delete(t.id),Object.assign(Object.assign({},e),{resolvedEvents:[...e.resolvedEvents,t]})):Object.assign(Object.assign({},e),{unresolvedEvents:[...e.unresolvedEvents,t]})),{resolvedEvents:[],unresolvedEvents:[]});bb.set(t),yield Jc(ub,e)}}function*hb(e){if(ab(e)){const t=yield Zc(sp,e);yield Zc(fb,{id:e.id,data:t})}}function*gb(e){if(rb(e)){const t=cl()(e.payload,["conversationId","sender"]);yield Zc(fl,t),yield Zc(fb,{id:e.id,data:{}})}}function*yb(e){ib(e)&&(yield Zc(fb,{id:e.id,data:{}}))}function*Ob(e){yield Kc([Zc(hb,e),Zc(gb,e),Zc(yb,e)])}function*mb(e){bb.push(e),yield Kc(e.map((e=>Jc(Ob,e))))}var vb=n(970),jb=n.n(vb);function Ib(e){return e.type===Qe}function Eb(e){return e.type===lt}function Cb(e){return e.type===tt}function Sb(e){return e.type===et}function Tb(e){return e.type===it}function*_b(e){try{yield Kc(e.filter(Sb).map((e=>Zc(lp,e))))}catch(t){Object(xt.b)(t)}}function*xb(e){try{yield Kc(e.filter(Ib).map((e=>Zc(dp,e))))}catch(t){Object(xt.b)(t)}}function*Ab(e){try{yield Kc(jb()(e.filter(Cb).map((e=>[Zc(hl,{sender:e.payload.chatUserId,conversationId:e.payload.conversationId}),qc(Object(Rn.c)({conversationId:e.payload.conversationId,action:_a.a.USER_PROFILE_UPDATED,additional:{sender:e.payload.chatUserId}}))]))))}catch(t){Object(xt.b)(t)}}function*Rb(e){try{yield Kc(e.filter(Tb).map((e=>Zc(up,e))))}catch(t){Object(xt.b)(t)}}function*wb(e){try{yield Kc(e.filter(Eb).map((e=>Zc(pp,e))))}catch(t){Object(xt.b)(t)}}function*Nb(e){try{yield Kc([Zc(_b,e),Zc(xb,e),Zc(Ab,e),Zc(Rb,e),Zc(wb,e)])}catch(t){Object(xt.b)(t)}}const Lb=[Je,nt,ot];function*Db(e){try{const{events:t}=e.payload;let n=[],o=[];Ma()(t,(e=>{Pl()(Lb,e.type)?n=[...n,Object.assign(Object.assign({},e),{id:Xp()()})]:o=[...o,e]})),yield Zc(mb,n),yield Zc(Nb,o)}catch(t){Object(g.a)(t)}}function*Mb(){yield Qs(gl.l,Db)}function*Pb(){yield Kc([Jc(Mb)])}var kb=n(479),Ub=n(525);const Fb=e=>{const t=Ht.a.getNoDisplayConfigFilter(e);return!d()(t)&&Object(Ub.c)(t,kb.a.IS_CONVERSATION_OPEN)};function*Bb(e){try{const t=yield ts(ir.c),n=Object(cr.p)(t);if(!Object(cr.b)(n))return;yield qc(Object(el.b)({shouldFetchNumberOfOpenConversation:Fb(e.applicationConfig),size:n.ids.length}))}catch(t){Object(xt.b)(t)}}function*Gb(){try{const e=yield ts(ir.c),t=Object(cr.p)(e),n=Object(cr.n)(e),o=al()(n,((e,n,o)=>{const a=n.messages;if(!o.startsWith(qo.e)&&Object(cr.a)(a)&&!Object(cr.y)(t,o)){const t=Object(el.c)(o,{size:Object(cr.k)(a).length})();e.push(qc(t))}return e}),[]);o.length&&(yield Kc(o))}catch(e){Object(xt.b)(e)}}function*Vb(e){yield Kc([Jc(Bb,e),Jc(Gb)])}function*zb(){const{payload:{applicationConfig:e}}=yield Hc(Kn.a);yield Qs(gl.m,Vb,{applicationConfig:e})}function*Wb(){yield Kc([Jc(Fp),Jc(Kp),Jc(Pb),Jc(zb)])}function*$b(e){try{const t=e.payload,n=Object(Di.c)(yield ts(ir.h));yield Zc(ll,Object.assign(Object.assign({},n),{customContext:t})),yield qc(Object(Rn.c)({action:_a.a.USER_PROFILE_UPDATED}))}catch(t){Object(xt.b)(t)}}function*Hb(){try{yield Qs(U.c,$b)}catch(e){Object(xt.b)(e)}}function*qb(e){try{const t=e.payload,n=yield Zc(dl,t);e.promise.resolve(n);const o=n.results;yield qc({type:U.d,payload:{users:o}})}catch(t){e.promise.reject(t),Object(xt.b)(t)}}function*Kb(){try{yield Qs(U.b,qb)}catch(e){console.error(e)}}function*Yb(){try{yield Kc([Jc(Hb),Jc(Kb)])}catch(e){Object(xt.b)(e)}}function Xb(e){return e.type===ct}function Zb(e){return e.type===st}function Jb(e){return e.type===ut}function Qb(e){return e.type===pt}function ef(e){return e.type===dt}function*tf(e){try{yield Kc(e.filter(Xb).map((e=>qc(Object(Ru.n)({conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId,participantInfos:e.payload.participantInfos,type:e.payload.type})))))}catch(t){Object(xt.b)(t)}}function*nf(e){try{yield Kc(e.filter(Zb).map((e=>qc(Object(Ru.l)({notifyAgent:!1,videoConversationId:e.payload.videoConversationId})))))}catch(t){Object(xt.b)(t)}}function*of(e){try{const t=yield ts(ir.b),n=Object(Fu.g)(t);yield Kc(e.filter(Qb).map((e=>qc(n.videoConversationId===e.payload.videoConversationId?Object(Ru.i)({videoConversationId:e.payload.videoConversationId,reason:Au.d.AGENT_ASSIGNMENT_FAILED}):Object(Ru.l)({notifyAgent:!1,videoConversationId:e.payload.videoConversationId})))))}catch(t){Object(xt.b)(t)}}function*af(e){try{yield Kc(e.filter(Jb).map((e=>qc(Object(Ru.i)({videoConversationId:e.payload.videoConversationId,reason:Au.d.AGENT_ASSIGNMENT_FAILED})))))}catch(t){Object(xt.b)(t)}}function*rf(e){try{yield Kc(e.filter(ef).map((e=>qc(Object(Ru.u)({videoConversationId:e.payload.videoConversationId,callInfo:{conversation:e.payload.conversation,participant:e.payload.participant}})))))}catch(t){Object(xt.b)(t)}}function*cf(e){try{const{events:t}=e.payload;yield Kc([Zc(nf,t),Zc(tf,t),Zc(af,t),Zc(rf,t),Zc(of,t)])}catch(t){Object(xt.b)(t)}}function*sf(){try{yield Qs(gl.l,cf)}catch(e){Object(xt.b)(e)}}var lf=n(737);function df(e){let{videoConversationId:t,shouldWaitForConnection:n}=e;return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post(`video-chat/conversation/accept/${t}?shouldWaitForConnection=${n}`)).data}))}function uf(e){let{videoConversationId:t}=e;return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return Ws.post(`video-chat/conversation/leave/${t}`)}))}function pf(e){let{conversationId:t,audioOnly:n,messageText:o,sourceButtonId:a,postBackChatMessageId:r,shouldWaitForConnection:i,videoConversationId:c,activityEventType:s}=e;return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.post(`video-chat/conversation/initiate/${t}`,{audioOnly:n,messageText:o,clickedButtonId:a,postBackChatMessageId:r,shouldWaitForConnection:i,videoChatConversationId:c,activityEventType:s})).data}))}function bf(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.get(`video-chat/conversation/participant/connected/${e}`)).data}))}function ff(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){return(yield Ws.get(`video-chat/conversation/fetch/ongoing/conversation?caseId=${e}`)).data}))}function*hf(e){try{const{notifyAgent:t,isIncomingCall:n,callDetails:o,videoConversationId:a}=e.payload;if(!t)return;if(!n&&!o.hasInitiateSucceeded&&o.state===Au.e.WAITING){if((yield Hc((e=>(e.type===lf.v||e.type===lf.o)&&s()(e,"payload.videoConversationId")===a))).type===lf.o)return}if(n&&o.state===Au.c.ACCEPTED){if((yield Hc((e=>(e.type===lf.k||e.type===lf.h)&&s()(e,"payload.videoConversationId")===a))).type===lf.h)return}yield Zc(uf,{videoConversationId:a})}catch(t){Object(xt.b)(t)}}function*gf(e){try{e.payload.isOutgoingWaiting&&(yield Zc(hf,e)),yield qc({type:Ce.Z,payload:{text:e.payload.text,sender:e.payload.sender,conversationId:e.payload.conversationId}})}catch(t){Object(xt.b)(t)}}function*yf(e){try{const{actionParams:{messageId:t,actionId:n},conversationId:o}=e.payload,a=yield ts(ir.b),r=Object(Fu.g)(a),i=r.messageId;if(i&&t===i&&n!==r.sourceButtonId){const e=yield ts(ir.c),n=Object(cr.j)(Object(cr.l)(e,o),t);Ll.a.getAttachment(Nl.a.getMessagePayload(n)).reSubmittable||(yield qc(Object(Ru.l)({notifyAgent:!0,callDetails:r,videoConversationId:r.videoConversationId})))}}catch(t){Object(xt.b)(t)}}function*Of(e){try{yield qc(Object(Ru.p)({conversationId:e.payload.conversationId,controls:Object(Du.e)(e.payload.isPhone),type:e.payload.type,messageText:e.payload.messageText,messageId:e.payload.messageId,sourceButtonId:e.payload.sourceButtonId,videoConversationId:Xp.a.v4()}))}catch(t){Object(xt.b)(t)}}function*mf(e){try{const{videoConversationId:t}=e.payload;yield qc(Object(Ru.b)({videoConversationId:t,controls:Object(Du.e)(e.payload.isPhone)})),yield Zc(df,{videoConversationId:t,shouldWaitForConnection:!0}),yield qc(Object(Ru.t)({videoConversationId:t}))}catch(t){if(Object(xt.b)(t),Object(un.f)(t)){const n=s()(t,"response.data.error");yield qc(Object(Ru.d)({videoConversationId:e.payload.videoConversationId,reason:"CALL_ALREADY_ENDED"===n?Au.b.ACCEPT_FAILED_DUE_TO_CALL_END:Au.b.ACCEPT_FAILED_DUE_TO_OTHER_REASONS}))}}}function*vf(e){try{yield qc(Object(Ru.f)({videoConversationId:e.payload.videoConversationId}))}catch(t){Object(xt.b)(t)}}function*jf(e){try{yield qc(Object(Ru.k)({videoConversationId:e.payload.videoConversationId}))}catch(t){Object(xt.b)(t)}}function*If(e){let t;try{const{videoConversationId:n}=e.payload,o=yield ts(ir.b),a=Object(Fu.g)(o),r=a.messageId,i=a.conversationId,c=Object(Fu.k)(o,n);if(yield qc(Object(Rn.c)({conversationId:i,action:c?_a.a.AUDIO_CALL_OUTGOING_STARTING:_a.a.VIDEO_CALL_OUTGOING_STARTING})),r){const e=yield ts(ir.c);t=Object(cr.j)(Object(cr.l)(e,i),r),yield Zc(yd,{chatMessage:t,conversationId:i,params:{buttonId:a.sourceButtonId}})}const s=yield Zc(pf,{conversationId:i,audioOnly:c,messageText:a.messageText,sourceButtonId:a.sourceButtonId,postBackChatMessageId:r,shouldWaitForConnection:!0,videoConversationId:n,activityEventType:"CALL_STARTED"});yield qc(Object(Ru.w)({agentWaitTime:s.conversation.agentWaitTime,videoConversationId:s.conversation.id}))}catch(n){t&&(yield qc({type:Ce.I,payload:{chatMessage:t,conversationId:e.payload.conversationId}})),Object(xt.b)(n),Object(un.f)(n)&&(yield qc(Object(Ru.i)({videoConversationId:e.payload.videoConversationId,reason:Au.d.INITIATE_FAILED})))}}function*Ef(e){try{const{conversationId:n,type:o,isPhone:a,prevState:r,videoConversationId:i}=e.payload,c=yield ts(ir.b),l=Object(Fu.d)(c),u=s()(l,"state")===Au.c.FAILED;if(Object(Du.f)({callDetails:l,rejoiningVideoConversationId:i}))return;u&&(yield qc(Object(Ru.l)({notifyAgent:!1,videoConversationId:i,callDetails:l,isIncomingCall:!0})));const p=o===Au.a.AUDIO,b=Object(Du.b)(r);yield qc(Object(Rn.c)({conversationId:n,action:Object(Du.c)(p,b)})),yield qc(Object(Ru.q)({conversationId:n,videoConversationId:i,state:b?Au.c.ACCEPTED:Au.c.SETUP,controls:Object(Du.e)(a),type:o}));const f=yield Zc(ff,n);if(d()(f))return yield qc(Object(Ru.d)({videoConversationId:i,reason:Au.b.REJOINING_FAILED_DUE_TO_CALL_END,prevState:r}));const{conversation:h}=f;if(b){try{yield Zc(df,{videoConversationId:h.id,shouldWaitForConnection:!0})}catch(t){if(Object(xt.b)(t),Object(un.f)(t)){const e=s()(t,"response.data.error");return yield qc(Object(Ru.d)({videoConversationId:i,reason:"CALL_ALREADY_ENDED"===e?Au.b.ACCEPT_FAILED_DUE_TO_CALL_END:Au.b.ACCEPT_FAILED_DUE_TO_OTHER_REASONS,prevState:r}))}}yield qc(Object(Ru.t)({videoConversationId:h.id}))}}catch(t){if(Object(xt.b)(t),Object(un.f)(t))return yield qc(Object(Ru.d)({videoConversationId:e.payload.videoConversationId,reason:Au.b.REJOINING_FAILED_DUE_TO_OTHER_REASONS,prevState:e.payload.prevState}))}}function*Cf(e){try{const{conversationId:t,type:n,isPhone:o,prevState:a,videoConversationId:r}=e.payload,i=yield ts(ir.b),c=Object(Fu.d)(i),l=s()(c,"state")===Au.e.FAILED;if(Object(Du.f)({callDetails:c,rejoiningVideoConversationId:r}))return;l&&(yield qc(Object(Ru.l)({notifyAgent:!1,videoConversationId:r,callDetails:c})));const u=n===Au.a.AUDIO;yield qc(Object(Rn.c)({conversationId:t,action:Object(Du.c)(u)})),yield qc(Object(Ru.r)({conversationId:t,videoConversationId:r,state:Object(Du.d)(a),controls:Object(Du.e)(o),type:n}));const p=yield Zc(ff,e.payload.conversationId);if(d()(p))return yield qc(Object(Ru.i)({videoConversationId:r,reason:Au.d.REJOINING_FAILED_DUE_TO_CALL_END,prevState:a}));const{conversation:b}=p;yield qc(Object(Ru.s)({videoConversationId:b.id,agentWaitTime:b.agentWaitTime}))}catch(t){if(Object(xt.b)(t),Object(un.f)(t))return yield qc(Object(Ru.i)({videoConversationId:e.payload.videoConversationId,reason:Au.d.REJOINING_FAILED_DUE_TO_OTHER_REASONS,prevState:e.payload.prevState}))}}function*Sf(e){try{const t=e.payload,{isIncomingCall:n}=t,o=Object(rl.__rest)(t,["isIncomingCall"]);n?yield qc(Object(Ru.e)(o)):yield qc(Object(Ru.j)(o))}catch(t){Object(xt.b)(t)}}function*Tf(e){try{yield Zc(bf,e.payload.videoConversationId)}catch(t){Object(xt.b)(t)}}function*_f(){try{yield Qs(lf.e,mf),yield Qs(lf.g,vf),yield Qs(lf.n,jf),yield Qs(lf.b,hf),yield Qs(lf.m,Of),yield Qs(lf.u,If),yield Qs(lf.c,gf),yield Qs(lf.w,Sf),yield Qs(lf.j,Ef),yield Qs(lf.r,Cf),yield Qs(Ce.c,yf),yield Qs(lf.x,Tf)}catch(e){Object(xt.b)(e)}}function*xf(){yield Kc([Jc(sf),Jc(_f)])}function Af(e){return e.type===bt}function*Rf(){const e=yield ts(ir.f);return d()(e)||(yield qc(Object(aa.g)())),null}function*wf(e){try{const{events:t}=e.payload;yield Kc(t.filter(Af).map((e=>{const{status:t}=e.payload;return"LIVE"===t?Zc(Rf):"COMPLETED"===t?qc(Object(aa.c)({endedByAgent:!0})):null})))}catch(t){Object(xt.b)(t)}}function*Nf(){yield Qs(gl.l,wf)}function*Lf(){yield Kc([Jc(Xd),Jc(Nf)])}function Df(e){return e.type===ht}function*Mf(e){yield Kc(e.filter(Df).map((e=>qc({type:Me,payload:e.payload}))))}function*Pf(e){try{const{events:t}=e.payload;yield Kc([Zc(Mf,t)])}catch(t){Object(xt.b)(t)}}function*kf(){yield Qs(gl.l,Pf)}const Uf=new(n(961).a),Ff=e=>Object(rl.__awaiter)(void 0,void 0,void 0,(function*(){const{httpMethod:t="GET",httpUrl:n="",httpPayload:o=nn.a,actionIdentifier:a,requestId:r}=e.params;let i,c;try{const d="POST"===t||"PUT"===t?yield Uf[t.toLowerCase()](n,o,{withCredentials:!0}):yield Uf[t.toLowerCase()](n,{withCredentials:!0});i=d.request.status,c=d.request.responseText}catch(d){Object(xt.b)(d),Object(un.f)(d)?(i=d.request.status,c=d.request.responseText):(i=500,c="")}finally{yield(s={status:i,responseText:c,actionIdentifier:a,requestId:r},l=e.conversationId,Ws.post(`/livechat/cart/on-add-to-cart/${l}`,s))}var s,l})),Bf=e=>Ws.post("/livechat/cart/update-cart",e),Gf=e=>Ws.post("/livechat/cart/remove-from-cart",e);function*Vf(e){try{const{type:t,params:n,conversationId:o}=e.payload;"HTTP_REQUEST"===t&&(yield Zc(Ff,{params:n,conversationId:o}))}catch(t){Object(xt.b)(t)}}function*zf(){yield Qs(Me,Vf)}const Wf={presence:!0,format:{pattern:"^(?!\\s*$).+",message:"can only be non-empty string"}},$f={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Wf,productCategory:{type:"string"},quantity:{type:"number"},standardPrice:{type:"number"},standardCurrency:{type:"string"},title:{type:"string"},description:{type:"string"}}}}},Hf={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Wf,quantity:{type:"number"}}}}};function*qf(e){try{const n=(t=e.payload,We()(t,$f));if(n)return void Object(g.a)("Invalid payload passed to update cart, please check",n);yield Zc(Bf,e.payload)}catch(n){Object(xt.b)(n)}var t}function*Kf(){yield Qs(Pe,qf)}function*Yf(e){try{const n=(t=e.payload,We()(t,Hf));if(n)return void Object(g.a)("Invalid payload passed to remove from cart, please check",n);yield Zc(Gf,e.payload)}catch(n){Object(xt.b)(n)}var t}function*Xf(){yield Qs(ke,Yf)}function*Zf(){yield Kc([Jc(kf),Jc(zf),Jc(Kf),Jc(Xf)])}function*Jf(){try{yield Kc([Jc(Al),Jc(Wb),Jc(Yb),Jc(xf),Jc(Lf),Jc(Zf)])}catch(e){Object(xt.b)(e)}}function*Qf(){try{const e=yield Jc(Jf);yield Hc(Kn.c),yield es(e)}catch(e){Object(xt.b)(e)}}var eh=n(519);function th(e,t){const n=Object(ro.a)(e,{path:"/conversation/:conversationId/:transientId?"});if(!n)return{};const o=s()(n.params,"conversationId"),a=s()(n.params,"transientId");return"all"===o?{isConversationPath:!1,matchedConversationId:void 0}:"new"===o?{isConversationPath:!0,matchedConversationId:t?t.slice(1):a}:{isConversationPath:!0,matchedConversationId:o}}var nh=n(456),oh=n(957);function*ah(e){try{const{conversationId:t,chatMessage:n}=e.payload,o=Object(Di.d)(yield ts(Gn.g)),a=yield ts(Gn.c),r=Object(cr.f)(a.conversations,t);if(r){const e=Ai()(r.defaultMessages,"id"),a=Nl.a.getId(n);if(e.includes(a))return void(yield qc({type:Ce.O,payload:{conversationId:t,lastReadMessageId:a}}));if(function(e,t){return!(Nl.a.getSender(e)===t)&&!Object(Dl.f)(e)}(n,o)){const{isConversationPath:e,conversationId:n}=yield ts(eh.e),o=yield ts(Gn.b),{isMinimized:a}=o,i=Object(ve.b)(),c=!!e,s=!d()(r);(Object(p.B)()?s&&t===n:s)&&(yield qc({type:Ce.P,payload:{conversationId:t,count:1}}),a&&!c&&i.push(`/conversation/${t}`))}}}catch(t){Object(xt.b)(t)}}function*rh(){try{yield Qs(Ce.D,ah)}catch(e){Object(xt.b)(e)}}function*ih(e){try{const t=Object(nh.a)();Object(nh.b)(t)?t.open(Object(Zt.c)(e.payload.url),e.payload.target):window.open(Object(Zt.c)(e.payload.url)),e.promise.resolve()}catch(t){e.promise.reject(),Object(xt.b)(t)}}function*ch(){try{yield Qs(Ce.Q,ih)}catch(e){Object(xt.b)(e)}}function*sh(e){try{window.open(Object(Zt.b)(e.payload.phoneNumber)),e.promise.resolve()}catch(t){e.promise.reject(),Object(xt.b)(t)}}function*lh(){try{yield Qs(Ce.p,sh)}catch(e){Object(xt.b)(e)}}function*dh(e){try{const{surveyUrl:t,shouldReplace:n,conversationId:o}=e.payload,a=Object(ve.b)(),r=Object(p.B)()||Object(p.F)()?`${t}&showCancel=true`:t,i=`/survey/${encodeURIComponent(`${r}&hideThankYouPage=true`)}`;return n?a.replace(i):a.push(o?`/conversation/${o}${i}`:i)}catch(t){return void Object(xt.b)(t)}}function*uh(){try{yield Qs(Ce.U,dh)}catch(e){Object(xt.b)(e)}}function*ph(e){try{const{deleted:n,closed:o,surveyUrl:a,conversationId:r}=e.payload;try{if(n||o){const e=Object(ve.b)(),{matchedConversationId:t}=th(e.location.pathname,e.location.hash),o=n&&r&&t===r&&!Object(p.B)();a?yield qc(Object(ad.n)({surveyUrl:a,shouldReplace:o,conversationId:r})):o&&e.goBack()}}catch(t){Object(xt.b)(t)}}catch(t){Object(xt.b)(t)}}function*bh(){try{yield Qs(Ce.j,ph)}catch(e){Object(xt.b)(e)}}function*fh(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield Hc(Kn.a);if(t){if(Object(p.E)()){const e=Object(p.g)();yield qc(Object(ad.b)(e))}if(Object(p.D)()){const e=Object(p.f)(),t=Object(p.c)(e);yield qc(Object(ad.a)(e,t,Object(Xt.a)()))}yield os(1e3),yield qc(Object(ad.g)())}}catch(e){Object(xt.b)(e)}}function*hh(e){try{const{payload:t,promise:n}=e,{conversationId:o}=t;yield Zc(oh.b,o),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(xt.b)(t)}}function*gh(){try{yield Qs(Ce.o,hh)}catch(e){Object(xt.b)(e)}}function*yh(e){try{const t=yield ts(Gn.g),n=Object(Di.d)(t),o=yield ts(Gn.c),a=((e,t,n)=>{if(n){const o=Object(eh.d)(e[n],t);return o?[{conversationId:n,count:o}]:[]}return al()(e,((e,n)=>{const o=Object(eh.d)(n,t);return o&&e.push({conversationId:n.id,count:o}),e}),[])})(Object(cr.p)(o).byId,n,e);d()(a)||(yield qc({type:Ce.N,payload:a}))}catch(t){console.warn(t)}}function*Oh(){try{if(Object(p.B)()){if(Object(p.H)())for(;;){yield Hc(Ce.g);const{conversationId:e}=yield ts(eh.e);yield Zc(yh,e)}if(Object(p.E)()||Object(p.D)()){yield Yc([Hc(Ce.t),Hc(Ce.u),Hc(Ce.w),Hc(Ce.x)]);const{conversationId:e}=yield ts(eh.e);return void(yield Zc(yh,e))}return}if(Object(p.E)()||Object(p.D)())return yield Kc([Yc([Hc(Ce.t),Hc(Ce.w),Hc(Ce.u),Hc(Ce.x)]),Hc(Ce.g)]),void(yield Zc(yh));if(Object(p.J)()||Object(p.G)()||Object(p.H)())for(;;)yield Hc(Ce.g),yield Zc(yh)}catch(e){Object(xt.b)(e)}}function*mh(){try{yield Kc([Jc(fh),Jc(rh),Jc(ch),Jc(lh),Jc(gh),Jc(uh),Jc(bh),Jc(Oh)])}catch(e){Object(xt.b)(e)}}function*vh(e){let{action:t}=e;try{const e=t.payload;if((n=e).type!==Iu.h&&n.type!==Iu.i)return;const o=yield ts(Gn.c),a=Object(cr.d)(Object(cr.u)(o));e.type===Iu.h&&(yield Zc(Kt.m,e.payload.contextId||a,e.payload.abortedProcessContext,[])),e.type===Iu.i&&(yield Zc(Kt.j,e.payload.contextId||a))}catch(o){Object(xt.b)(o)}var n}function*jh(e){try{const{conversationId:t,chatMessage:n}=e.payload,o=yield Zc(Kt.e,t);if(o){const e=Ll.a.getAttachment(Nl.a.getMessagePayload(n));if(Object(tn.c)(Nl.a.getSender(n))&&e&&Object(Mu.c)(e)){const e=Nl.a.getId(n),a=o.messageIds;yield Zc(Kt.m,t,o.context,[...a,e])}}}catch(t){Object(xt.b)(t)}}function*Ih(e){try{const{conversationId:t,chatMessage:n}=e.payload,o=yield Zc(Kt.e,t);o&&(yield Zc(Kt.m,t,o.context,[]))}catch(t){Object(xt.b)(t)}}function*Eh(){yield Qs(Ce.D,jh)}function*Ch(){yield Qs(Ce.G,Ih)}function*Sh(e){try{const t=yield Zc(Kt.e,e);t&&(yield Kc(t.messageIds.map((e=>Zc(ed,e)))),yield Zc(Ql,{context:t.context,conversationId:e}),yield Zc(Kt.j,e))}catch(t){Object(xt.b)(t)}}function*Th(e){try{const{results:t}=e.payload.conversationResponse;yield Kc(t.map((e=>Zc(Sh,e.id))))}catch(t){Object(xt.b)(t)}}function*_h(){yield Qs(Ce.g,Th)}function*xh(){yield Kc([Jc(Eh),Jc(Ch),Jc(_h)])}var Ah=n(521),Rh=n.n(Ah),wh=n(504),Nh=n.n(wh),Lh=n(814);function*Dh(){try{const e=yield ts(Gn.b),{isMinimized:t}=e;t&&(yield qc({type:W.d,payload:{}}))}catch(e){Object(xt.b)(e)}}function*Mh(){try{const e=yield ts(Gn.c),t=Object(cr.d)(Object(cr.u)(e)),n=yield Zc(ve.b),o=`/conversation/${t}`,{isConversationPath:a}=th(n.location.pathname,n.location.hash);a?n.replace(o):n.push(o),yield Zc(Dh)}catch(e){Object(xt.b)(e)}}function*Ph(){try{yield Hc(Ce.g),yield Zc(Mh)}catch(e){Object(xt.b)(e)}}function*kh(e){let{initialMessages:t,conversationContext:n,createCase:o,additional:a,assignToUser:r,conversationId:i}=e;try{const e=yield ts(Gn.g),c=Object(Di.d)(e);let s,l;const u=Nh()(t,(e=>{const t=wo()(e)?e:e.message;return!d()(bn()(t))}));if(!d()(u)||d()(t)&&de()(t)){const e=(e=>e.map((e=>wo()(e)?{message:{text:e},isSentByUser:!1}:wo()(e.message)?{...e,message:{text:e.message}}:e)))(u);s=Br()(e.map(((e,t)=>e.isSentByUser?ld.a.makeOutgoing().makeTextMessage({text:e.message.text||"",conversationId:i,sender:c,disableManualResponse:e.message.disableManualResponse}):su(e.message.text,i,`${t}`,e.message.disableManualResponse)))),l=!0}else{const e=yield ts(Gn.c),t=Object(cr.l)(e,qo.e);s=Object(cr.k)(t),l=Object(cr.w)(t)}yield qc({type:Ce.J,payload:{conversationId:i,messages:s,conversationContext:n,hasInitialItems:l,createCase:o,assignToUser:r,additional:a}})}catch(c){Object(xt.b)(c)}}function*Uh(e,t){const{payload:{silent:n},promise:o}=t;try{let a=yield ts((e=>e));const r=Ht.a.getCustomizationConfig(e),i=(e,t)=>s()(e,t),c=Object(cr.p)(Object(Gn.c)(a));Ee()(Object(cr.t)(c))&&(yield qc({type:Ce.B,payload:{}}),yield Hc(Ce.ab),a=yield ts((e=>e)));const{isLocked:l}=Object(eh.f)(a,r,i);if(l){if(!n){const e=Object(cr.b)(c);yield Zc(e?Mh:Ph)}throw ru.a.LIMIT_REACHED}const d=`${qo.e}_${Rh()()}`;if(yield Zc(kh,{...t.payload,conversationId:d}),n&&(yield qc({type:Ce.K,payload:{conversationId:d,appContext:Object(Xt.a)()},promise:o})),!n){const e=Object(ve.b)(),{isConversationPath:t}=th(e.location.pathname,e.location.hash),n=`/conversation/new/${d}`;!!t?e.replace(n):e.push(n),yield Zc(Dh)}}catch(a){o&&o.reject(lu(a)),Object(xt.b)(a)}}function*Fh(e){const{payload:t,promise:n}=e;let o;try{const e=yield ts(Gn.c),a=Object(cr.p)(e);if(o=t.conversationId||Object(cr.d)(Object(cr.u)(e)),!o)return void(n&&n.reject(ru.a.NOT_FOUND));const r=Object(ve.b)(),{isConversationPath:i,matchedConversationId:c}=th(r.location.pathname,r.location.hash),l=!!i,u=`/conversation/${o}`;let b=o,f=[];if(c!==o){if(Object(p.z)(o)){const e=Object(p.d)(o),t=Object(p.c)(e),n=Object(cr.i)(a,e);b=t,Pl()(a.ids,n)||(yield qc(Object(ad.a)(e,t,Object(Xt.a)())),f=[Ce.t,Ce.u])}else Pl()(a.ids,o)||(yield qc(Object(ad.b)(o)),f=[Ce.w,Ce.x]);for(;!d()(f);){const[e,t]=yield Yc([Hc(f[0]),Hc(f[1])]);if(b===(s()(e,"payload.conversationResponse.id")||s()(t,"payload.conversationId"))){if(t)throw t.payload.error;break}}}l?r.replace(u):r.push(u),yield Zc(Dh),n&&n.resolve(o)}catch(a){Object(xt.b)(a),n&&n.reject(lu(a))}finally{(yield Wc(zc,{}))&&n&&n.reject(ru.a.UNEXPECTED_ERROR)}}function*Bh(){try{const{payload:{applicationConfig:e}}=yield Hc(Kn.a);yield Qs(Lh.c,Uh,e)}catch(e){Object(xt.b)(e)}}function*Gh(){try{yield function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return Jc.apply(void 0,[Zs,e,t].concat(o))}(Lh.a,Fh)}catch(e){Object(xt.b)(e)}}var Vh=n(736);const zh={[pd.b.PROGRESS_BAR]:e=>{const t=Nl.a.getMessagePayload(e).attachment;return t.status===Vh.a.ABORTED||t.status===Vh.a.ERROR}},Wh=e=>{const t=Nl.a.getMessagePayload(e).attachment,n=t&&zh[t.type];return n&&n(e)};class $h{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=K()(this.queueItems,(t=>Nl.a.getId(e.message)===Nl.a.getId(t.message)));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}}const Hh="EXTERNAL_MESSAGE_SEND";function*qh(e){try{const{message:t,externalMessageId:n}=e,o=yield Zc(cd,t);o&&(yield qc({type:Hh,payload:{id:n,message:o}}))}catch(t){Object(xt.b)(t)}}function*Kh(e){try{for(;;){const t=yield Hc(e);Wh(t.message)||(yield Zc(qh,t))}}catch(t){Object(xt.b)(t)}}let Yh;function*Xh(e){try{Yh||(Yh=yield Zc(Is,new $h),yield Qc(Kh,Yh));const t=yield ts(Gn.c),n=Object(cr.d)(Object(cr.u)(t)),o=yield ts(Gn.g),a=Object(Di.d)(o),r=ld.a.makeOutgoing().makeDynamicMessage({externalMessageId:e.id,messageId:e.sprMsgId,messagePayload:e.message,conversationId:e.contextId||n,messageContext:e.messageContext,sender:e.isSentByUser?a:qo.b});if(!r)return;const i={externalMessageId:e.id,message:r};!e.sprMsgId||Wh(r)?yield Jc(qh,i):yield qc(Yh,i);const{payload:{id:c,message:s}}=yield Hc(Hh);return{id:c,message:s}}catch(t){return void Object(xt.b)(t)}}function*Zh(e){let{action:t}=e;try{if(t.payload.type!==Iu.d)return;const e=yield Zc(Xh,t.payload.payload);if(!e)return void Object(be.a)({topic:he,payload:{error:L,request:t.payload}});const{id:n,message:o}=e;yield qc(Object(el.l)({id:n,conversationId:null===o||void 0===o?void 0:o.conversationId,messageId:null===o||void 0===o?void 0:o.id})),Object(be.a)({topic:he,payload:{data:{id:n,conversationId:null===o||void 0===o?void 0:o.conversationId,messageId:null===o||void 0===o?void 0:o.id},request:t.payload}})}catch(n){Object(xt.b)(n)}}function*Jh(e){let{action:t}=e;try{if(t.payload.type!==Iu.c)return;const{payload:e}=t.payload,n=ld.a.makeOutgoing().makeDynamicMessage({externalMessageId:e.id,messagePayload:{events:nl()(e.event)},conversationId:e.contextId,sender:qo.b});if(!n)return;yield Zc(cd,n)}catch(n){Object(xt.b)(n)}}var Qh=n(827),eg=n.n(Qh),tg=n(1040),ng=n.n(tg);const og=/\$\{(\w+)\}/g,ag=(e,t)=>{const n=Object.keys(t);return ng()(e,og,((e,o)=>n.includes(o)?t[o]:e))},rg=(e,t)=>{const{totalUnits:n,completedUnits:o,action:a,status:r}=t,i=e[`progress.${a}.${r}.title`];return ag(i,{completedUnits:o,totalUnits:n})},ig=(e,t)=>{const{totalUnits:n,completedUnits:o,action:a,status:r}=t,i=e[`progress.${a}.${r}.description`];return ag(i,{completedUnits:o,totalUnits:n})};class cg{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=K()(this.queueItems,(t=>e.action.payload.contextId===t.action.payload.contextId));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}}const sg=(e,t)=>`${e}_${t}`,lg=eg()((()=>{const e={};return{get:t=>e[t],set:(t,n)=>{e[t]=n},remove:t=>{delete e[t]}}}));function*dg(e){for(;;)try{const{action:n,localeData:o}=yield Hc(e),{payload:{contextId:a,id:r,data:i,progressContext:c}}=n,s={type:pd.b.PROGRESS_BAR,title:rg(o,i),description:ig(o,i),progress:i.progress,status:i.status,action:i.action,enableCancel:i.enableCancel,enableRetry:i.enableRetry},l={attachment:s,disableManualResponse:i.disableManualResponse},d=yield Zc(Xh,{contextId:a,id:r,sprMsgId:lg().get(sg(a,s.action)),message:l,messageContext:c});if(!d)return void Object(be.a)({topic:he,payload:{error:L,request:n}});const{id:u,message:p}=d;yield qc(Object(el.m)({id:u,conversationId:null===p||void 0===p?void 0:p.conversationId,messageId:null===p||void 0===p?void 0:p.id})),Object(be.a)({topic:he,payload:{data:{id:r,conversationId:null===p||void 0===p?void 0:p.conversationId,messageId:null===p||void 0===p?void 0:p.id},request:n}}),(t=s).status!==Vh.a.COMPLETED&&(t.status!==Vh.a.ABORTED&&t.status!==Vh.a.ERROR||t.enableRetry)?lg().set(sg(a,s.action),null===p||void 0===p?void 0:p.id):lg().remove(sg(a,s.action))}catch(n){Object(xt.b)(n)}var t}let ug;function*pg(e){let{action:t,localeData:n}=e;try{if(t.payload.type!==Iu.f)return;ug||(ug=yield Zc(Is,new cg),yield Qc(dg,ug)),yield qc(ug,{action:t.payload,localeData:n})}catch(o){Object(xt.b)(o)}}function*bg(e,t){try{yield Kc([Zc(Zh,{action:t,localeData:e}),Zc(Jh,{action:t,localeData:e}),Zc(pg,{action:t,localeData:e}),Zc(vh,{action:t})])}catch(n){Object(xt.b)(n)}}function*fg(){try{const e=yield ns(Ce.y),{payload:{localeData:t}}=yield Hc(W.k);yield Qs(e,bg,t)}catch(e){Object(xt.b)(e)}}function*hg(){const e=Object(u.a)();yield Object(Kt.g)(e.appId)}function*gg(){yield Qs(W.f,hg)}function*yg(){try{yield Kc([Jc(Bh),Jc(Gh),Jc(fg),Jc(gg)])}catch(e){Object(xt.b)(e)}}function Og(e){return Object(cr.v)(Object(cr.p)(Object(Gn.c)(e)))}function*mg(){try{let t=yield ts(Og);for(;;)try{yield Yc({notificationReceived:Hc(Ce.P),notificationRead:Hc(Ce.O),notificationsReceived:Hc(Ce.N)});const e=yield ts(Og);t!==e&&(Object(be.a)({topic:ee.l,payload:{data:{count:e}}}),t=e)}catch(e){Object(xt.b)(e)}}catch(e){Object(xt.b)(e)}}function*vg(){try{for(;;)try{const e=yield Hc(Ce.z);Object(be.a)({topic:ee.f,payload:{data:{type:e.payload.type,payload:{...e.payload.payload,userAuthToken:yield Object(Kt.a)(Ut.a.getAppId(Object(u.a)()))}}}})}catch(e){Object(xt.b)(e)}}catch(e){Object(xt.b)(e)}}function*jg(){try{yield Kc([Jc(mg),Jc(vg)])}catch(e){Object(xt.b)(e)}}var Ig=n(217);async function Eg(e){return(await Ve.a.get(`/livechat/upload/policy?fileName=${encodeURIComponent(e)}`)).data}async function Cg(e,t){let{bucket:n,domainName:o}=e;const a=await Ve.a.post(`https://${n}.${null!==o&&void 0!==o?o:"s3.amazonaws.com"}/`,t);return decodeURIComponent(a.headers.location)}const Sg=[{key:"Cache-Control",value:n.n(Ig)()("max-age=31536000, no-transform, public")},{key:"Content-Type",value:e=>e.type}],Tg=["key","acl","x-amz-credential","x-amz-algorithm","x-amz-date","policy","x-amz-signature","x-amz-security-token","x-amz-server-side-encryption"];function*_g(e,t){try{if(function(e){return"AZURE"===e.type}(e)){const{uploadFileOnAzure:o}=yield Promise.all([n.e(4),n.e(14)]).then(n.bind(null,1842));return yield Zc(o,e,t)}return yield Zc(Cg,e,function(e,t){const n=new FormData;return Tg.forEach((t=>{n.append(t,e[t])})),Sg.forEach((e=>{n.append(e.key,e.value(t))})),n.append("file",t),n}(e,t))}catch(o){return}}function*xg(e){try{const t=yield Zc(Eg,e.name);if(t){return yield Zc(_g,t,e)}return}catch(t){return}}var Ag=n(661),Rg=n(639);function wg(e){return new Promise((t=>{const n=document.createElement("img");n.onload=e=>{e.target&&t({height:e.target.naturalHeight,width:e.target.naturalWidth})},n.src=e}))}function*Ng(e,t,n,o){try{if(a=n.type,Pl()(Rg.c,a)){const a=URL.createObjectURL(n),{height:r,width:i}=yield Zc(wg,a),c=yield Zc(ad.p,ld.a.makeOutgoing().makeImageAttachmentMessage({attachmentProperties:{height:r,width:i,url:a},conversationId:e,sender:t,inReplyToChatMessageId:o}));yield qc(c);const s=yield Zc(xg,n);if(s){const e=Object(Ag.f)(c.payload.chatMessage,s,pd.b.IMAGE);yield Zc(sd,e),URL.revokeObjectURL(a)}else yield qc({payload:{conversationId:e,transientId:c.payload.chatMessage.id},type:Ce.F})}}catch(r){Object(xt.b)(r)}var a}function Lg(e){return new Promise((t=>{const n=document.createElement("video");n.onloadeddata=()=>{n.currentTime=0},n.onseeked=e=>{const o=document.createElement("canvas");o.height=n.videoHeight,o.width=n.videoWidth;const a=o.getContext("2d");if(a){a.drawImage(n,0,0,o.width,o.height);(o.toBlob||o.msToBlob).bind(o)((e=>{const o=e?new File([e],"image.jpg",{type:"image/jpeg"}):null;t({previewImageFile:o,height:n.videoHeight,width:n.videoWidth})}))}},n.src=e,n.load()}))}function*Dg(e){try{return yield Zc(xg,e)}catch(t){return void Object(xt.b)(t)}}function*Mg(e,t,n,o){try{if(a=n.type,Pl()(Rg.e,a)){const a=URL.createObjectURL(n),{previewImageFile:r,height:i,width:c}=yield Zc(Lg,a),s=URL.createObjectURL(r),l=yield Zc(ad.p,ld.a.makeOutgoing().makeVideoAttachmentMessage({attachmentProperties:{height:i,width:c,previewImageUrl:s,url:a},conversationId:e,sender:t,inReplyToChatMessageId:o}));yield qc(l);const[d,u]=yield Kc([Zc(xg,n),Zc(Dg,r)]);if(d){const e=Object(Ag.g)(Object(Ag.f)(l.payload.chatMessage,d,pd.b.VIDEO),u);yield Zc(sd,e),URL.revokeObjectURL(a),URL.revokeObjectURL(s)}else yield qc({payload:{conversationId:e,transientId:l.payload.chatMessage.id},type:Ce.F})}}catch(r){Object(xt.b)(r)}var a}var Pg=n(1041);const kg={"application/pdf":Pg.a.PDF,"text/plain":Pg.a.DOCUMENT,"application/msword":Pg.a.WORD_DOCUMENT,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":Pg.a.WORD_DOCUMENT,"application/vnd.ms-excel":Pg.a.EXCEL,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":Pg.a.EXCEL,"application/vnd.ms-powerpoint":Pg.a.PRESENTATION,"application/vnd.openxmlformats-officedocument.presentationml.presentation":Pg.a.PRESENTATION,"application/onenote":Pg.a.ONENOTE,"application/json":Pg.a.DOCUMENT};function*Ug(e,t,n,o){try{if(a=n.type,Pl()(Rg.b,a)){const a=URL.createObjectURL(n),r=yield Zc(ad.p,ld.a.makeOutgoing().makeDocumentAttachmentMessage({attachmentProperties:{url:a,title:n.name,documentType:kg[n.type]},conversationId:e,sender:t,inReplyToChatMessageId:o}));yield qc(r);const i=yield Zc(xg,n);if(i){const e=Object(Ag.f)(r.payload.chatMessage,i,pd.b.DOCUMENT);yield Zc(sd,e),URL.revokeObjectURL(a)}else yield qc({payload:{conversationId:e,transientId:r.payload.chatMessage.id},type:Ce.F})}}catch(r){Object(xt.b)(r)}var a}function*Fg(e,t,n,o){try{if(a=n.type,Pl()(Rg.a,a)){const a=URL.createObjectURL(n),r=yield Zc(ad.p,ld.a.makeOutgoing().makeAudioAttachmentMessage({attachmentProperties:{url:a,mimeType:n.type,title:n.name},conversationId:e,sender:t,inReplyToChatMessageId:o}));yield qc(r);const i=yield Zc(xg,n);if(i){const e=Object(Ag.f)(r.payload.chatMessage,i,pd.b.AUDIO);yield Zc(sd,e),URL.revokeObjectURL(a)}else yield qc({payload:{conversationId:e,transientId:r.payload.chatMessage.id},type:Ce.F})}}catch(r){Object(xt.b)(r)}var a}function*Bg(e){const{conversationId:t,chatUserId:n,file:o,inReplyToChatMessageId:a}=e.payload;yield Kc([Zc(Ng,t,n,o,a),Zc(Mg,t,n,o,a),Zc(Fg,t,n,o,a),Zc(Ug,t,n,o,a)])}var Gg=function*(){yield Qs(Lh.b,Bg)};let Vg;function*zg(){for(;;)try{let e;yield Hc(gl.b),Vg=Date.now(),yield Hc(gl.a),e=Date.now(),Vg&&e-Vg>=3e5&&(Vg=void 0,yield qc({type:gl.m}))}catch(e){Object(xt.b)(e)}}function*Wg(){yield Kc([Jc(zg)])}var $g=n(1032),Hg=n(407);function*qg(){try{for(;;)try{yield Hc(W.g);Object(p.K)()?Object(be.a)({topic:ee.d}):yield qc(Object(Hg.b)())}catch(e){Object(xt.b)(e)}}catch(e){Object(xt.b)(e)}}function*Kg(){try{for(;;)try{const e=yield Hc(W.l),{isMediaOpen:t}=e.payload;t?Object(be.a)({topic:ee.h}):Object(be.a)({topic:ee.g})}catch(e){Object(xt.b)(e)}}catch(e){Object(xt.b)(e)}}function*Yg(e,t){try{yield qc(Object(Hg.i)(e,t))}catch(n){Object(xt.b)(n)}}function*Xg(e,t,n){try{const e=yield ts(Gn.b),t=Object(Bn.e)(e),n=Object(Di.c)(yield ts(ir.h)).userId;let o={};Ma()(t,((e,t)=>{o={...o,[t]:e.enabled}})),yield Object(Kt.n)(n,o)}catch(o){yield Zc(Yg,e,n),Object(xt.b)(o)}}function*Zg(){try{for(;;){const e=yield Hc(W.q),{userPreferenceKey:t,newValue:n,oldValue:o}=e.payload;yield Zc(Yg,t,n),yield Zc(Xg,t,n,o)}}catch(e){Object(xt.b)(e)}}function*Jg(){try{const{payload:{applicationConfig:e}}=yield Hc(Kn.a);setTimeout((()=>{const t=s()(e,"otherConfigs.theme.icons",{});Ma()(t,(e=>{Object($g.a)(e)}))}),1e4)}catch(e){Object(xt.b)(e)}}function*Qg(){try{yield Kc([Jc(qg),Jc(Kg),Jc(Zg),Jc(Jg)])}catch(e){Object(xt.b)(e)}}function*ey(e){try{const{user:t,userContext:n}=e.payload||{},o=Object(Di.c)(yield ts(ir.h)),a=ul.a.getId(o),r=Object(p.M)(n);if(Object(tn.a)(t)&&!Object(tn.b)(a)||Object(tn.b)(a)&&Object(tn.d)(t,o)){const e=k()(Object(u.a)(),{userContext:{$merge:r},user:{$set:{...Object(u.a)().user||{},...t}}});Object(u.f)(e);const n=yield Zc(ll,{...o,...t,customContext:r});return yield qc(Object(Rn.c)({action:_a.a.USER_PROFILE_UPDATED})),void(yield qc({type:U.d,payload:{users:[n]}}))}const i=k()(Object(u.a)(),{userContext:{$set:r},user:{$set:t}});return Object(u.f)(i),void Object(Hn.c)({shouldReboot:!0})}catch(t){Object(xt.b)(t)}}function*ty(){try{yield Qs(V,ey)}catch(e){Object(xt.b)(e)}}function*ny(){return Es((e=>{const t=()=>{e(Object(Rn.g)(!0))},n=()=>{e(Object(Rn.g)(!1))};return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}))}function*oy(){let e;try{for(e=yield Zc(ny);;){const t=yield Hc(e);yield qc(t)}}catch(t){Object(xt.b)(t)}finally{e&&e.close()}}function ay(){return Es((e=>{const t=Object(u.b)();if(!t)return X.a;const n=()=>{const{visibilityState:t}=document;"hidden"===t&&e({type:gl.b}),"visible"===t&&e({type:gl.a})};return t.document.addEventListener("visibilitychange",n),()=>{t.document.removeEventListener("visibilitychange",n)}}))}function*ry(){let e;try{for(e=yield Zc(ay);;){const t=yield Hc(e);yield qc(t)}}catch(t){Object(xt.b)(t)}finally{e&&e.close()}}function*iy(e){try{const{ssoId:t,conversationId:n,messageId:o}=e.payload;yield en({ssoId:t,conversationId:n,messageId:o}),yield qc({type:gl.e,payload:{}}),yield qc({type:Kn.b,payload:{}}),e.promise&&e.promise.resolve()}catch(t){yield qc({type:gl.c,payload:{}}),e.promise&&e.promise.reject()}}function*cy(){try{yield Qs(gl.d,iy)}catch(e){Object(xt.b)(e)}}function*sy(){try{yield Kc([Jc(cy)])}catch(e){Object(xt.b)(e)}}let ly=!0;function*dy(){for(;;)try{yield Hc(W.b),yield qc({type:W.c})}catch(e){Object(xt.b)(e)}}function*uy(){for(;;)try{yield Hc(W.d),yield qc({type:W.e})}catch(e){Object(xt.b)(e)}}function*py(e){ly=!1,yield qc(Object(Rn.a)({ssoId:qt.a.getAutoLoginSSOId(Ht.a.getCustomizationConfig(e))})())}function*by(){try{const{payload:{applicationConfig:e}}=yield Hc(Kn.a);if(Object(p.K)())return;if(!ly||!Qt(e))return void(yield Jc(uy));yield Hc(W.d),yield Zc(py,e),yield Hc(gl.c),yield Jc(uy),yield qc({type:W.d})}catch(e){Object(xt.b)(e)}}function*fy(){yield Kc([Jc(by),Jc(dy)])}var hy=n(1042);function*gy(e){try{const{type:t,buttonId:n,promptId:o}=e.payload,a=yield ts(Gn.d),r=Qa()(a,(e=>e.id===o));if(!r)return;t!==or.a.TRIGGERED&&(yield qc(function(e){return{type:re.b,payload:{promptId:e}}}(o)));const i=Qa()(r.buttons,(e=>e.id===n));t===or.a.ENGAGED&&i&&i.type===or.b.URL&&i.value?window.open(Object(Zt.c)(i.value)):t!==or.a.ENGAGED||i&&i.type===or.b.CLOSE||(yield qc(Object(fe.b)({initialMessages:Br()([...Ai()(r.messages,(e=>{let{text:t,disableManualResponse:n=!1}=e;return{message:{text:t,disableManualResponse:n}}})),i?{isSentByUser:!0,message:i.label}:void 0]),createCase:!!s()(r.additional,"createCase"),additional:{...cl()(r.additional,["interceptId","creativeId"]),interceptTargetId:n,clickedOnPrompt:!0}}))),Object(be.a)({topic:ee.j,payload:{data:{type:t,id:o,button:i}}})}catch(t){Object(xt.b)(t)}}function*yy(){try{yield Qs(hy.a,gy)}catch(e){Object(xt.b)(e)}}function*Oy(){try{const{appId:e}=Object(u.a)();yield Zc(oa.remove,e)}catch(e){Object(xt.b)(e)}}function*my(e){try{const{conversationId:t,messageId:n,agentId:o}=e.payload.state,{appId:a}=Object(u.a)();yield Zc(oa.set,a,JSON.stringify({conversationId:t,messageId:n,agentId:o}))}catch(t){Object(xt.b)(t)}}function*vy(){yield Qs([Rd.g,Rd.h],Oy)}function*jy(){yield Qs(Rd.j,my)}function*Iy(){yield Kc([Jc(vy),Jc(jy)])}var Ey=n(1043);let Cy=null;function Sy(e){let{sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n}=e;if(t&&n)try{Object(Ey.a)(),Cy=setTimeout((()=>{Sy({sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n})}),((e,t)=>{const n=60*e*1e3-t,o=60*e*1e3/3;return n<=o?Math.max(n-2e3,0):o})(t,n))}catch(o){Object(xt.b)(o)}}function*Ty(){try{const{payload:{applicationConfig:e}}=yield Hc(Kn.a),t=Ht.a.getAutoExpireUserSessionTimeInMinutes(e),n=s()(e,"otherConfigs.settings.autoExpiryConfig.alertTime");for(;t&&n;)yield Yc([Hc(lf.e),Hc(lf.u),Hc(lf.w)]),Sy({sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n}),yield Yc([Hc(lf.h),Hc(lf.o),Hc(lf.b)]),Cy&&clearTimeout(Cy)}catch(e){Object(xt.b)(e)}finally{Cy&&clearTimeout(Cy)}}var _y=n(667);function xy(e){return e.type===gt}function*Ay(e){try{const{events:t}=e.payload;yield Kc(t.filter(xy).map((e=>(_y.d.emit({type:_y.a}),null))))}catch(t){Object(xt.b)(t)}}function*Ry(){try{yield Qs(gl.l,Ay)}catch(e){Object(xt.b)(e)}}var wy=n(950);const Ny=(e,t)=>`${Ht.a.getParnterId(t)}_${Ht.a.getAppId(t)}_${ul.a.getId(uu.a.getChatUser(e))}_${Date.now()}_${Math.random().toString(16).substr(2,8)}`;let Ly;const Dy=(e,t)=>{const n=uu.a.getChatSessionToken(e),o=Ny(e,t),a=uu.a.getInboxServerUrl(e),r=uu.a.getUserInbox(e);return Ly=new wy.a({userName:n,clientId:o,inboxServerUrl:a,userInbox:r}),Ly},My=()=>Ly;function Py(e){const t=()=>{My().disconnect().then((()=>{Object(g.a)("MQTT Client | Disconnected")})).catch((e=>{Object(un.f)(e)?console.warn(e):console.error(`MQTT Client | Disconnection Error ${e}`)}))};try{My().connect().catch((e=>{Object(un.f)(e)?console.warn(e):console.error(`MQTT Client | Connection Error ${e}`)})),function(){const e=My();e.on("error",(()=>{Object(g.a)("MQTT Client | Error")})),e.on("offline",(()=>{Object(g.a)("MQTT Client | Offline")})),e.on("reconnect",(()=>{Object(g.a)("MQTT Client | Reconnect")})),e.on("close",(()=>{Object(g.a)("MQTT Client | Closed")}))}(),My().subscribe().catch((e=>{Object(un.f)(e)?console.warn(e):console.error(`MQTT client | Subscribe Error ${e}`)})),My().on("message",((t,n)=>{try{const t=JSON.parse(n.toString());e(t)}catch(o){Object(xt.b)(o)}}))}catch(n){Object(xt.b)(n),t()}return t}var ky=class{constructor(e,t){if(this.poll=()=>{this.isActive&&(this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.enableBackOff&&(this.interval=this.interval+this.baseInterval),this.poll()}))}),this.interval))},this.start=e=>{this.isActive||(this.isActive=!0,this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.poll()}))}),e||0))},this.stop=()=>{this.isActive=!1,this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=void 0),this.enableBackOff&&(this.interval=this.baseInterval)},!e)throw new Error("No poll handler defined");var n;this.handler=(n=e,()=>n().catch((()=>{}))),this.baseInterval=t.pollInterval,this.enableBackOff=t.enableBackOff,this.interval=t.pollInterval,this.timeoutId=void 0,this.isActive=!1}};const Uy=()=>{return"A_"+(e=Date.now(),`${Math.floor(e/1e3).toString(16)}0000000000000000`);var e},Fy=eg()((()=>{let e=Uy();return{set:t=>{e=t||e},get:()=>e}}));let By=!0;function Gy(e,t){const n=Fy();return new ky((function(){return function(e){return Object(rl.__awaiter)(this,void 0,void 0,(function*(){const{cursor:t,lastActiveDiff:n}=e||nn.a;return(yield Ws.post("/livechat/event/fetch-notifications"+(t?`?cursor=${t}`:""),{lastActiveDiff:n},{backoff:!0,headers:{"X-CHAT-AUTO":!0}})).data}))}({cursor:n.get(),lastActiveDiff:t.getLastActiveTimeDifference()}).then((t=>{const{results:o,afterCursor:a}=t;e(null,o,{isFirstCall:By}),By=!1,n.set(a)})).catch((t=>{e(Object(un.c)(t)?t:null,[],{})}))}),{...t||{},pollInterval:15e3})}var Vy=n(1879);const zy=Object(Vy.a)(["payload","type"]),Wy=Object(Ft.a)("conversationId"),$y=Object(Ft.a)("sender"),Hy=Object(Ft.a)("payload"),qy=Object(Ft.a)("creationTime");class Ky{}Ky.getMessageType=Object(Bt.a)(zy),Ky.getConversationId=Object(Bt.a)(Wy),Ky.getSender=Object(Bt.a)($y),Ky.getCreationTime=Object(Bt.a)(qy),Ky.getPayload=e=>Object(Bt.a)(Hy)(e);const Yy={[Je]:e=>({payload:{conversationId:Ky.getConversationId(e),messageId:Ky.getPayload(e).messageId},type:Je}),[Qe]:e=>({payload:{conversationId:Ky.getConversationId(e),messageId:Ky.getPayload(e).messageId},type:Qe}),[et]:e=>({payload:{...Pt()(e.payload.externalEvent,["type","action","conversationId","payload"]),actionType:Ky.getPayload(e).externalEvent.action,externalParams:Ky.getPayload(e).externalEvent.payload,contextId:Ky.getConversationId(e)},type:et}),UI_CONTROL:e=>({type:Ky.getPayload(e).event.action,payload:Ky.getPayload(e).event.payload?JSON.parse(Ky.getPayload(e).event.payload):{}}),[tt]:e=>({payload:{conversationId:Ky.getConversationId(e),chatUserId:Ky.getPayload(e).chatUserId},type:tt}),[nt]:e=>({payload:{conversationId:Ky.getConversationId(e),sender:Ky.getSender(e),actionTime:Ky.getCreationTime(e)},type:nt}),[ot]:e=>({payload:{conversationId:Ky.getConversationId(e),sender:Ky.getSender(e),actionTime:Ky.getCreationTime(e)},type:ot}),[it]:e=>({payload:{conversationId:Ky.getConversationId(e),sender:Ky.getSender(e),closed:Ky.getPayload(e).closed,deleted:Ky.getPayload(e).deleted,caseNumber:Ky.getPayload(e).caseNumber,expireAssetUntilLastMessageId:Ky.getPayload(e).lastMessageId},type:it}),[ct]:e=>{const t=Ky.getPayload(e).audioOnly;return{payload:{videoConversationId:Ky.getPayload(e).videoConversationId,conversationId:Ky.getConversationId(e),participantInfos:Ky.getPayload(e).participantInfos,type:t?Au.a.AUDIO:Au.a.VIDEO},type:ct}},[st]:e=>({payload:{conversationId:Ky.getConversationId(e),videoConversationId:Ky.getPayload(e).videoConversationId},type:st}),[lt]:e=>({payload:{conversationId:Ky.getConversationId(e),videoCallEnabled:Ky.getPayload(e).videoEnabled,audioCallEnabled:Ky.getPayload(e).audioEnabled},type:lt}),[dt]:e=>({payload:{conversationId:Ky.getConversationId(e),videoConversationId:Ky.getPayload(e).conversation.id,conversation:Ky.getPayload(e).conversation,participant:Ky.getPayload(e).participant},type:dt}),[ut]:e=>({payload:{conversationId:Ky.getConversationId(e),videoConversationId:Ky.getPayload(e).videoConversationId},type:ut}),[pt]:e=>({payload:{conversationId:Ky.getConversationId(e),videoConversationId:Ky.getPayload(e).videoConversationId},type:pt}),[bt]:e=>({payload:{status:Ky.getPayload(e).status},type:bt}),[ft]:e=>({payload:{conversationId:Ky.getConversationId(e),unassignedFrom:Ky.getPayload(e).unassignedFrom,assignedTo:Ky.getPayload(e).assignedTo,newAssigneeType:Ky.getPayload(e).newAssigneeType,oldAssigneeType:Ky.getPayload(e).oldAssigneeType,assignmentTime:Ky.getPayload(e).assignmentTime},type:ft}),[ht]:e=>{const{action:t}=Ky.getPayload(e);return{payload:{params:t.params,conversationId:Ky.getConversationId(e),type:t.actionType},type:ht}},[gt]:e=>{const{action:t}=Ky.getPayload(e);return{payload:{},type:gt}}};function Xy(e){try{const t=Ky.getMessageType(e),n=Yy[t];if(n)return n(e)}catch(t){Object(xt.b)(t)}}const Zy=(()=>{const e=new Set;return{add:t=>e.add(t),clear:()=>e.clear(),has:t=>e.has(t)}})(),Jy=(()=>{let e=0,t=!0;return{getLastActiveTimeDifference:()=>t?0:Date.now()-e,setAppActive:n=>{t=n,n||(e=Date.now())}}})(),Qy=(e,t)=>function(e,t){let n;function o(){n&&n.stop()}try{n=Gy(e,t),n.start(15e3)}catch{o()}return o}(((t,n,o)=>{let{isFirstCall:a}=o;if(e(Object(Rn.g)(!t)),t)return;const r=n.filter((e=>!Zy.has(e.id))).map(Xy).filter((e=>!!e)).filter((e=>!a||!(e=>e.type===dt||e.type===ct)(e)));e(r),Zy.clear()}),{...t,getLastActiveTimeDifference:Jy.getLastActiveTimeDifference});function eO(){return Es((e=>{const t=(e=>Py((t=>{const n=Xy(t);n&&(Zy.add(t.id),e(n))})))(e);return()=>{t()}}))}function tO(){return Es((e=>{const t=Qy(e);return()=>{t()}}))}function nO(){return Es((e=>{const t=Qy(e,{enableBackOff:!0});let n;return n=window.setTimeout((()=>{t()}),432e5),()=>{n&&window.clearTimeout(n),t()}}))}const oO=e=>e.type===gl.f,aO=e=>!oO(e);function*rO(e){try{yield Kc(e.filter(oO).map((e=>qc(e))))}catch(t){Object(xt.b)(t)}}function*iO(e){try{let t=e.filter(aO);if((()=>{var e;return"CONVERSATION"===(null===(e=window.sprChatSettings)||void 0===e?void 0:e.scope)})()){const{isConversationPath:e,conversationId:n}=yield ts(eh.e);t=t.filter((t=>((e,t,n)=>{const o=s()(e.payload,"contextId")||s()(e.payload,"conversationId");return!!t&&(!o||!n||n.startsWith(qo.e)||o===n)})(t,e,n)))}d()(t)||(yield qc({type:gl.l,payload:{events:t}}),yield qc(Object(Rn.e)()))}catch(t){Object(xt.b)(t)}}function*cO(e){try{const t=nl()(e);yield Kc([Zc(rO,t),Zc(iO,t)])}catch(t){Object(xt.b)(t)}}function*sO(){try{let t,n;try{t=yield Zc(nO),n=yield Qs(t,cO),yield Hc(gl.a)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield es(n))}}catch(t){Object(xt.b)(t)}}function*lO(){try{for(;;){yield Hc(gl.b);const[e,t]=yield Yc([Hc(gl.a),os(18e5)]);if(t)break}}catch(e){Object(xt.b)(e)}}function*dO(){try{let t,n;try{t=yield Zc(tO),n=yield Qs(t,cO),yield Zc(lO)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield es(n))}}catch(t){Object(xt.b)(t)}}function*uO(){try{for(;;){yield Hc(gl.b);const[e,t]=yield Yc([Hc(gl.a),os(108e5)]);if(t)break}}catch(e){Object(xt.b)(e)}}function*pO(){try{let t,n;for(;;)try{yield Yc([Hc(gl.j),Hc(gl.a)]),t=yield Zc(eO),n=yield Qs(t,cO),yield Zc(uO)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield es(n))}}catch(t){Object(xt.b)(t)}}function*bO(){try{for(yield Yc([Hc(gl.i),Hc(gl.a)]);;)yield Zc(dO),yield Zc(sO)}catch(e){Object(xt.b)(e)}}function*fO(){try{for(;;){const[e,t]=yield Yc([Hc(gl.a),Hc(gl.b)]);Jy.setAppActive(!!e)}}catch(e){Object(xt.b)(e)}}function*hO(){try{yield Kc([Jc(pO),Jc(bO),Jc(fO)])}catch(e){Object(xt.b)(e)}}var gO=async e=>{let t;try{h.a.reset(),A(C),t=await sn(Object(u.a)()),on({handshakeDetails:t}),fn(t.chatUser),e.hasPrompts&&n.e(46).then(n.bind(null,1854)).then((n=>{let{default:o}=n;o(e,t)})),TO(null,{applicationConfig:e,handshakeDetails:t,chatSettings:Object(u.a)(),subscribeToEvent:ln})}catch(o){const n=Ut.a.getUserSettings(Object(u.a)());Object(un.e)(o)&&n&&$t.getOneTimeToken(n)?TO(o,{applicationConfig:e,handshakeDetails:t,chatSettings:Object(u.a)(),subscribeToEvent:ln}):await dn()}};function*yO(){try{const{payload:{applicationConfig:t}}=yield Hc(Kn.a);for(;;)try{yield Hc(Kn.b),yield gO(t)}catch(e){Object(xt.b)(e)}}catch(e){Object(xt.b)(e)}}function*OO(){try{yield Kc([Jc(mh),Jc(yy),Jc(yg),Jc(jg),Jc(Gg),Jc(oy),Jc(ry),Jc(Wg),Jc(Qg),Jc(ty),Jc(sy),Jc(xh),Jc(Iy),Jc(Ty),Jc(Ry),Jc(hO)])}catch(e){Object(xt.b)(e)}}function*mO(){try{yield Hc(Kn.c),A(_)}catch(e){Object(xt.b)(e)}}function*vO(){try{yield Kc([Jc(yO),Jc(fy),Jc(mO)])}catch(e){Object(xt.b)(e)}}function*jO(){try{yield Jc(vO);const e=yield Jc(OO);yield Hc(Kn.c),yield es(e)}catch(e){Object(xt.b)(e)}}function*IO(){yield Kc([Jc(Qf),Jc(jO)])}const EO=(e,t,n)=>(new $s).setReducer(Gn.a).setSaga(IO).setHTTPClient(Ve.a).setApplicationConfig(e).setHandshakeDetails(t).setChatSettings(n).build();function CO(e){let{applicationConfig:t,store:n,history:o}=e;const a=Object(u.b)().document,r=Object(p.K)()?p.a:p.b;On.a.render(Object(wn.jsx)(Pi,{applicationConfig:t,history:o,store:n}),r(a,"spr-live-chat-app"))}function SO(e,t){let{applicationConfig:n,handshakeDetails:o,chatSettings:a,subscribeToEvent:r}=t;const i=EO(n,o,a),c=Object(ve.b)({isUnauthorized:!!e});Dy(o,n);r((t=>{e||i.dispatch(t)})),CO({applicationConfig:n,store:i,history:c})}function TO(e,t){let{applicationConfig:n,handshakeDetails:o,chatSettings:a,subscribeToEvent:r}=t;const i=EO(n,o,a),c=Object(ve.b)({isUnauthorized:!!e,reset:!0});Dy(o,n);r((t=>{e||i.dispatch(t)})),CO({applicationConfig:n,store:i,history:c}),c.go(c.entries.length-1)}async function _O(){let e,t,o;try{if(e=Object(u.a)(),d()(e))throw new Error;await an(e),on({getSessionToken:()=>Object(Kt.a)(e.appId)});const[a,r]=await(async e=>{const[t,n]=await Promise.allSettled([cn(e),sn(e)]),o=t.value;if(Object(p.L)()||!Qt(o))return[t,n];try{await en({ssoId:qt.a.getAutoLoginSSOId(Ht.a.getCustomizationConfig(o))})}catch(a){Object(xt.b)(a)}return[t,{value:await sn(e)}]})(e);if(t=a.value,o=r.value,"rejected"===r.status)throw r.reason;if("rejected"===a.status)throw new Error;((e,t)=>{const{appId:n}=Object(u.a)(),{chatUser:o}=e;!s()(t,"otherConfigs.settings.disableSentry")&&Object(xt.a)()})(o,t),(e=>{const t=!qt.a.isDebugModeDisabled(e.otherConfigs);window.sprDebugLog=function(){t&&console.debug(...arguments)}})(t),on({applicationConfig:t,handshakeDetails:o}),t.hasPrompts&&n.e(46).then(n.bind(null,1854)).then((e=>{let{default:n}=e;n(t,o)})),SO(null,{applicationConfig:t,handshakeDetails:o,chatSettings:e,subscribeToEvent:ln})}catch(a){const n=Ut.a.getUserSettings(e);Object(un.e)(a)&&n&&$t.getOneTimeToken(n)?SO(a,{applicationConfig:t,handshakeDetails:o,chatSettings:e,subscribeToEvent:ln}):await dn()}}const xO=()=>{!function(){async function e(){Dt(...arguments)}const t=Object(u.e)();e.q=t?t.q:[],e.loaded=!0,Object(u.b)().sprChat=e}();const e=Object(p.w)();n(1020)(`./${e.toLowerCase()}/pages`);const t=Object(u.e)();f(...t.q),_O();const{meetingId:o,user:r,otp:c}=Object(u.a)(),l=s()(r,"oneTimeToken");d()(o)&&d()(l)&&d()(c)||t("open");const{autoTrigger:b}=Object(u.a)();let h;h=!0===b?0:a()(b)?1e3*Math.max(b,0):null,i()(h)||setTimeout((()=>{t("openNewConversation")}),h)}},1879:function(e,t,n){"use strict";var o=n(10),a=n(138),r=n(58),i=n(81),c=Number.isInteger||function(e){return e<<0===e},s=n(192),l=n(1394),d=Object(a.a)((function e(t,n,o){if(0===t.length)return n;var a=t[0];if(t.length>1){var d=!Object(l.a)(o)&&Object(r.a)(a,o)?o[a]:c(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,d)}if(c(a)&&Object(i.a)(o)){var u=[].concat(o);return u[a]=n,u}return Object(s.a)(a,n,o)})),u=n(194),p=n(191),b=Object(o.a)((function(e){return Object(u.a)(Object(p.a)(e),d(e))}));t.a=b},394:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var o=n(386),a=n(574),r=n(804),i=n(12),c=n(575);function s(e){return Object(i.I)()||Object(r.b)(e)&&!Object(c.a)()}t.a=function(){const e=Object(a.a)();return Object(o.useMemo)((()=>s(e)),[e])}},396:function(e,t,n){"use strict";n.d(t,"b",(function(){return o.a})),n.d(t,"a",(function(){return a}));var o=n(720);const a={OPEN_LINK:"openLink",AUDIO:"audio",ATTACHMENT:"attachment",BOT_USER:"botUser",CAMERA:"camera",CHAT_USER:"chatUser",CHEVRON:"chevron",CLOSE:"close",CLOSE_CIRCLE:"closeCircle",CLOSE_CONVERSATION:"closeConversation",DELETE:"delete",DOCUMENT:"document",UNKNOWN_DOC:"unknownDoc",DOWNLOAD:"download",EMOJI:"emoji",ERROR:"error",EXCEL:"excel",IMAGE_PLACEHOLDER:"imagePlaceholder",INTERNET_DISCONNECTED:"internetDisconnected",MORE:"more",PDF:"pdf",PLAY:"play",PAUSE:"pause",PRESENTATION:"presentation",SEND:"send",SOUND_OFF:"soundOff",SOUND_ON:"soundOn",VIDEO:"video",VIDEO_ON:"videoOn",VIDEO_OFF:"videoOff",AUDIO_ON:"audioOn",AUDIO_OFF:"audioOff",END_CALL:"endCall",FULL_SCREEN:"fullScreen",EXIT_FULL_SCREEN:"exitFullScreen",ONENOTE:"onenote",LINE_LIST:"lineList",TEXT:"text",TIMER:"timer",MINIMIZE:"minimize",MAXIMIZE:"maximize"}},400:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(386),a=n(482),r=n(391);const i=e=>{const t=Object(r.c)();return Object(o.useMemo)((()=>Object(a.b)(e,t)),[e,t])}},401:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(386),a=n(593);function r(){return Object(o.useContext)(a.b).otherConfigs}},402:function(e,t,n){"use strict";var o=n(386),a=n(578);t.a=function(){return Object(o.useContext)(a.c)}},407:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return f}));var o=n(677),a=n.n(o),r=n(457);function i(e){return{type:e?r.b:r.d,payload:{}}}function c(){return{type:r.j,payload:{}}}const s=a()(i,!0);a()(i,!1);function l(){return{type:r.g,payload:{}}}function d(e){return{type:r.l,payload:e}}function u(e,t,n){return{type:r.q,payload:{userPreferenceKey:e,newValue:t,oldValue:n}}}function p(e,t){return{type:r.r,payload:{userPreferenceKey:e,value:t}}}const b=e=>({type:r.k,payload:{localeData:e}}),f=e=>{let{value:t}=e;return{type:r.o,payload:{value:t}}}},412:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n(7),a=n(6);const r=Object(o.a)("field"),i=Object(o.a)("values"),c=Object(o.a)("filterType"),s=Object(o.a)("filters"),l=Object(o.a)("details"),d=Object(o.a)("id");class u{}u.getField=Object(a.a)(r),u.getValues=Object(a.a)(i),u.getFilterType=Object(a.a)(c),u.getFilters=Object(a.a)(s),u.getDetails=Object(a.a)(l),u.getId=Object(a.a)(d)},419:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(386),a=n(593);function r(){return Object(o.useContext)(a.b)}},421:function(e,t,n){"use strict";var o=n(386),a=n(438),r=n.n(a),i=n(23),c=n.n(i),s=n(198),l=n.n(s),d=n(402),u=n(835);t.a=()=>{const{locale:e,language:t}=Object(d.a)();return Object(o.useCallback)(((n,o)=>{const a=l()(n,"langVsTranslatedFieldValues");if(!c()(a))return l()(n,o);let i=l()(a,e)||l()(a,t);return i||(i=r()(a,((e,n)=>Object(u.b)(n)===t))),l()(i,o)||l()(n,o)}),[e])}},422:function(e,t,n){"use strict";var o=n(386),a=n(1281);t.a=function(){return Object(o.useContext)(a.a)}},423:function(e,t,n){"use strict";var o=n(390);t.a=Object(o.g)({goBack:{id:"goBack",defaultMessage:"Go back"},liveChatBox:{id:"liveChatBox",defaultMessage:"Live chat box"},liveChatNotification:{id:"liveChatNotification",defaultMessage:"Live chat notification"},closeChat:{id:"closeChat",defaultMessage:"Close chat"},liveChat:{id:"liveChat",defaultMessage:"Live chat"},conversationClosed:{id:"conversationClosed",defaultMessage:"Conversation closed"},submit:{id:"submit",defaultMessage:"Submit"},textArea:{id:"textArea",defaultMessage:"Send your message here"},attachment:{id:"attachment",defaultMessage:"Attachment"},moreActions:{id:"moreActions",defaultMessage:"More actions"},sendingMessage:{id:"sendingMessage",defaultMessage:"Sending message"},sentMessage:{id:"sentMessage",defaultMessage:"Sent message"},receivedMessage:{id:"receivedMessage",defaultMessage:"Received message"},unreadMessages:{id:"unreadMessages",defaultMessage:"{count} Unread messages"},unreadMessage:{id:"unreadMessage",defaultMessage:"{count} Unread message"},newNotifications:{id:"newNotifications",defaultMessage:"New notifications"},newNotification:{id:"newNotification",defaultMessage:"New notification"},agentImage:{id:"agentImage",defaultMessage:"Agent Image"},brandImage:{id:"brandImage",defaultMessage:"Brand Image"},homeScreen:{id:"homeScreen",defaultMessage:"Live chat home screen"},newConversationCard:{id:"newConversationCard",defaultMessage:"New conversation"},existingConversationCard:{id:"existingConversationCard",defaultMessage:"Existing conversations"},conversationScreen:{id:"conversationScreen",defaultMessage:"Conversation Screen"},conversationListScreen:{id:"conversationListScreen",defaultMessage:"Conversation List Screen"},persistentMenu:{id:"persistentMenu",defaultMessage:"Menu"},brandLogo:{id:"brandLogo",defaultMessage:"Logo of {name}"}})},431:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"s",(function(){return b})),n.d(t,"p",(function(){return f})),n.d(t,"A",(function(){return h})),n.d(t,"z",(function(){return g})),n.d(t,"v",(function(){return y})),n.d(t,"t",(function(){return O})),n.d(t,"u",(function(){return m})),n.d(t,"w",(function(){return v})),n.d(t,"x",(function(){return j})),n.d(t,"o",(function(){return I})),n.d(t,"l",(function(){return E})),n.d(t,"n",(function(){return C})),n.d(t,"D",(function(){return S})),n.d(t,"B",(function(){return T})),n.d(t,"C",(function(){return _})),n.d(t,"E",(function(){return x})),n.d(t,"y",(function(){return A})),n.d(t,"k",(function(){return R})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return N})),n.d(t,"q",(function(){return L})),n.d(t,"c",(function(){return D})),n.d(t,"r",(function(){return M})),n.d(t,"m",(function(){return P})),n.d(t,"j",(function(){return k}));var o=n(430),a=n(555),r=n(673),i=n(413);const c=function(){let{shouldFetchNumberOfOpenConversation:e=!1,size:t,cursor:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:{shouldFetchNumberOfOpenConversation:e,size:t,cursor:n},type:o.f}},s=(e,t)=>{let{cursor:n,size:a}=t;return t=>({payload:{conversationId:e,cursor:n,size:a},type:o.l,promise:t})},l=(e,t,n)=>a=>({payload:{conversationId:e,query:t,faqAttachment:n},type:o.A,promise:a}),d=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:o.i,promise:e})},u=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:o.h,promise:e})},p=e=>({type:o.j,payload:e}),b=e=>t=>({payload:{conversationId:e},type:o.o,promise:t}),f=e=>({type:o.H,payload:{chatMessage:e,conversationId:i.a.getConversationId(e)}}),h=e=>{let{text:t,conversationId:n,sender:a,disableManualResponse:r,inReplyToChatMessageId:i}=e;return{type:o.Z,payload:{text:t,conversationId:n,sender:a,disableManualResponse:r,inReplyToChatMessageId:i}}},g=e=>{let{postback:t,conversationId:n,sender:a,inReplyToChatMessageId:r}=e;return e=>({type:o.Y,payload:{postback:t,conversationId:n,sender:a,inReplyToChatMessageId:r},promise:e})},y=e=>({type:o.z,payload:e}),O=e=>{let{action:t,conversationId:n}=e;const o=Object(r.a)(t.actionId,t.attachment);return y({type:a.a,payload:{contextId:n,actionId:o.params,actionPayload:t.values}})},m=e=>{let{action:t,conversationId:n}=e;const o=Object(r.a)(t.actionId,t.attachment);return y({type:a.b,payload:{contextId:n,actionId:o.params,actionPayload:t.values}})},v=e=>{let{id:t,conversationId:n,messageId:o}=e;return y({type:a.e,payload:{id:t,contextId:n,sprMsgId:o}})},j=e=>{let{id:t,conversationId:n,messageId:o}=e;return y({type:a.g,payload:{id:t,contextId:n,sprMsgId:o}})},I=e=>{let{attachment:t,actionId:n}=e;return e=>{const a=Object(r.a)(n,t);return{type:o.Q,payload:{url:a.url,target:a.target},promise:e}}},E=e=>{let{attachment:t,actionId:n}=e;return e=>{const a=Object(r.a)(n,t);return{type:o.p,payload:{phoneNumber:a.phoneNumber},promise:e}}},C=e=>{let{surveyUrl:t,shouldReplace:n,conversationId:a}=e;return{type:o.U,payload:{surveyUrl:t,shouldReplace:n,conversationId:a}}},S=()=>({type:o.W,payload:{}}),T=()=>({type:o.T,payload:{}}),_=()=>({type:o.X,payload:{}}),x=e=>{let{actionParams:t,conversationId:n,sender:a,appContext:i,inReplyToChatMessageId:c}=e;return e=>({type:o.c,payload:{actionParams:Object.assign(Object.assign({},t),{actionTypes:Object(r.b)(t)}),conversationId:n,sender:a,appContext:i,inReplyToChatMessageId:c},promise:e})},A=e=>{let{postback:t,conversationId:n,sender:a,inReplyToChatMessageId:r}=e;return{type:o.R,payload:{postback:t,conversationId:n,sender:a,inReplyToChatMessageId:r}}},R=(e,t)=>n=>({type:o.K,payload:{conversationId:e,appContext:t},promise:n}),w=e=>({type:o.v,payload:{conversationId:e}}),N=(e,t,n)=>({type:o.s,payload:{conversationId:t,caseId:e,context:n}}),L=(e,t)=>({type:o.D,payload:{chatMessage:e,conversationId:i.a.getConversationId(e),alternateUserIds:t}}),D=(e,t)=>n=>({type:o.q,payload:{conversationId:e,disclaimerStatus:t},promise:n}),M=(e,t)=>({type:o.E,payload:{chatMessageId:t,conversationId:e}});function P(e,t){return{type:o.O,payload:{conversationId:e,lastReadMessageId:t}}}function k(){return{type:o.B,payload:{}}}},439:function(e,t,n){"use strict";n.d(t,"l",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return b})),n.d(t,"m",(function(){return f})),n.d(t,"i",(function(){return h}));const o="unreadCountChanged",a="externalEventTriggered",r="loaded",i="loadCompleted",c="closed",s="availabilityChanged",l="promptActionTriggered",d="mediaShown",u="mediaClosed",p="eventTriggered",b="registerDeviceTriggered",f="unregisterDeviceTriggered",h="onPermissionSeeked"},440:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={CONVERSATION_WINDOW_OPENED:{id:"CONVERSATION_WINDOW_OPENED",label:"Conversation window opened"},CONVERSATION_WINDOW_OPENED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_OPENED_FROM_JS_SDK",label:"Conversation window opened from JS SDK"},CONVERSATION_WINDOW_CLOSED:{id:"CONVERSATION_WINDOW_CLOSED",label:"Conversation window closed"},CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK",label:"Conversation window closed from JS SDK"},CONVERSATION_EXPORTED:{id:"CONVERSATION_EXPORTED",label:"Conversation exported"},CONVERSATION_DELETED:{id:"CONVERSATION_DELETED",label:"Conversation deleted"},CONVERSATION_CLOSED:{id:"CONVERSATION_CLOSED",label:"Conversation closed"},CONVERSATIONS_DELETED:{id:"CONVERSATIONS_DELETED",label:"Conversations deleted"},CONVERSATIONS_CLOSED:{id:"CONVERSATIONS_CLOSED",label:"Conversations closed"},NEW_CONVERSATION_CREATED:{id:"NEW_CONVERSATION_CREATED",label:"New conversation created"},NEW_CONVERSATION_STARTED:{id:"NEW_CONVERSATION_STARTED",label:"New conversation started"},NEW_CONVERSATION_STARTED_FROM_JS_SDK:{id:"NEW_CONVERSATION_STARTED_FROM_JS_SDK",label:"New conversation started from JS SDK"},EXISTING_CONVERSATION_OPENED:{id:"EXISTING_CONVERSATION_OPENED",label:"Existing conversation opened"},TRIGGER_VISIBLE:{id:"TRIGGER_VISIBLE",label:"Trigger visible"},BUTTON_CLICKED:{id:"BUTTON_CLICKED",label:"Button clicked"},AGENT_ASSIGNED:{id:"AGENT_ASSIGNED",label:"Assignment changed"},VIDEO_CALL_OUTGOING_STARTING:{id:"VIDEO_CALL_OUTGOING_STARTING",label:"Video call outgoing starting"},AUDIO_CALL_OUTGOING_STARTING:{id:"AUDIO_CALL_OUTGOING_STARTING",label:"Audio call outgoing starting"},VIDEO_CALL_CARD_CTA_CLICKED:{id:"VIDEO_CALL_CARD_CTA_CLICKED",label:"CTA clicked from video call card"},AUDIO_CALL_CARD_CTA_CLICKED:{id:"AUDIO_CALL_CARD_CTA_CLICKED",label:"CTA clicked from audio call card"},VIDEO_CALL_LAUNCH_CLICKED:{id:"VIDEO_CALL_LAUNCH_CLICKED",label:"Video call launch clicked"},AUDIO_CALL_LAUNCH_CLICKED:{id:"AUDIO_CALL_LAUNCH_CLICKED",label:"Audio call launch clicked"},VIDEO_CALL_LAUNCHED:{id:"VIDEO_CALL_LAUNCHED",label:"Video call launched"},AUDIO_CALL_LAUNCHED:{id:"AUDIO_CALL_LAUNCHED",label:"Audio call launched"},CONVERSATION_BACK_PRESSED:{id:"CONVERSATION_BACK_PRESSED",label:"Conversation back pressed"},CONVERSATION_LIST_BACK_PRESSED:{id:"CONVERSATION_LIST_BACK_PRESSED",label:"Conversation list back pressed"},SURVEY_BACK_PRESSED:{id:"SURVEY_BACK_PRESSED",label:"Survey back pressed"},VIDEO_CALL_JOIN_CTA_CLICKED:{id:"VIDEO_CALL_JOIN_CTA_CLICKED",label:"Video call join CTA clicked"},VIDEO_CALL_JOIN_BACK_CTA_CLICKED:{id:"VIDEO_CALL_JOIN_BACK_CTA_CLICKED",label:"Video call join back CTA clicked"},AUDIO_CALL_JOIN_CTA_CLICKED:{id:"AUDIO_CALL_JOIN_CTA_CLICKED",label:"Audio call join CTA clicked"},AUDIO_CALL_JOIN_BACK_CTA_CLICKED:{id:"AUDIO_CALL_JOIN_BACK_CTA_CLICKED",label:"Audio call join back CTA clicked"},VIDEO_CALL_END_CLICKED:{id:"VIDEO_CALL_END_CLICKED",label:"Video call end clicked"},AUDIO_CALL_END_CLICKED:{id:"AUDIO_CALL_END_CLICKED",label:"Audio call end clicked"},INFO_CARD_OPENED:{id:"INFO_CARD_OPENED",label:"Info card opened"},INFO_CARD_CLOSED:{id:"INFO_CARD_CLOSED",label:"Info card closed"},USER_PROFILE_UPDATED:{id:"USER_PROFILE_UPDATED",label:"User Profile Updated"},WIDGET_MAXIMIZED:{id:"WIDGET_MAXIMIZED",label:"Widget maximized"},WIDGET_MINIMIZED:{id:"WIDGET_MINIMIZED",label:"Widget minimized"},PROACTIVE_PROMPT_TRIGGERED:{id:"PROACTIVE_PROMPT_TRIGGERED",label:"Proactive prompt triggered"},PROACTIVE_PROMPT_ENGAGED:{id:"PROACTIVE_PROMPT_ENGAGED",label:"Proactive prompt engaged"},PROACTIVE_PROMPT_CLOSED:{id:"PROACTIVE_PROMPT_CLOSED",label:"Proactive prompt closed"},PAGE_OPENED:{id:"PAGE_OPENED",label:"Page opened"}}},463:function(e,t,n){"use strict";var o=n(726);const a=new(n(812).a);a.on((e=>{const{topic:t,payload:n={}}=e;t&&Object(o.a)({topic:t,payload:{response:{data:n.data,error:n.error},request:n.request}})})),t.a=function(e){a.emit(e)}},465:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(386);const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(o.useCallback)((e=>{t.forEach((t=>{t&&("function"===typeof t?t(e):t.current=e)}))}),[...t])}},468:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s}));const o=/^https?:\/\//i,a=e=>e.match(o)?e:`https://${e}`,r=e=>`tel:${e}`,i=e=>e.map((e=>`${e.key}=${e.value}`)).join("&"),c=e=>!(e.startsWith("http")||e.startsWith("https")||e.startsWith("www")),s=(e,t)=>{const n=new URL(e);return t.forEach((e=>{n.searchParams.set(e.key,e.value)})),n.toString()}},470:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"w",(function(){return c})),n.d(t,"p",(function(){return s})),n.d(t,"t",(function(){return l})),n.d(t,"u",(function(){return d})),n.d(t,"z",(function(){return u})),n.d(t,"x",(function(){return p})),n.d(t,"y",(function(){return b})),n.d(t,"s",(function(){return f})),n.d(t,"v",(function(){return h})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return m})),n.d(t,"o",(function(){return v})),n.d(t,"n",(function(){return j})),n.d(t,"d",(function(){return I})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return S})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return _})),n.d(t,"e",(function(){return x})),n.d(t,"l",(function(){return A})),n.d(t,"m",(function(){return R})),n.d(t,"k",(function(){return w}));var o=n(405),a=n(488),r=n(524);const i=(e,t)=>Object(a.k)(Object(o.b)(e),t),c=e=>Object(a.i)(Object(o.b)(e))===r.d.INITIATE_FAILED,s=e=>Object(a.i)(Object(o.b)(e))===r.d.AGENT_ASSIGNMENT_FAILED,l=e=>Object(a.A)(Object(o.b)(e)),d=e=>Object(a.B)(Object(o.b)(e)),u=e=>Object(a.g)(Object(o.b)(e)),p=e=>Object(a.i)(Object(o.b)(e))===r.d.REJOINING_FAILED_DUE_TO_CALL_END,b=e=>Object(a.i)(Object(o.b)(e))===r.d.REJOINING_FAILED_DUE_TO_OTHER_REASONS,f=e=>Object(a.z)(Object(o.b)(e)),h=e=>Object(a.p)(Object(o.b)(e)),g=e=>Object(a.x)(Object(o.b)(e)),y=e=>Object(a.y)(Object(o.b)(e)),O=(e,t)=>Object(a.c)(Object(o.b)(e),t),m=e=>Object(a.e)(Object(o.b)(e)),v=e=>Object(a.w)(Object(o.b)(e)),j=e=>Object(a.v)(Object(o.b)(e)),I=e=>Object(a.r)(Object(o.b)(e)),E=e=>Object(a.s)(Object(o.b)(e)),C=e=>Object(a.t)(Object(o.b)(e)),S=e=>Object(a.u)(Object(o.b)(e)),T=e=>Object(a.h)(Object(o.b)(e))===r.b.ACCEPT_FAILED_DUE_TO_CALL_END,_=e=>Object(a.h)(Object(o.b)(e))===r.b.ACCEPT_FAILED_DUE_TO_OTHER_REASONS,x=e=>T(e)||_(e),A=e=>Object(a.h)(Object(o.b)(e))===r.b.REJOINING_FAILED_DUE_TO_CALL_END,R=e=>Object(a.h)(Object(o.b)(e))===r.b.REJOINING_FAILED_DUE_TO_OTHER_REASONS,w=e=>Object(a.o)(Object(o.b)(e))},472:function(e,t,n){"use strict";var o=n(431);n.d(t,"a",(function(){return o.f})),n.d(t,"b",(function(){return o.g})),n.d(t,"c",(function(){return o.h})),n.d(t,"d",(function(){return o.l})),n.d(t,"e",(function(){return o.n})),n.d(t,"f",(function(){return o.o})),n.d(t,"g",(function(){return o.q})),n.d(t,"h",(function(){return o.r})),n.d(t,"i",(function(){return o.t})),n.d(t,"j",(function(){return o.u})),n.d(t,"k",(function(){return o.v})),n.d(t,"l",(function(){return o.w})),n.d(t,"m",(function(){return o.x})),n.d(t,"n",(function(){return o.y})),n.d(t,"o",(function(){return o.z})),n.d(t,"p",(function(){return o.B})),n.d(t,"q",(function(){return o.C})),n.d(t,"r",(function(){return o.D})),n.d(t,"s",(function(){return o.E}));n(841)},477:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return p}));var o=n(464),a=n(728);const r=e=>{let{ssoId:t,conversationId:n,messageId:a}=e;return e=>({type:o.d,payload:{ssoId:t,conversationId:n,messageId:a},promise:e})};function i(){return{type:o.i,payload:{}}}function c(e){return{type:o.f,payload:{status:e?a.a.CONNECTED:a.a.DISCONNECTED}}}function s(e){let{waitTime:t,reason:n}=e;return{type:o.k,payload:{waitTime:t,reason:n}}}function l(){return{type:o.n,payload:{}}}function d(e){return{type:o.h,payload:e}}function u(){return{type:o.g,payload:{}}}function p(){return{type:o.j,payload:{}}}},479:function(e,t,n){"use strict";t.a={TOTAL_TIME_SPENT:"browsingSession.timeSpentOnSite",ACTIVE_TIME_SPENT:"browsingSession.timeFocusedOnSite",HORIZONTAL_PAGE_SCROLL_DEPTH:"browsingSession.horizontalPageScrollDepth",VERTICAL_PAGE_SCROLL_DEPTH:"browsingSession.verticalPageScrollDepth",INACTIVE_TIME_SPENT:"",DEVICE_TYPE:"userInfo.deviceType",TIME_SPENT_ON_SESSION:"browsingSession.timeSpentOnSession",USER_AGENT:"userInfo.userAgent",CURRENT_URL:"browsingSession.currentURL",INTERCEPT_ENGAGED_IN_SESSION_KEY:"intercept.engaged.in.session.key",INTERCEPT_CLOSED_IN_SESSION_KEY:"intercept.closed.in.session.key",DEPENDENT_DURATION_KEY:"dependant.duration.key",PAGE_REFERRER:"browsingSession.pageReferrer",BUSINESS_HOURS:"BUSINESS_HOURS",AVAILABLE_AGENTS:"AVAILABLE_AGENTS",AGENT_OUT_OF_CAPACITY:"AGENT_OUT_OF_CAPACITY",IS_CONVERSATION_OPEN:"IS_CONVERSATION_OPEN",USER_IP_DETAILS_COUNTRY:"userIPDetails.countryLong",USER_IP_DETAILS_CITY:"userIPDetails.city",USER_IP_DETAILS_REGION:"userIPDetails.region",NUM_SNOOZE_ALLOWED:"NUM_SNOOZE_ALLOWED",PROFILE_CUSTOM_FIELD:"PROFILE_CUSTOM_FIELD"}},489:function(e,t,n){"use strict";var o=n(1024),a=n(386);t.a=function(){return Object(a.useContext)(o.a)}},490:function(e,t,n){"use strict";var o=n(386),a=n(426),r=n(446);t.a=(e,t)=>{let{onSuccess:n,onFailure:i,ignoreResults:c}=t;const s=Object(o.useRef)(0),[l,d]=Object(o.useState)(),u=a.a.getType(e),p=a.a.getUrl(e),b=Object(o.useCallback)((()=>(s.current+=1,s.current)),[]),f=Object(o.useCallback)((e=>s.current===e),[]);return[Object(o.useCallback)((async e=>{const t=b();try{const o=await r.a[u](p,e);return!c&&f(t)&&d(o.data),n&&n(o.data),o.data}catch(o){throw i&&i(o),!c&&f(t)&&d(void 0),o}}),[u,p,b,f]),{data:l}]}},507:function(e,t,n){"use strict";var o=n(1028),a=n(386);t.a=function(){return Object(a.useContext)(o.a)}},519:function(e,t,n){"use strict";n.d(t,"g",(function(){return D})),n.d(t,"c",(function(){return M})),n.d(t,"f",(function(){return P})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return U})),n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return B})),n.d(t,"h",(function(){return G}));n(82);var o,a=n(198),r=n.n(a),i=n(438),c=n.n(i),s=n(461),l=n.n(s),d=n(1438),u=n.n(d),p=n(390),b=n(396),f=n(386);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h.apply(this,arguments)}function g(e,t){let{title:n,titleId:a,...r}=e;return f.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 11.063",ref:t,"aria-labelledby":a},r),n?f.createElement("title",{id:a},n):null,o||(o=f.createElement("g",null,f.createElement("path",{d:"M6.979 4.274c-1.128 0-2.081.951-2.083 2.08A2.101 2.101 0 0 0 7 8.48a2.1 2.1 0 0 0 2.102-2.099 2.1 2.1 0 0 0-2.123-2.107z"}),f.createElement("path",{d:"M13.5 2.063h-3.052c-.02-.016-.039-.031-.057-.058C9.99 1.386 9.581.772 9.184.151 9.108.032 9.024 0 8.891 0 7.616.004 6.34.004 5.065.001c-.09 0-.143.026-.192.101-.42.635-.844 1.267-1.262 1.903a.202.202 0 0 1-.059.058H.5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5zM7.351 9.858c-2.052.198-3.653-1.335-3.832-3.115a3.501 3.501 0 0 1 3.396-3.865 3.496 3.496 0 0 1 3.582 3.372 3.494 3.494 0 0 1-3.146 3.608z"}))))}const y=f.forwardRef(g);n.p;var O=n(838),m=n(406),v=n(487),j=n(405),I=n(410),E=n(520),C=n(469),S=n(128),T=n(418),_=n(1021);const x=/^CASE_(\w+)/,A=/^CONVERSATION_(\w+)/,R=Object(p.g)({image:{id:"image",defaultMessage:"Image"},video:{id:"video",defaultMessage:"Video"},attachment:{id:"attachment",defaultMessage:"Attachment"},card:{id:"card",defaultMessage:"Card"},carousel:{id:"carousel",defaultMessage:"Carousel"},progressBar:{id:"progressBar",defaultMessage:"Progress Bar"},audio:{id:"audio",defaultMessage:"Audio"},document:{id:"document",defaultMessage:"Document"},form:{id:"form",defaultMessage:"Form"},contactDetailsForm:{id:"contactDetailsForm",defaultMessage:"Contact Details Form"},feedbackSurvey:{id:"feedbackSurvey",defaultMessage:"Feedback Survey"},secureForm:{id:"secureForm",defaultMessage:"Secure Form"},survey:{id:"survey",defaultMessage:"Survey"},cobrowseInvite:{id:"cobrowseInvite",defaultMessage:"Co-browse invite"},quickSelectCard:{id:"quickSelectCard",defaultMessage:"Quick Select Card"},disclaimerCard:{id:"disclaimerCard",defaultMessage:"Disclaimer Card"},appointment:{id:"appointment",defaultMessage:"Appointment"},faq:{id:"faq",defaultMessage:"Frequently Asked Questions"},productCard:{id:"productCard",defaultMessage:"Product Card"},productShowcaseCard:{id:"productShowcaseCard",defaultMessage:"Product Showcase Card"},productBanner:{id:"productBanner",defaultMessage:"Product Banner"},productList:{id:"productList",defaultMessage:"Product List"}}),w={[T.b.IMAGE]:R.image,[T.b.VIDEO]:R.video,[T.b.CARD]:R.card,[T.b.CAROUSEL]:R.carousel,[T.b.RICH_TEXT_CAROUSEL]:R.carousel,[T.b.PROGRESS_BAR]:R.progressBar,[T.b.AUDIO]:R.audio,[T.b.DOCUMENT]:R.document,[T.b.CONTACT_DETAILS_FORM]:R.contactDetailsForm,[T.b.FORM]:R.form,[T.b.FEEDBACK_FORM]:R.feedbackSurvey,[T.b.SECURE_FORM]:R.secureForm,[T.b.SURVEY]:R.survey,[T.b.CO_BROWSE_INVITE]:R.cobrowseInvite,[T.b.QUICK_SELECT_CARD]:R.quickSelectCard,[T.b.DISCLAIMER_CARD]:R.disclaimerCard,[T.b.APPOINTMENT]:R.appointment,[T.b.FAQ]:R.faq,[T.b.PRODUCT_CARD]:R.productCard,[T.b.PRODUCT_SHOWCASE_CARD]:R.productShowcaseCard,[T.b.PRODUCT_BANNER]:R.productBanner,[T.b.PRODUCT_LIST]:R.productList,DEFAULT:R.attachment},N={[T.b.IMAGE]:{Component:y,label:R.image,name:b.a.CAMERA},[T.b.VIDEO]:{Component:O.a,label:R.video,name:b.a.ATTACHMENT},[T.b.CARD]:{Component:O.a,label:R.card,name:b.a.ATTACHMENT},[T.b.CAROUSEL]:{Component:O.a,label:R.carousel,name:b.a.ATTACHMENT},[T.b.RICH_TEXT_CAROUSEL]:{Component:O.a,label:R.carousel,name:b.a.ATTACHMENT},[T.b.PROGRESS_BAR]:{Component:O.a,label:R.progressBar,name:b.a.ATTACHMENT},[T.b.AUDIO]:{Component:O.a,label:R.audio,name:b.a.ATTACHMENT},[T.b.DOCUMENT]:{Component:O.a,label:R.document,name:b.a.ATTACHMENT},[T.b.CONTACT_DETAILS_FORM]:{Component:O.a,label:R.contactDetailsForm,name:b.a.ATTACHMENT},[T.b.FORM]:{Component:O.a,label:R.form,name:b.a.ATTACHMENT},[T.b.FEEDBACK_FORM]:{Component:O.a,label:R.feedbackSurvey,name:b.a.ATTACHMENT},[T.b.SECURE_FORM]:{Component:O.a,label:R.secureForm,name:b.a.ATTACHMENT},[T.b.SURVEY]:{Component:O.a,label:R.survey,name:b.a.ATTACHMENT},DEFAULT:{Component:O.a,label:R.attachment,name:b.a.ATTACHMENT}},L=e=>e&&!!e.match(A),D=e=>e&&!!e.match(x),M=e=>D(e)?e.match(x)[0].split("_")[1]:void 0;function P(e,t,n){const o=Object(j.e)(e),a=Object(I.p)(Object(j.c)(e)),i=Object(v.a)(o),c=Object(v.d)(o),s=m.a.getMaximumOpenConversations(t),d=r()(s,"limit"),u=Object(I.t)(a),p=!!d&&!l()(u)&&d<=u,b=!!r()(s,"replaceNewConversationButton");let f;return i?f=c:p&&(f=b?void 0:n(s,"label")),{isLocked:i||p,lockReason:f}}const k=(e,t)=>{const n=c()(C.a.getReadStatusList(e),(e=>e.userId===t));return r()(n,"unreadCount",0)},U=e=>{const t=Object(j.c)(e),n=Object(I.p)(t),o=Object(E.b)().location.pathname,a=Object(_.a)(o,{path:"/conversation/:conversationId/:transientId?"});if(!a)return{isConversationPath:!1,conversationId:void 0};const i=r()(a,"params.conversationId"),c=r()(a,"params.transientId");if("survey"===c)return{isConversationPath:!0,conversationId:i};if("all"===i)return{isConversationPath:!1,conversationId:void 0};if("new"===i)return{isConversationPath:!0,conversationId:c||S.e};if("last"===i){return{isConversationPath:!0,conversationId:Object(I.b)(n)?Object(I.d)(Object(I.u)(t))||S.e:void 0}}return L(i)?{isConversationPath:!0,conversationId:i}:D(i)?{isConversationPath:!0,conversationId:Object(I.i)(n,M(i))}:{isConversationPath:!0,conversationId:i}},F=e=>N[e]||N.DEFAULT,B=e=>w[e]||w.DEFAULT,G=(e,t)=>-1===u()(Object(I.q)(e),t)},522:function(e,t,n){"use strict";var o=n(440);n.d(t,"a",(function(){return o.a}))},523:function(e,t,n){"use strict";var o=n(386),a=n(729);t.a=function(){return Object(o.useContext)(a.a)}},525:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var o=n(124),a=n.n(o),r=n(83),i=n.n(r),c=n(412),s=n(479);const l=(e,t)=>{const n=c.a.getField(e);if(n)return n===t;let o=!1;return a()(c.a.getFilters(e),(e=>!l(e,t)||(o=!0,!1))),o},d=e=>!!e&&!!e.match(/PROFILE\.(\w+)/),u=e=>d(e)?e.match(/PROFILE\.(\w+)/)[1]:"",p=e=>{let{currentValueMap:t,filter:n}=e;const o=c.a.getField(n);return o&&d(o)?t[s.a.PROFILE_CUSTOM_FIELD](n):i()(t[o])?t[o](n):t[o]}},526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(386),a=n(1011);t.default=function(e,t){var n=a.useFirstMountState();o.useEffect((function(){if(!n)return e()}),t)}},534:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n(393),a=n(387),r=n(386),i=n.n(r),c=n(409),s=n.n(c),l=n(471),d=n(396),u=n(388),p=n(392);const b=Object(u.a)("button",{target:"e1hw652w0"})("background-color:transparent;border-radius:4px;border:0;cursor:pointer;height:40px;position:relative;width:40px;:before{content:'';display:block;opacity:0;position:absolute;transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4,0,0.2,1);bottom:0;left:0;right:0;top:0;background:none;border-radius:4px;box-sizing:border-box;transform:scale(0);transition-property:transform,opacity;}&:hover:before,&:focus:before{border:none;opacity:1;transform:scale(1);}",p.k,"{&:hover:before,&:focus:before{opacity:0;transform:scale(0);}&:active:before{border:none;opacity:1;transform:scale(1);}}"),f={name:"1qlyuxe",styles:"position:relative;height:12px;width:12px;flex:0 0 auto;"};var h=i.a.forwardRef(((e,t)=>{const{iconName:n,iconCss:i,Icon:c,onLoad:u,onClick:p,...h}=e,{isKeyboardEventLast:g}=Object(l.a)(),y=Object(r.useCallback)((e=>{g||e.currentTarget.blur(),p&&p(e)}),[g,p]);return Object(a.jsx)(b,Object(o.a)({},h,{ref:t,className:s()("center-x-y",e.className),onClick:y}),Object(a.jsx)(d.b,{alt:c,name:n,css:Object(a.css)([f,i],""),onLoad:u,"aria-hidden":!0,focusable:!1}),e.children)}))},535:function(e,t,n){"use strict";var o=n(386),a=n(1013);var r=function(){return Object(o.useContext)(a.a)};t.a=e=>{const[t,n]=r(),a=Object(o.useCallback)((t=>{n({stateKey:e,state:t})}),[e,n]);return[t&&t.stateKey===e?t.state:null,a]}},536:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(393),a=(n(386),n(1284)),r=n(402),i=n(387);var c=e=>{const{direction:t}=Object(r.a)();return Object(i.jsx)(a.a,Object(o.a)({},e,{direction:t}),e.children)}},540:function(e,t,n){"use strict";var o=n(386),a=n(1014);t.a=function(){return Object(o.useContext)(a.b)}},542:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(386),a=n(1033);function r(){return Object(o.useContext)(a.a)}},544:function(e,t,n){"use strict";var o=n(386);const a={childList:!0,subtree:!0,attributes:!0};t.a=(e,t)=>{const[n,r]=Object(o.useState)();Object(o.useLayoutEffect)((()=>{const o=[];if(n){if(e.MutationObserver){const r=new e.MutationObserver(t);r.observe(n,a),o.push((()=>r.disconnect()))}else e.document.addEventListener("DOMSubtreeModified",t),o.push((()=>e.document.removeEventListener("DOMSubtreeModified",t)));o.push((()=>e.removeEventListener("resize",t)),(()=>e.document.removeEventListener("transitionend",t)))}return()=>{o.forEach((e=>e()))}}),[n,t]);return Object(o.useCallback)((e=>{e&&r(e)}),[])}},545:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"x",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return p})),n.d(t,"n",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"t",(function(){return g})),n.d(t,"u",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"v",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"w",(function(){return j})),n.d(t,"q",(function(){return I})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return C})),n.d(t,"o",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"j",(function(){return _}));var o=n(737);function a(e){return{type:o.e,payload:e}}function r(e){return{type:o.f,payload:e}}function i(e){return{type:o.l,payload:e}}function c(e){return{type:o.t,payload:e}}function s(e){return{type:o.g,payload:e}}function l(e){return{type:o.n,payload:e}}function d(e){return{type:o.x,payload:e}}function u(e){return{type:o.b,payload:e}}function p(e){return{type:o.c,payload:e}}function b(e){return{type:o.d,payload:e}}function f(e){return{type:o.h,payload:e}}function h(e){return{type:o.m,payload:e}}function g(e){return{type:o.k,payload:e}}function y(e){return{type:o.s,payload:e}}function O(e){return{type:o.u,payload:e}}function m(e){return{type:o.a,payload:e}}function v(e){return{type:o.o,payload:e}}function j(e){return{type:o.v,payload:e}}function I(e){return{type:o.i,payload:e}}function E(e){return{type:o.p,payload:e}}function C(e){return{type:o.q,payload:e}}function S(e){return{type:o.w,payload:e}}function T(e){return{type:o.j,payload:e}}function _(e){return{type:o.r,payload:e}}},557:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>e&&e[t];const n=t(e,"fullName"),o=t(e,"firstName"),a=t(e,"lastName");if(n)return n;const r=a?` ${a}`:"",i=o||"";return`${i}${r}`}},558:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(393),a=n(386),r=n.n(a),i=n(592),c=n(387);const s=r.a.createContext((()=>i.c)),l=e=>function(t){return Object(c.jsx)(s.Consumer,null,(n=>Object(c.jsx)(e,Object(o.a)({},t,{getUserType:n}))))};t.b=s},559:function(e,t,n){"use strict";var o=n(401),a=n(391),r=n(421),i=n(519);const c=e=>e;t.a=()=>{const e=Object(r.a)(),t=Object(o.a)(),n=Object(a.d)(c);return Object(i.f)(n,t,e)}},571:function(e,t,n){"use strict";var o=n(386),a=n(414),r=n.n(a),i=n(123),c=n.n(i),s=n(84),l=n.n(s),d=n(504),u=n.n(d),p=n(83),b=n.n(p),f=n(124),h=n.n(f),g=n(456),y=n(122);let O=[],m=!1;const v=()=>Object(g.a)().history,j=()=>{try{O.length>0&&setTimeout((()=>{try{h()(O,(e=>e()))}catch(e){Object(y.b)(e)}}),0)}catch(e){O=[],Object(y.b)(e)}},I=()=>{const e=Object(g.a)();Object(g.b)(e)&&!m&&((()=>{if(m)return;m=!0;const e=Object(g.a)(),t=v().pushState,n=v().replaceState;e.history.pushState=function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];const r=t.call(e.history,...o);return j(),r},e.history.replaceState=function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const r=n.call(e.history,...o);return j(),r}})(),e.addEventListener("popstate",j),e.addEventListener("hashchange",j))};var E=()=>Object(o.useCallback)((e=>((e=>{b()(e)&&(O.push(e),I())})(e),()=>{(e=>{b()(e)&&(O=u()(O,(t=>t!==e)))})(e)})),[]),C=n(455);t.a=()=>{const e=E(),t=Object(o.useRef)(Object(C.b)()),n=Object(o.useRef)({}),a=Object(o.useRef)(""),i=Object(o.useCallback)((()=>{a.current=t.current,t.current=Object(C.b)(),a.current!==t.current&&c()(n.current,(e=>{e({currentUrl:t.current,previousUrl:a.current})}))}),[]);return{subscribe:Object(o.useCallback)(((t,o)=>{n.current={...n.current,[t]:o};let a=null;return 1===l()(n.current).length&&(a=e(i)),()=>{n.current=r()(n.current,t),0===l()(n.current).length&&null!==a&&a()}}),[]),getValue:Object(o.useCallback)((()=>t.current),[])}}},575:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var o=n(456),a=n(12);const r=()=>Object(a.K)()&&Object(o.c)(),i=()=>Object(a.L)()&&Object(o.c)()},577:function(e,t,n){"use strict";t.a={AND:"AND",OR:"OR",LT:"LT",LTE:"LTE",GT:"GT",GTE:"GTE",EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",REGEX:"REGEX",IN:"IN",CONTAINS:"CONTAINS",NIN:"NIN",EXISTS:"EXISTS",MISSING:"MISSING"}},578:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n(393),a=(n(386),n(198)),r=n.n(a),i=n(570);n.d(t,"b",(function(){return i.b}));var c=n(523),s=n(428),l=n(406),d=n(400),u=n(407),p=n(387);const b=e=>{const t=Object(c.a)(),n=Object(d.a)(u.d),a=s.a.getDefaultLocale(e.applicationConfig),b=s.a.getSupportedLocales(e.applicationConfig),f=l.a.getExternalLocaleData(s.a.getCustomizationConfig(e.applicationConfig)),h=r()(t,"timeZone");return Object(p.jsx)(i.a,Object(o.a)({onLoadLocaleData:n,defaultLocale:a,supportedLocales:b,externalLocaleData:f,timeZone:h},e))};t.c=i.c},579:function(e,t,n){"use strict";n.d(t,"l",(function(){return b})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"m",(function(){return v})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return I})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return T})),n.d(t,"a",(function(){return _})),n.d(t,"k",(function(){return x}));var o=n(388),a=n(198),r=n.n(a),i=n(387),c=n(536),s=n(720),l=n(389),d=n(427),u=n(637);const p={PULSE:e=>{const t=Object(l.f)("trigger.borderColor")({theme:e}),n=i.keyframes`0%{box-shadow:0 0 0 0 ${Object(d.j)(t,.6)}}100%{box-shadow:0 0 0 10px ${Object(d.j)(t,0)}}`;return Object(i.css)("animation:",n," 2s ease infinite;")}},b=e=>{const{triggerAnimationInfo:t,theme:n}=e,o=r()(t,"effect"),a=p[o];return a?a(n):""},f=e=>{const t=Object(l.f)("trigger.yPadding")({theme:e});return 0===t?20:t},h=e=>0===Object(l.f)("trigger.xPadding")({theme:e})?20:Object(l.f)("trigger.xPadding")({theme:e}),g=function(){let{leftOffset:e=0,rightOffset:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=>{let{theme:o}=n;const a=Object(l.f)("trigger.align","right")({theme:o});return`${a}: ${h(o)+(a===u.f.LEFT?e:t)}px`}},y=e=>{const t=Object(l.f)("trigger.size")(e);return Math.min(Object(l.f)("trigger.borderRadius",t/2)(e),t/2)*(1-2**-.5)},O=e=>.13*Object(l.f)("trigger.overlayIconButton.button.height")(e),m=e=>f(e.theme)+Object(l.f)("trigger.size")(e)-.5*Object(l.f)("trigger.overlayIconButton.button.height")(e)-(y(e)-O(e)),v=e=>-.5*Object(l.f)("trigger.overlayIconButton.button.height")(e)+(y(e)-O(e)),j=Object(o.a)("div",{target:"e1hh16yv0"})("width:",(e=>Object(l.f)("trigger.overlayIconButton.button.width")(e)),"px;height:",(e=>Object(l.f)("trigger.overlayIconButton.button.height")(e)),"px;border-radius:",(e=>Object(l.a)("trigger.overlayIconButton.borderRadius",Object(l.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";background-color:",Object(l.f)("trigger.removeIcon.backgroundColor"),";bottom:",(e=>m(e)),"px;",(e=>g({leftOffset:v(e),rightOffset:v(e)})(e)),";position:fixed;z-index:",(e=>Object(l.f)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(l.f)("frame.translateZ")(e)),"px);cursor:pointer;display:flex;align-items:center;justify-content:center;visibility:hidden;"),I=Object(o.a)("div",{target:"e1hh16yv1"})({name:"l1tuuh",styles:"width:100%;height:100%;display:flex;align-items:center;justify-content:center;"}),E=Object(o.a)(s.a,{target:"e1hh16yv2"})("width:",(e=>Object(l.f)("trigger.overlayIconButton.icon.width")(e)),"px;height:",(e=>Object(l.f)("trigger.overlayIconButton.icon.height")(e)),"px;fill:",Object(l.f)("trigger.removeIcon.fill"),";"),C=`\n  ${j} {\n    visibility: visible;\n  }\n  & ~ .notification-container {\n    visibility: hidden;\n  }\n`,S=Object(o.a)("div",{target:"e1hh16yv3"})((e=>e.enableTriggerHideIcon&&`\n    &:hover {\n      ${e.applyRemoveIconStyles&&C};\n    }\n  `),";"),T=Object(o.a)("div",{target:"e1hh16yv4"})("background:transparent;overflow:hidden;box-shadow:",Object(l.f)("trigger.boxShadow"),";border-radius:",(e=>Object(l.a)("trigger.borderRadius",Object(l.f)("trigger.size")(e)/2+"px}")(e)),";bottom:",(e=>f(e.theme)),"px;height:",Object(l.f)("trigger.size"),"px;position:fixed;",g(),";transition:",(e=>{let{enableTriggerWidthTransition:t}=e;return t?"width 0.08s":"none"}),";visibility:",(e=>{let{showTrigger:t}=e;return t?"visible":"hidden"}),";width:",(e=>{let{showLabel:t,labelWidth:n,showTrigger:o,theme:a}=e;return t?o?`${n+26+8+48}px`:"100%":`${Object(l.f)("trigger.size")({theme:a})}px`}),";z-index:",(e=>Object(l.f)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(l.f)("frame.translateZ")(e)),"px);"),_=Object(o.a)(c.a,{target:"e1hh16yv5"})("border-radius:",(e=>Object(l.a)("trigger.borderRadius",Object(l.f)("trigger.size")(e)/2+"px}")(e)),";border:0 none;height:100%;width:100%;"),x=(e,t)=>{const n=!((Object(l.f)("trigger.backgroundUrls")({theme:e})||Object(l.f)("trigger.icon.url")({theme:e}))&&t.isMinimized);return Object(i.css)("body{",n&&`background-color: ${Object(l.f)("trigger.backgroundColor")({theme:e})}`,";}")}},580:function(e,t,n){"use strict";var o=n(386),a=n.n(o),r=n(740),i=n.n(r),c=n(461),s=n.n(c),l=n(745),d=n(387);const u=e=>{let{shouldPlay:t,unreadCount:n,children:r}=e;const{play:c}=Object(l.b)(),u=i()(n);return Object(o.useEffect)((()=>{s()(u)||c&&t&&n>u&&c(l.a.MESSAGE)}),[n,c,u,t]),Object(d.jsx)(a.a.Fragment,null,r)};t.a=a.a.memo(u)},593:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(393),a=n(386),r=n.n(a),i=n(387);const c=r.a.createContext(void 0),s=e=>function(t){return Object(i.jsx)(c.Consumer,null,(n=>Object(i.jsx)(e,Object(o.a)({},t,{customization:n.otherConfigs}))))};t.b=c},597:function(e,t,n){var o=n(1417),a=n(137),r=n(1418);e.exports=function(e){return a(e)?r(e):o(e)}},624:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n(386),a=n(1799),r=n(403),i=n(198),c=n.n(i),s=n(635);var l=e=>{if(!e.search.includes("preview=1"))return null;const t=c()(e.state,"sprPreview.type");switch(t){case s.a.DIALOGUE:return{type:t,message:c()(e.state,"sprPreview.message"),title:c()(e.state,"sprPreview.title"),cancelLabel:c()(e.state,"sprPreview.cancelLabel"),confirmationLabel:c()(e.state,"sprPreview.confirmationLabel"),onConfirm:c()(e.state,"sprPreview.onConfirm"),onCancel:c()(e.state,"sprPreview.onCancel")};case s.a.IMAGE:case s.a.VIDEO:return{type:t,url:c()(e.state,"sprPreview.url"),downloadParams:c()(e.state,"sprPreview.downloadParams")};default:return null}},d=n(387);const u=Object(r.a)((()=>Promise.all([n.e(0),n.e(25)]).then(n.bind(null,1860))));t.b=Object(a.a)((e=>{let{location:t}=e;const n=Object(o.useMemo)((()=>l(t)),[t.search,t.state]);return n?Object(d.jsx)(o.Suspense,{fallback:null},Object(d.jsx)(u,{previewItem:n})):null}))},634:function(e,t,n){"use strict";var o=c(n(1421)),a=c(n(1426)),r=c(n(1018)),i=c(n(1015));function c(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:r.default,ReplaceTransition:a.default,CSSTransition:o.default}},635:function(e,t,n){"use strict";t.a={IMAGE:"IMAGE",VIDEO:"VIDEO",DIALOGUE:"DIALOGUE"}},637:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return d}));var o=n(748);const a={[o.a.CROSS]:{height:14,width:14},[o.a.CHEVRON]:{height:18,width:18}},r="280px",i={HORIZONTAL:"horizontal",VERTICAL:"vertical"},c={TOP:"top",BOTTOM:"bottom",TEXT_TOP:"text-top"},s={FIXED:"fixed",VARIABLE:"variable"},l={TRIGGER_LEFT_BOX_LEFT:"TL_BL",TRIGGER_LEFT_BOX_RIGHT:"TL_BR",TRIGGER_RIGHT_BOX_LEFT:"TR_BL",TRIGGER_RIGHT_BOX_RIGHT:"TR_BR"},d={LEFT:"left",RIGHT:"right"}},639:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c}));const o=["video/mp4","video/quicktime"],a=["audio/mp3","audio/x-mp3","audio/mpeg","audio/x-mpeg","audio/mpeg3","audio/x-mpeg-3"],r=[...a,"audio/wav","audio/x-wav","audio/wave","audio/x-wave","audio/vnd.wave"],i=["image/jpeg","image/png","image/gif"],c=["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/onenote","application/json"]},660:function(e,t,n){"use strict";var o=n(386),a=n(416),r=n.n(a),i=n(1008),c=n(571),s=n(412);var l=()=>{const{subscribe:e,getValue:t}=Object(c.a)();return{subscribe:Object(o.useCallback)(((t,n)=>{const o=s.a.getId(t);return e(o,n)}),[e]),getValue:t}},d=n(414),u=n.n(d),p=n(433),b=n.n(p),f=n(198),h=n.n(f),g=n(476),y=n.n(g),O=n(124),m=n.n(O),v=n(526),j=n.n(v),I=(n(393),n(1010));n(387);var E=function(){return Object(o.useContext)(I.b)},C=n(411);const S=(e,t)=>(y()(h()(e,t))||C.a).startTime||0,T=e=>{let{startTime:t,expectedElapsedTime:n,onTimeout:o}=e;const a=n-(t?Date.now()-t:0);let r;return a>0&&(r=window.setTimeout((()=>{o()}),a)),r};var _=()=>{const{pagesMetaData:e,currentPageUrl:t}=E(),n=Object(o.useRef)(S(e,t));n.current=S(e,t);const a=Object(o.useRef)({}),r=Object(o.useCallback)(((e,t)=>{const o=s.a.getId(e),r=b()(s.a.getValues(e));return a.current={...a.current,[o]:{timeoutId:T({startTime:n.current,expectedElapsedTime:r,onTimeout:t}),onChangeCallback:t,filterValue:r}},()=>{clearTimeout(h()(a.current,`${o}.timeoutId`)),a.current=u()(a.current,o)}}),[]);j()((()=>{m()(a.current,(e=>{const{timeoutId:t,onChangeCallback:o,filterValue:a}=e;clearTimeout(t),o(),e.timeoutId=T({startTime:n.current,expectedElapsedTime:a,onTimeout:o})}))}),[t]);return{subscribe:r,getValue:Object(o.useCallback)((()=>n.current?Date.now()-n.current:0),[])}},x=n(391),A=n(740),R=n.n(A),w=n(123),N=n.n(w),L=n(461),D=n.n(L),M=n(410),P=n(398),k=n(400),U=n(431),F=n(477);const B=e=>Object(M.t)(Object(M.p)(Object(P.c)(e))),G={fetchOpenConversationCount:U.j,initPusherConnection:F.e};var V=()=>{const e=Object(o.useRef)(),t=Object(o.useRef)({}),{fetchOpenConversationCount:n,initPusherConnection:a}=Object(k.a)(G),r=Object(x.d)(B);e.current=r;const i=R()(r);Object(o.useEffect)((()=>{D()(e.current)&&n()}),[]),j()((()=>{N()(t.current,(e=>{e()}))}),[e.current]),j()((()=>{D()(i)&&r&&a()}),[r,i,a]);return{subscribe:Object(o.useCallback)(((e,n)=>{const o=s.a.getId(e);return t.current={...t.current,[o]:n},()=>{t.current=u()(t.current,o)}}),[]),getValue:Object(o.useCallback)((()=>e.current),[])}},z=n(539),W=n(485);var $=()=>{const e=Object(o.useRef)(0),t=Object(z.a)();e.current=W.a.getTimeToAvailability(t);const n=Object(o.useRef)({}),a=Object(o.useCallback)((()=>e.current),[]);return{subscribe:Object(o.useCallback)(((t,o)=>{const a=s.a.getId(t),r=h()(t,"details.timeToBusinessHours");let i,c=-1;return!D()(r)&&r>0?c=r:!D()(e.current)&&e.current>0&&(c=e.current),c>=0&&(i=window.setTimeout(o,c)),n.current={...n.current,[a]:i},()=>{clearTimeout(h()(n.current,`${a}.timeoutId`)),n.current=u()(n.current,a)}}),[]),getValue:a}};var H=()=>{const e=Object(o.useRef)(0),t=Object(z.a)();e.current=W.a.getNoOfAgentsAvailable(t);const n=Object(o.useRef)({});j()((()=>{N()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(o.useCallback)(((e,t)=>{const o=s.a.getId(e);return n.current={...n.current,[o]:t},()=>{n.current=u()(n.current,o)}}),[]),getValue:Object(o.useCallback)((()=>e.current),[])}};var q=()=>{const e=Object(o.useRef)(0),t=Object(z.a)();e.current=W.a.getNumberOfPendingCases(t);const n=Object(o.useRef)({});j()((()=>{N()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(o.useCallback)(((e,t)=>{const o=s.a.getId(e);return n.current={...n.current,[o]:t},()=>{n.current=u()(n.current,o)}}),[]),getValue:Object(o.useCallback)((()=>e.current),[])}},K=n(523);var Y=()=>{const{device:e}=Object(K.a)(),t=Object(o.useRef)({}),n=Object(o.useRef)(e);n.current=e,j()((()=>{N()(t.current,(e=>{e()}))}),[n.current]);const a=Object(o.useCallback)(((e,n)=>{const o=s.a.getId(e);return t.current={...t.current,[o]:n},()=>{t.current=u()(t.current,o)}}),[]);return{getValue:Object(o.useCallback)((()=>n.current),[]),subscribe:a}},X=n(479);const Z="city",J="countryLong",Q="region";var ee=()=>{const e=Object(o.useRef)(0),t=Object(z.a)();e.current=W.a.getUserIPDetails(t);const n=Object(o.useRef)({});j()((()=>{N()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(o.useCallback)(((e,t)=>{const o=s.a.getId(e);return n.current={...n.current,[o]:t},()=>{n.current=u()(n.current,o)}}),[]),getValue:Object(o.useCallback)((()=>t=>{const n=s.a.getField(t),o=e.current||C.a;switch(n){case X.a.USER_IP_DETAILS_CITY:return o[Z];case X.a.USER_IP_DETAILS_COUNTRY:return o[J];case X.a.USER_IP_DETAILS_REGION:return o[Q];default:return}}),[])}},te=n(525),ne=n(15),oe=n(12);var ae=()=>{const e=Object(ne.a)(),t=Object(o.useRef)(e.userContext),n=Object(o.useRef)({}),a=Object(o.useCallback)((e=>{t.current=e,N()(n.current,(e=>{e()}))}),[]);Object(o.useEffect)((()=>(Object(oe.O)("userContext",a),()=>{Object(oe.P)("userContext",a)})),[]);return{subscribe:Object(o.useCallback)(((e,t)=>{const o=e.id;return n.current={...n.current,[o]:t},()=>{n.current=u()(n.current,o)}}),[]),getValue:Object(o.useCallback)((()=>e=>{var n,o;const a=e.field,r=Object(te.a)(a);return null===(n=t.current)||void 0===n||null===(o=n[r])||void 0===o?void 0:o[0]}),[])}},re=n(455);var ie=()=>{const{getValue:e,subscribe:t}=l(),{getValue:n,subscribe:a}=_(),{getValue:r,subscribe:i}=V(),{getValue:c,subscribe:d}=$(),{getValue:u,subscribe:p}=H(),{getValue:b,subscribe:f}=q(),{getValue:h,subscribe:g}=Y(),{getValue:y,subscribe:O}=ee(),{getValue:m,subscribe:v}=ae();return{getValue:Object(o.useCallback)((()=>({[X.a.CURRENT_URL]:e(),[X.a.TOTAL_TIME_SPENT]:n(),[X.a.IS_CONVERSATION_OPEN]:r(),[X.a.AVAILABLE_AGENTS]:u(),[X.a.AGENT_OUT_OF_CAPACITY]:b(),[X.a.BUSINESS_HOURS]:c(),[X.a.DEVICE_TYPE]:h(),[X.a.USER_IP_DETAILS_CITY]:y(),[X.a.USER_IP_DETAILS_COUNTRY]:y(),[X.a.USER_IP_DETAILS_REGION]:y(),[X.a.USER_AGENT]:Object(re.e)(),[X.a.PROFILE_CUSTOM_FIELD]:m()})),[e,n,r,c,u,b,h,y,m]),subscribe:Object(o.useCallback)(((e,n)=>{if(Object(te.d)(s.a.getField(e)))return v(e,n);switch(s.a.getField(e)){case X.a.TOTAL_TIME_SPENT:return a(e,n);case X.a.CURRENT_URL:return t(e,n);case X.a.IS_CONVERSATION_OPEN:return i(e,n);case X.a.AVAILABLE_AGENTS:return p(e,n);case X.a.AGENT_OUT_OF_CAPACITY:return f(e,n);case X.a.BUSINESS_HOURS:return d(e,n);case X.a.DEVICE_TYPE:return g(e,n);case X.a.USER_IP_DETAILS_CITY:case X.a.USER_IP_DETAILS_COUNTRY:case X.a.USER_IP_DETAILS_REGION:return O(e,n);default:return null}}),[t,a,i,d,p,f,g,O,v])}};t.a=(e,t)=>{const{_getStaticValueMap:n=r.a}=t||C.a,{getValue:a,subscribe:c}=ie(),s=Object(o.useCallback)((()=>({...n(),...a()})),[a,n]);return Object(i.a)(e,{...t,getValue:s,subscribe:c})}},663:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return S}));var o=n(386),a=n.n(o),r=n(1027),i=n.n(r),c=n(391),s=n(1025),l=n(834),d=n(198),u=n.n(d),p=n(401),b=n(406);const f=()=>{const e=Object(p.a)();return!!u()(b.a.getUserPreferences(e),"enableSoundNotification")};var h=n(398),g=n(449);const y=e=>Object(g.e)(Object(h.b)(e));var O=n(1026),m=n(405),v=n(435),j=n(387);const I={MESSAGE:"MESSAGE",AGENT_ASSIGNMENT:"AGENT_ASSIGNMENT",CALL:"CALL"},E=a.a.createContext({}),C={[I.MESSAGE]:"https://sprcdn-assets.sprinklr.com/738/notification-4de93778-e7e2-403b-9035-46fddfe6df16-1610394477.mp3",[I.AGENT_ASSIGNMENT]:"https://sprcdn-assets.sprinklr.com/787/6279cf0d-c15c-4f6b-8889-d1be2f9c0264-2132784780.mp3",[I.CALL]:"https://sprcdn-assets.sprinklr.com/787/64639b8e-faae-45ad-b7c5-450884c15e2f-2786217496.mp3"},S=e=>{let{children:t}=e;const n=Object(c.d)(m.h),a=Object(v.d)(n),r=Object(O.a)({category:"LIVE_CHAT",userId:a}),[d,,u,p]=i()({src:"","data-testid":"messageAudio",preload:"none"}),[b,,h,g]=i()({src:"","data-testid":"callPickedByAgentNotifAudio",preload:"none"}),[S,,T,_]=i()({src:"",loop:!0,"data-testid":"callAudio",preload:"none"}),x=Object(l.a)(),A=(()=>{const e=Object(c.d)(y).enableSoundNotification.enabled,t=f();return e&&t})(),R=f(),w=Object(o.useCallback)((()=>{p.current&&(p.current.src=C.MESSAGE),g.current&&(g.current.src=C.AGENT_ASSIGNMENT),_.current&&(_.current.src=C.CALL)}),[]),N=Object(o.useCallback)((e=>{switch(e){case I.MESSAGE:return A?u.play():Promise.resolve();case I.AGENT_ASSIGNMENT:return h.play();case I.CALL:return T.play()}return Promise.resolve()}),[u,h,T,A]),L=Object(o.useCallback)((e=>{var t;return null===(t=N(e))||void 0===t?void 0:t.catch((t=>r.warning(`Sound Notification Failed for ${e}:  ${t}`)))}),[N]),D=Object(o.useCallback)((e=>{switch(e){case I.MESSAGE:return u.pause();case I.AGENT_ASSIGNMENT:return h.pause();case I.CALL:return T.pause()}}),[u,h,T]),M=Object(o.useMemo)((()=>({play:L,pause:D})),[L,D]);return Object(j.jsx)(E.Provider,{value:M},Object(j.jsx)(s.b,{onClick:w},R&&d,x&&b,x&&S,t))};t.c=E},669:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var o=n(814);const a=e=>{let{file:t,conversationId:n,sender:a,inReplyToChatMessageId:r}=e;return{type:o.b,payload:{file:t,conversationId:n,chatUserId:a,inReplyToChatMessageId:r}}},r=(e,t)=>{let{initialMessages:n,createCase:a,conversationContext:r,silent:i,assignToUser:c,additional:s}=e;return{type:o.c,payload:{initialMessages:n,createCase:a,assignToUser:c,silent:i,conversationContext:r,additional:s},promise:t}},i=(e,t)=>{let{conversationId:n}=e;return{type:o.a,payload:{conversationId:n},promise:t}}},677:function(e,t,n){var o=n(201),a=n(824),r=n(733),i=n(672),c=o((function(e,t){var n=i(t,r(c));return a(e,32,void 0,t,n)}));c.placeholder={},e.exports=c},678:function(e,t,n){"use strict";n.d(t,"p",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"l",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return O})),n.d(t,"i",(function(){return m}));var o=n(738);function a(){return{type:o.m,payload:{}}}function r(e){let{messageId:t,conversationId:n,agentId:a}=e;return{type:o.i,payload:{messageId:t,conversationId:n,agentId:a}}}function i(){return{type:o.n,payload:{}}}function c(e){return{type:o.g,payload:{messageId:e.messageId,endedByAgent:e.endedByAgent,markCompletedSession:e.markCompletedSession}}}function s(e){return{type:o.h,payload:e}}function l(){return{type:o.d,payload:{}}}function d(e){return{type:o.f,payload:e}}function u(e){return{type:o.b,payload:e}}function p(){return{type:o.e,payload:{}}}function b(){return{type:o.c,payload:{}}}function f(e){return{type:o.a,payload:e}}function h(e){return{type:o.o,payload:e}}function g(e){return{type:o.p,payload:e}}function y(e){return{type:o.k,payload:e}}function O(e){return{type:o.l,payload:e}}const m=e=>({type:o.j,payload:e})},720:function(e,t,n){"use strict";var o=n(393),a=n(386),r=n(501),i=n.n(r),c=n(444),s=n(198),l=n.n(s),d=n(397),u=n(1032),p=n(388),b=n(389);const f=Object(p.a)("div",{target:"e1hxxqun0"})("border-radius:20px;background-color:",(e=>!e.svgLoaded&&Object(b.b)("azure")(e)),";");var h=n(387);const g=e=>{let{name:t,className:n,theme:r,window:c,css:s,onLoad:d,...p}=e;const b=Object(a.useMemo)((()=>`${t}_${i()()}`),[t]),[g,y]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{g&&d&&d()}),[g,d]),Object(a.useEffect)((()=>{const e=l()(r,["icons",t]);!async function(e,t,n,o){const a=e.document.getElementById(t),r=(await Object(u.a)(n)).documentElement.cloneNode(!0);r.setAttribute("class","spa full-height full-width"),r.setAttribute("style","top:0px; left:0px"),a&&a.appendChild(r),o()}(c,b,e,(()=>{y(!0)}))}),[b,t]),Object(h.jsx)(f,Object(o.a)({key:b,className:`spr ${n}`,css:s,id:b,svgLoaded:g,"data-testid":"Custom header icon"},p))},y=e=>{const{name:t,className:n,theme:o,css:r,onClick:i,onKeyPress:c,alt:s,onLoad:d}=e,u=l()(o,`icons.${t}`);if(Object(a.useEffect)((()=>{!u&&d&&d()}),[u,d]),u)return Object(h.jsx)(g,e);const p=s;return Object(h.jsx)(p,{className:n,css:r,onClick:i,onKeyPress:c,"aria-hidden":e["aria-hidden"],focusable:!!e.focusable})};t.a=Object(a.memo)(Object(d.c)((e=>Object(h.jsx)(c.FrameContextConsumer,null,(t=>{let{window:n}=t;return Object(h.jsx)(y,Object(o.a)({},e,{window:n}))})))))},723:function(e,t,n){var o=n(20).isFinite;e.exports=function(e){return"number"==typeof e&&o(e)}},724:function(e,t){e.exports=function(e){return null===e}},725:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n(812).a)},726:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return h}));var o=n(554),a=n.n(o),r=n(124),i=n.n(r),c=n(83),s=n.n(c),l=n(429),d=n.n(l),u=n(126);const p={};function b(e,t){const{topic:n,subscriber:o}=t;if(d()(n)&&s()(o)){const e=p[n];p[n]=e?[...e,o]:[o]}}function f(e,t){const{topic:n,subscriber:o}=t;if(d()(n)&&s()(o)){const e=p[n],t=a()(e,(e=>e===o));-1!==t&&(e.splice(t,1),p[n]=e)}}function h(e){let{topic:t,payload:n}=e;const o=p[t];i()(o,((e,t)=>{try{e(n)}catch(o){Object(u.a)(o)}}))}},727:function(e,t,n){var o=n(87),a=n(243),r=n(202),i=n(983),c=n(1355),s=n(203),l=n(85);e.exports=function(e,t,n){if((e=l(e))&&(n||void 0===t))return a(e);if(!e||!(t=o(t)))return e;var d=s(e),u=s(t),p=c(d,u),b=i(d,u)+1;return r(d,p,b).join("")}},729:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(393);var o=n(386),a=n.n(o),r=n(394),i=n(455),c=n(43),s=n(571),l=n(387);const d=a.a.createContext({});t.b=e=>{const[t,n]=Object(o.useState)((()=>Object(i.a)())),a=Object(r.a)(),{subscribe:u}=Object(s.a)();Object(o.useEffect)((()=>{const e=u("page-context-change-subscriber",(()=>{n(Object(i.a)())}));return()=>{e()}}),[]);const p=Object(o.useMemo)((()=>({...t,device:a?c.b:c.a})),[t,a]);return Object(l.jsx)(d.Provider,{value:p},e.children)}},740:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(386);t.default=function(e){var t=o.useRef();return o.useEffect((function(){t.current=e})),t.current}},741:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(386);const a=e=>{const t=Object(o.useRef)(e);return t.current=e,t}},742:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b}));var o=n(386),a=n.n(o),r=n(391),i=n(535),c=n(667),s=n(457),l=n(12),d=n(387);const u="sessionExpiryModal",p=a.a.createContext(null),b=Object(o.memo)((e=>{const[t,n]=Object(o.useState)(null),[a,b]=Object(i.a)(u),f=Object(r.c)(),h=Object(l.L)();return Object(o.useEffect)((()=>{const e=c.d.on((e=>{switch(e.type){case c.c:n(e.payload.targetDate);break;case c.b:n(null)}}));return()=>e()}),[h]),Object(o.useEffect)((()=>{if(t)return h&&f({type:s.d}),void b(!0);a&&b(!1)}),[t]),Object(d.jsx)(p.Provider,{value:t},e.children)}));t.c=p},743:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={NEW:"NEW",EXISTING:"EXISTING",LAST:"LAST"}},744:function(e,t,n){"use strict";var o=function(){};e.exports=o},745:function(e,t,n){"use strict";var o=n(386),a=n(663);n.d(t,"a",(function(){return a.b})),t.b=function(){return Object(o.useContext)(a.c)}},746:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(390);const a=Object(o.g)({agentViewingYourScreen:{id:"agentViewingYourScreen",defaultMessage:"{agentName} is viewing your screen"},agentControllingYourScreen:{id:"agentControllingYourScreen",defaultMessage:"{agentName} is controlling your screen"},screenSharing:{id:"screenSharing",defaultMessage:"Screen Sharing"},screenInControl:{id:"screenInControl",defaultMessage:"Screen in Control"},stopScreenControl:{id:"stopScreenControl",defaultMessage:"Stop Screen Control"},stopCobrowsing:{id:"stopCobrowsing",defaultMessage:"Stop Co-browsing"},allowScreenControl:{id:"allowScreenControl",defaultMessage:"Allow Screen Control"},cobrowseRemoteControlConfirmationMessage:{id:"cobrowseRemoteControlConfirmationMessage",defaultMessage:"{agentName} is requesting permission to control your screen. Clicking \u2018Accept\u2019 will allow {agentName} to interact with your screen."},accept:{id:"accept",defaultMessage:"Accept"},deny:{id:"deny",defaultMessage:"Deny"},settingUpCobrowsing:{id:"settingUpCobrowsing",defaultMessage:"Setting up Co-browsing with {agentName}"},cobrowsingFailed:{id:"cobrowsingFailed",defaultMessage:"Co-browsing Failed"},settingUpWentWrong:{id:"settingUpWentWrong",defaultMessage:"Sorry, something went wrong while setting up. Please try again in sometime."}})},747:function(e,t,n){"use strict";var o=n(386),a=n(1025);t.a=function(){const e=Object(o.useContext)(a.a),t=Object(o.useRef)(null);return Object(o.useEffect)((()=>()=>{t.current&&e.removePublisher(t.current)}),[]),Object(o.useCallback)((n=>{t.current=n.current,t.current&&e.addPublisher(t.current)}),[e])}},748:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={BOX:"box",BUBBLE:"bubble",COLLABORATORS:"collaborators",CLOUD:"cloud",MIC:"mic",ELLIPSIS:"ellipsis",ELLIPSIS_STROKE:"ellipsis-stroke",CROSS:"cross",CHEVRON:"chevron",MINIMIZE:"minimize"}},797:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var o=n(393),a=n(386),r=n.n(a),i=n(82),c=n.n(i),s=n(391),l=n(394),d=n(400),u=n(740),p=n.n(u),b=n(489),f=n(745),h=n(507),g=n(663),y=n(405),O=n(488);const m=e=>Object(O.w)(Object(y.b)(e));var v=n(470);function j(){!function(){const e=Object(s.d)(m),{play:t,pause:n}=Object(f.b)(),o=Object(b.a)(),r=Object(h.a)();Object(a.useEffect)((()=>(e&&(o.info({message:"Playing incoming ringing tone"}),r.info({eventType:"CALL_RINGING"}),t(g.b.CALL)),()=>{o.info({message:"Pausing incoming ringing tone"}),n(g.b.CALL)})),[e,o])}(),function(){const e=Object(s.d)(v.u),{play:t,pause:n}=Object(f.b)(),o=Object(b.a)();Object(a.useEffect)((()=>(e&&(o.info({message:"Playing Outgoing ringing tone"}),t(g.b.CALL)),()=>{o.info({message:"Pausing Outgoing ringing tone"}),n(g.b.CALL)})),[e,o])}()}var I=n(1024),E=n(1028),C=n(449),S=n(398),T=n(403),_=n(407),x=n(387);const A=e=>Object(O.e)(Object(y.b)(e)),R=e=>Object(O.g)(Object(y.b)(e)),w=e=>Object(C.g)(Object(S.b)(e)),N=e=>Object(O.w)(Object(y.b)(e)),L=e=>Object(O.j)(Object(y.b)(e)),D=e=>Object(O.l)(Object(y.b)(e)),M=Object(T.a)((()=>n.e(15).then(n.bind(null,1872)))),P=e=>{const t=Object(l.a)(),n=Object(s.d)(R),r=Object(s.d)(A),i=Object(s.d)(N),u=Object(s.d)(w),f=Object(d.a)(_.g),h=Object(s.d)(L),g=Object(s.d)(D),y=Object(b.a)();j();const O=p()(h);return Object(a.useEffect)((()=>{t&&u&&h&&h!==O&&f()}),[t,u,h,O,f]),Object(a.useEffect)((()=>{const e=()=>{y.info({message:`Currently on live chat tab: ${!document.hidden}`})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[y]),c()(n)&&(i||c()(r))||t&&u&&!g?null:Object(x.jsx)(a.Suspense,{fallback:null},Object(x.jsx)(M,Object(o.a)({},e,{outgoingCallDetails:n,incomingCallDetails:r})))},k=e=>Object(O.d)(Object(y.b)(e)),U=e=>Object(O.q)(Object(y.b)(e)),F=e=>{const t=Object(s.d)(k),n=Object(s.d)(U);return Object(x.jsx)(E.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId},Object(x.jsx)(I.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId,isAudioCall:n},Object(x.jsx)(P,e)))};t.b=r.a.memo(F)},801:function(e,t,n){"use strict";var o=n(388),a=(n(386),n(389)),r=n(423),i=n(393),c=n(390),s=n(387);var l=e=>Object(s.jsx)("div",{className:"sr-only"},Object(s.jsx)(c.b,Object(i.a)({},e.message,{values:{count:`${e.unreadCount}`}})));const d=Object(o.a)("div",{target:"e1bo82op0"})("background:",Object(a.f)("notification.backgroundColor"),";color:",Object(a.f)("notification.color"),";font-size:",Object(a.e)("xs"),";font-weight:600;box-shadow:0px 2px 4px 0px rgba(0,0,0,0.2);border-radius:50%;");t.a=function(e){return Object(s.jsx)(d,{"aria-live":"polite",className:`center-x-y ${e.className}`},Object(s.jsx)(l,{message:1===e.count?r.a.newNotification:r.a.newNotifications}),(t=e.count)>=10?"9+":t);var t}},814:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));const o="@conversation/NEW_CONVERSATION_OPEN",a="@conversation/EXISTING_CONVERSATION_OPEN",r="@conversation/MEDIA_SEND"},829:function(e,t,n){var o=n(144),a=n(135),r=n(29),i=n(429),c=n(597);e.exports=function(e){if(null==e)return 0;if(r(e))return i(e)?c(e):e.length;var t=a(e);return"[object Map]"==t||"[object Set]"==t?e.size:o(e).length}},832:function(e,t,n){"use strict";var o=n(386),a=n(391),r=n(426),i=n(490),c=n(405),s=n(435),l=n(432),d=n(833);const u=(new r.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build(),p="AUDIO_CALL",b="VIDEO_CALL";t.a=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:r}=e;const[l]=Object(i.a)(u,{ignoreResults:!0}),f=Object(o.useCallback)((e=>{const t=Date.now();return e.forEach((e=>{e.offsetTime=t-e.logTime})),l(e)}),[l]),h=Object(a.d)(c.h),g=Object(s.d)(h),y=r?p:b,O=Object(o.useCallback)((e=>{const{message:o}=e;return{videoConversationId:t,logMessage:`USER: ${o}`,loggerSnUserId:g,category:y,loggerSnType:"SPRINKLR_LIVE_CHAT",logTime:Date.now(),additionalDetails:{conversationId:n}}}),[n,t,g,y]),m=Object(o.useMemo)((()=>new d.a(f,{batch:!0,adapter:O,skip:!t})),[f,O,t]);return Object(o.useEffect)((()=>()=>{m.cleanup()}),[]),m}},833:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(126),a=n(122);const r="debug",i="info",c="warning",s="error";class l{constructor(e,t){let{batch:n,skip:l,adapter:d}=t;this.batch=void 0,this.logFn=void 0,this.logQueue=void 0,this.batchTimeoutId=void 0,this.skip=void 0,this.adapter=void 0,this.batchLogs=()=>{this.batchTimeoutId&&clearTimeout(this.batchTimeoutId),this.batchTimeoutId=window.setTimeout((()=>{this.logQueue.length&&(this.logFn(this.logQueue),this.logQueue=[]),this.batchLogs()}),5e3)},this.log=e=>{if(this.skip)return;(e=>{const{level:t,message:n,category:l}=e,d=`timeStamp: ${Date.now()} category: ${l} message: ${n}`;switch(t){case r:Object(o.a)(d);break;case s:Object(a.b)(d);break;case i:console.info(d);break;case c:console.warn(d)}})(e);const t=this.adapter(e);return this.batch?(this.batchTimeoutId||this.batchLogs(),this.logQueue.push(t)):this.logFn(t)},this.debug=e=>{this.log({...e,level:r})},this.info=e=>{this.log({...e,level:i})},this.warning=e=>{this.log({...e,level:c})},this.error=e=>{this.log({...e,level:s})},this.cleanup=()=>{this.batchTimeoutId&&(clearTimeout(this.batchTimeoutId),this.logQueue.length&&this.logFn(this.logQueue))},this.logFn=e,this.logQueue=[],this.batch=!!n,this.skip=l,this.adapter=d,this.batchTimeoutId=null}}},834:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(419),a=n(428);const r=()=>{const e=Object(o.a)();return!!e&&!!a.a.getCallAccountId(e)}},836:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={BUNDLE_DOWNLOAD_FAILED:"BUNDLE_DOWNLOAD_FAILED",SESSION_CREATION_FAILED:"SESSION_CREATION_FAILED",OTP_SEND_FAILED:"OTP_SEND_FAILED",POSTBACK_SEND_FAILED:"POSTBACK_SEND_FAILED",RESUME_SESSION_FAILED:"RESUME_SESSION_FAILED"}},837:function(e,t,n){"use strict";var o=n(386),a=n(544);t.a=(e,t)=>{const[n,r]=Object(o.useState)(),i=Object(a.a)(e,t);Object(o.useEffect)((()=>{const o=[];if(n)if(e.ResizeObserver){const a=new e.ResizeObserver(t);a.observe(n),o.push((()=>a.disconnect()))}else i(n);return()=>{o.forEach((e=>e()))}}),[n]);return Object(o.useCallback)((e=>{e&&r(e)}),[])}},838:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o,a=n(386);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function i(e,t){let{title:n,titleId:i,...c}=e;return a.createElement("svg",r({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 12 14",enableBackground:"new 0 0 12 14",xmlSpace:"preserve",ref:t,"aria-labelledby":i},c),n?a.createElement("title",{id:i},n):null,o||(o=a.createElement("g",{id:"engagement-score"},a.createElement("g",{id:"Smart-asset-recommendation_01-Copy-34",transform:"translate(-411.000000, -423.000000)"},a.createElement("g",{id:"sid-attachment",transform:"translate(411.000000, 423.000000)"},a.createElement("path",{id:"Path",d:"M4.198631,14c-0.795512,0-1.522396-0.264849-1.975732-0.533564 c-0.935669-0.604609-1.488565-1.349375-1.661586-2.226082c-0.269682-1.364355,0.514231-2.51606,0.548062-2.56439 L6.67506,0.873082c1.065194-1.312643,2.615621-0.865591,3.290308-0.449953 c1.521429,1.023147,1.054561,2.670234,0.598326,3.400017L6.271988,10.15873 c-0.629257,1.008649-1.688651,0.968534-2.244446,0.690638c-0.036731-0.018849-0.072495-0.04108-0.105359-0.067179 c-0.939536-0.751049-0.665021-1.85394-0.25035-2.41167l3.49426-5.083352C7.351682,3.016519,7.721889,2.94789,7.99157,3.133961 c0.270648,0.186071,0.339277,0.555795,0.152723,0.82596L4.637467,9.060672 C4.509876,9.241426,4.356186,9.554121,4.612336,9.807854C4.772792,9.864884,5.048273,9.876,5.27639,9.511591l4.291706-6.33655 c0.103426-0.170605,0.640856-1.156538-0.245517-1.753897c-0.086994-0.050747-1.072927-0.605092-1.70315,0.171571 l-5.53862,7.766636l0,0c0,0-0.52873,0.794545-0.352809,1.660136c0.111159,0.545162,0.488133,1.028462,1.12029,1.437335 c0.171088,0.09956,1.90517,1.040545,3.079589-0.574644l4.485993-6.424994c0.18752-0.269198,0.557729-0.335411,0.827411-0.14644 c0.268715,0.187521,0.334443,0.557728,0.146922,0.826927l-4.492759,6.433692C6.1096,13.653474,5.108202,14,4.198631,14z"}))))))}const c=a.forwardRef(i);n.p},839:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));const o={NEW_CONVERSATION:"NEW_CONVERSATION",CLOSE:"CLOSE",URL:"OPEN_URL"},a={ENGAGED:"ENGAGED",CLOSED:"CLOSED",TRIGGERED:"TRIGGERED"}},840:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(386),a=n.n(o),r=n(387);const i=a.a.createContext("MOBILE");t.b=e=>Object(r.jsx)(i.Provider,{value:e.device},e.children)},841:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(430);const a=(e,t)=>{const n={conversationId:t};return e?{type:o.bb,payload:n}:{type:o.cb,payload:n}}},843:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return g}));var o=n(82),a=n.n(o),r=n(198),i=n.n(r),c=n(826),s=n(524),l=n(1039),d=n(440);const u=e=>({[c.a.MIC]:!1,[c.a.CAMERA]:!1,[c.a.DRAG]:!e,[c.a.FULL_SCREEN]:e}),p=e=>e===s.c.WAITING,b=e=>e===s.e.WAITING?s.e.WAITING:s.e.SETUP,f=(e,t)=>((e,t)=>{switch(e.state){case l.a.CALL_INITIATED:case l.a.CALL_STARTING:return t.WAITING;case l.a.CALL_OFFER_ACCEPTED:return t.SETUP;default:return t.JOINED}})(e,t?s.c:s.e),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?d.a.AUDIO_CALL_JOIN_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_CTA_CLICKED:e?d.a.AUDIO_CALL_JOIN_BACK_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_BACK_CTA_CLICKED},g=e=>{let{callDetails:t,rejoiningVideoConversationId:n}=e;const o=i()(t,"state"),r=o===s.c.FAILED||o===s.e.FAILED;return!a()(t)&&(t.videoConversationId!==n||!r||!((c=t.reason)===s.b.REJOINING_FAILED_DUE_TO_OTHER_REASONS||c===s.d.REJOINING_FAILED_DUE_TO_OTHER_REASONS));var c}},941:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z})),n.d(t,"c",(function(){return h.h})),n.d(t,"d",(function(){return h.i})),n.d(t,"b",(function(){return h.g})),n.d(t,"e",(function(){return h.m}));var o=n(393),a=n(386),r=n.n(a),i=n(387),c=n(391),s=n(397),l=n(390),d=n(740),u=n.n(d),p=n(444),b=n(82),f=n.n(b),h=n(579),g=n(955),y=n(956),O=n(401),m=n(747),v=n(400),j=n(421),I=n(422),E=n(394),C=n(198),S=n.n(C),T=n(419),_=n(660),x=n(428),A=n(406);var R=n(407),w=n(126),N=n(398),L=n(449);const D=e=>Object(L.g)(Object(N.b)(e)),M=e=>Object(N.b)(e).meta.isTriggerHiddenDueToDisplayConfig;var P=n(502),k=n(405),U=n(435),F=n(457);const B=e=>Object(N.b)(e).meta.isTriggerManuallyHidden,G=()=>{(()=>{const e=Object(v.a)(R.h),t=Object(T.a)(),n=x.a.getNoDisplayConfigFilter(t),{hasPassed:o}=Object(_.a)(n,{defaultValue:!1,logOnSuccess:!0}),a=Object(c.d)(D),r=Object(c.d)(M);!f()(n)&&a&&r!==o&&(o&&Object(w.a)("Sprinklr Chat hidden by display criteria"),e({value:o}))})();const e=Object(v.a)(R.c),t=Object(O.a)().trigger.hideTimeout,n=Object(c.c)(),o=Object(a.useRef)(null),r=Object(a.useRef)(!t),i=Object(c.d)(B),s=Object(c.d)(k.h),l=Object(U.d)(s);r.current||(r.current=!0,Object(P.c)(l).then((e=>{e&&Date.now()<=e?o.current=window.setTimeout((()=>{n({type:F.n,payload:{}})}),e-Date.now()):n({type:F.n,payload:{}})})));const d=Object(a.useCallback)((async()=>{t&&(await Object(P.l)(l,Date.now()+t),o.current=window.setTimeout((()=>{n({type:F.n,payload:{}})}),t)),e()}),[t,e,n,l]);return Object(a.useEffect)((()=>{i||(Object(P.i)(l),o.current&&(window.clearTimeout(o.current),o.current=null))}),[i]),d};var V=n(389),z=n(423),W=n(452),$=n(396),H=n(522);const q=e=>Object(L.g)(Object(N.b)(e)),K=e=>Object(L.f)(Object(N.b)(e)),Y=e=>Object(N.d)(e),X=e=>e?Math.ceil(e.clientWidth):0;var Z=r.a.memo(Object(l.h)((e=>{const t=Object(a.useRef)(null),n=Object(O.a)(),r=Object(s.b)(),l=Object(E.a)(),d=Object(a.useRef)(),b=Object(a.useRef)(),C=Object(j.a)()(A.a.getTriggerConfig(n),"label"),w=G(),[L,D]=Object(a.useState)(!0),[M,P]=Object(a.useState)(C),[k,U]=Object(a.useState)(!1),[F,B]=Object(a.useState)(!1),[Z,J]=Object(a.useState)(!1),[Q,ee]=Object(a.useState)(0),te=Object(c.d)(N.b),ne=Object(c.d)(q),oe=Object(c.d)(K),ae=Object(c.d)(Y),re=Object(v.a)(R.g),ie=Object(I.a)(),ce=A.a.getAnimationInfoOfTrigger(n),{showChatTriggerAnimation:se}=(()=>{const[e,t]=Object(a.useState)(!1),n=Object(T.a)(),o=x.a.getTriggerAnimationConfigFilter(n),{hasPassed:r}=Object(_.a)(o,{defaultValue:!1,logOnSuccess:!0}),i=A.a.getAnimationInfoOfTrigger(x.a.getCustomizationConfig(n)),c=S()(i,"effect");return Object(a.useEffect)((()=>{!f()(o)&&c&&t(r)}),[o,c,r]),{showChatTriggerAnimation:e}})(),le=u()(oe),de=u()(Z),ue=u()(M);Object(a.useEffect)((()=>{(le||!de)&&!(oe||!Z)&&ie({action:H.a.TRIGGER_VISIBLE})}),[Z,de,oe,le,ie]),Object(a.useEffect)((()=>(Z&&!l&&(d.current=window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{B(!0)}))}))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[Z,l]),Object(a.useEffect)((()=>{const e=l?"":C;ue!==e&&P(e)}),[l,C,ue]);const pe=e.intl.formatMessage,be=A.a.canTriggerBeManuallyRemoved(n)&&ne&&f()(ae),fe=Object(a.useMemo)((()=>Object(V.f)("trigger.icon.type")({theme:r})),[r]),he=Object(a.useMemo)((()=>Object(V.f)("trigger.closeIcon.type")({theme:r})),[r]),ge=Object(m.a)(),ye=Object(a.useCallback)((()=>{re(!ne)}),[ne,re]),Oe=Object(a.useCallback)((()=>{k&&(J(!0),ee(X(b.current))),ge(t)}),[k,ge]),me=Object(a.useCallback)((()=>{ee(X(b.current))}),[]),ve=Object(a.useCallback)((e=>{U(e),J(e),ee(X(b.current))}),[]),je=Object(a.useCallback)((e=>{D(e)}),[]);return oe||l&&!ne?null:Object(i.jsx)(h.e,{enableTriggerHideIcon:be,applyRemoveIconStyles:L,"data-testid":"triggerContainer"},Object(i.jsx)(h.f,{showTrigger:Z,showLabel:ne&&!!M,css:se?Object(h.l)({triggerAnimationInfo:ce,theme:r}):"",labelWidth:Q,enableTriggerWidthTransition:F,theme:r,className:"spr-chat__trigger-box spr-live-chat-frame"},Object(i.jsx)(g.a,null,(e=>{let{ChatTriggerPage:n}=e;return Object(i.jsx)(h.a,{"aria-label":pe(z.a.liveChat),name:"spr-chat__trigger-frame",contentDidMount:Oe},Object(i.jsx)(i.Global,{styles:Object(h.k)(r,{isMinimized:ne})}),Object(i.jsx)("div",{className:"full-height full-width",ref:t},Object(i.jsx)(p.FrameContextConsumer,null,(e=>{let{window:t}=e;return Object(i.jsx)(y.a,{window:t,onResize:me,resizeRefs:b},(e=>Object(i.jsx)(n,Object(o.a)({},te,{triggerIconName:fe,closeIconName:he,label:M,innerLabelRef:e,onClick:ye,onLoad:ve,toggleRemoveIconVisibility:je}))))}))))}))),be&&Object(i.jsx)(h.c,{onClick:w,"data-testid":"triggerCloseIconContainer"},Object(i.jsx)(h.d,null,Object(i.jsx)(h.b,{alt:W.a,name:$.a.CLOSE}))))})))},955:function(e,t,n){"use strict";var o=n(386),a=n(388);const r=Object(a.a)("div",{target:"e1ippspd0"})({name:"1enwibq",styles:"position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;"});var i=n(415),c=n(1019),s=n(12),l=n(387);t.a=e=>{const t=Object(c.a)(),[a,d]=Object(o.useState)();Object(o.useEffect)((()=>{n(1020)(`./${t.toLowerCase()}/pages`).then((e=>{d(e)}))}),[]);let u=null;return Object(s.K)()&&!a&&(u=Object(l.jsx)(i.c,{className:"flex-row-container center-x-y full-height"})),a&&(u=e.children(a)),Object(l.jsx)(r,{className:e.className},u)}},956:function(e,t,n){"use strict";var o=n(386),a=n.n(o),r=n(505),i=n.n(r),c=n(837),s=n(465),l=n(387);var d=e=>{const t=Object(c.a)(e.window,e.onResize),n=Object(o.useMemo)((()=>[...i()(e.resizeRefs||[]),t]),[t,e.resizeRefs]),r=Object(s.a)(...n);return Object(l.jsx)(a.a.Fragment,null,e.children(r))};t.a=d},957:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return m}));var o=n(124),a=n.n(o),r=n(1444),i=n.n(r),c=n(23),s=n.n(c),l=n(82),d=n.n(l),u=n(521),p=n.n(u);function b(e){const t=function(e){let{url:t,data:n,method:o="GET",contentType:r}=e;const c=p()(),l=document.createElement("form"),{body:u}=document;if(l.setAttribute("id",`spr-chat-download-form-${c}`),l.setAttribute("target","_top"),l.setAttribute("action",t),l.setAttribute("method",o),l.style.display="none",r&&(l.enctype=r),!d()(n)){let e="";a()(n,((t,n)=>{e+=`<input type="hidden" id="${n}" name="${n}" value=${s()(t)?`'${i()(JSON.stringify(t))}'`:`"${i()(t)}"`} />`})),l.innerHTML=e}return u.appendChild(l),l}(e);t.submit(),setTimeout((()=>{var e;(e=t)&&e.parentNode&&e.parentNode.removeChild(e)}),3e4)}var f=n(15),h=n(502),g=n(127),y=n(455);async function O(e){const t=await Object(h.a)(g.a.getAppId(Object(f.a)()));b({url:"https://prod3-live-chat.sprinklr.com/api/livechat/conversation/downloadChatTranscript",data:{timeZone:Object(y.f)(),"x-chat-token":t,conversationId:e}})}async function m(e){const t=await Object(h.a)(g.a.getAppId(Object(f.a)()));b({url:"https://prod3-live-chat.sprinklr.com/api/livechat/conversation/downloadAttachment",data:{timeZone:Object(y.f)(),"x-chat-token":t,...e}})}},982:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={ALL_SYSTEMS_OPERATIONAL:"ALL_SYSTEMS_OPERATIONAL",SERVICE_UNDER_MAINTENANCE:"SERVICE_UNDER_MAINTENANCE",PARTIALLY_DEGRADED_SERVICE:"PARTIALLY_DEGRADED_SERVICE",DEGRADED_SYSTEM_SERVICE:"DEGRADED_SYSTEM_SERVICE",MINOR_SYSTEM_OUTAGE:"MINOR_SYSTEM_OUTAGE",PARTIAL_SYSTEM_OUTAGE:"PARTIAL_SYSTEM_OUTAGE",MAJOR_SYSTEM_OUTAGE:"MAJOR_SYSTEM_OUTAGE"}},983:function(e,t,n){var o=n(670);e.exports=function(e,t){for(var n=e.length;n--&&o(t,e[n],0)>-1;);return n}}}]);